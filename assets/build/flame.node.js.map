{"version":3,"file":"flame.node.js","sources":["../../../charcoal/source/line_container.mjs","../../../whind/source/ascii_code_points.mjs","../../../whind/source/tables/basic.mjs","../../../whind/source/whind.mjs","../../../charcoal/source/line.mjs","../../../charcoal/source/cursor.mjs","../../../charcoal/source/text_framework.mjs","../../../charcoal/source/font.mjs","../../../charcoal/source/text_io.mjs","../../../ll/ll.mjs","../../../color/color.mjs","../../../css/source/types/color.mjs","../../../css/source/types/percentage.mjs","../../../css/source/types/length.mjs","../../../url/url.mjs","../../../css/source/types/url.mjs","../../../css/source/types/string.mjs","../../../css/source/types/id.mjs","../../../css/source/types/shape.mjs","../../../css/source/types/number.mjs","../../../maths/source/point.mjs","../../../maths/source/cubic_bezier.mjs","../../../maths/source/quadratic_bezier.mjs","../../../css/source/types/cubic_bezier.mjs","../../../css/source/types/gradient.mjs","../../../css/source/types/media.mjs","../../../css/source/types/transform.mjs","../../../css/source/types/path.mjs","../../../css/source/properties/property_and_type_definitions.mjs","../../../css/source/nodes.mjs","../../../css/source/properties/productions.mjs","../../../css/source/properties/terms.mjs","../../../css/source/properties/parser.mjs","../../../css/source/body.mjs","../../../css/source/css.mjs","../source/interface/actions/cache.mjs","../source/interface/actions/text.mjs","../source/interface/actions/common.mjs","../source/interface/actions/dimensions.mjs","../source/interface/actions/position.mjs","../source/interface/actions/move.mjs","../source/interface/actions/complete.mjs","../../../wick/source/short_names.mjs","../../../spark/source/spark.mjs","../../../wick/source/model/base.mjs","../../../wick/source/schema/constructor.mjs","../../../wick/source/model/container/base.mjs","../../../wick/source/model/container/multi.mjs","../../../wick/source/schema/types/number.mjs","../../../wick/source/schema/types/date.mjs","../../../wick/source/schema/types/time.mjs","../../../wick/source/schema/types/string.mjs","../../../wick/source/schema/types/bool.mjs","../../../wick/source/schema/schemas.mjs","../../../wick/source/model/container/btree.mjs","../../../wick/source/model/container/array.mjs","../../../wick/source/model/model.mjs","../../../wick/source/model/store.mjs","../../../wick/source/presets.mjs","../../../wick/source/model/schemed.mjs","../../../wick/source/view.mjs","../../../wick/source/source/manager.mjs","../../../html/source/html.mjs","../../../wick/source/source/tap/tap.mjs","../../../wick/source/source/source.mjs","../../../wick/source/source/io/io.mjs","../../../wick/source/source/io/style_io.mjs","../../../wick/source/source/io/expression_io.mjs","../../../wick/source/source/io/event_io.mjs","../../../wick/source/source/io/script_io.mjs","../../../wick/source/source/compiler/template/basic_bindings.mjs","../../../wick/source/js.mjs","../../../wick/source/barriers.mjs","../../../wick/source/source/compiler/template/template_evaluator.mjs","../../../wick/source/source/compiler/template/template_bindings.mjs","../../../wick/source/source/compiler/nodes/root.mjs","../../../wick/source/source/compiler/nodes/void.mjs","../../../wick/source/source/compiler/nodes/script.mjs","../../../wick/source/source/compiler/nodes/source.mjs","../../../wick/source/source/compiler/nodes/link.mjs","../../../glow/source/animation.mjs","../../../glow/source/transformto.mjs","../../../glow/source/transitioneer.mjs","../../../wick/source/source/template.mjs","../../../wick/source/source/io/filter_io.mjs","../../../wick/source/source/compiler/nodes/filter.mjs","../../../wick/source/source/compiler/nodes/package.mjs","../../../wick/source/source/compiler/nodes/template.mjs","../../../wick/source/source/compiler/nodes/style.mjs","../../../wick/source/source/compiler/nodes/svg.mjs","../../../wick/source/source/compiler/nodes/index.mjs","../../../wick/source/source/skeleton.mjs","../../../wick/source/source/compiler/compiler.mjs","../../../wick/source/source/package.mjs","../../../wick/source/library.mjs","../../../wick/source/wick.mjs","../source/component/component.mjs","../source/interface/actions/clear.mjs","../source/interface/actions/margin.mjs","../source/interface/actions/convert.mjs","../source/interface/actions/create.mjs","../source/interface/actions/color.mjs","../source/interface/actions/ui_panels.mjs","../source/interface/actions/history.mjs","../source/interface/actions/padding.mjs","../source/interface/actions/border.mjs","../source/interface/actions/action.mjs","../source/component/ui_component.mjs","../source/component/master_component.mjs","../source/interface/system/line_machine.mjs","../source/interface/system/svg_manager.mjs","../source/interface/input_handler/handler.mjs","../source/interface/input_handler/default.mjs","../source/interface/input_handler/element_draw.mjs","../source/interface/controls_widget.mjs","../source/interface/controls_manager.mjs","../source/interface/ui_manager.mjs","../source/js/js_manager.mjs","../source/wick_compiler_nodes/style.mjs","../source/css/css_component.mjs","../source/css/css_manager.mjs","../source/css/wick_css_nodes.mjs","../source/html/html_manager.mjs","../source/project/file_reader.mjs","../source/project/file_builder.mjs","../source/document/document.mjs","../source/document/wick_document.mjs","../source/document/css_document.mjs","../source/document/differ.mjs","../source/document/master_component_string.mjs","../source/document/doc_manager.mjs","../source/source/source.mjs","../source/wick_compiler_nodes/root.mjs","../source/wick_compiler_nodes/svg.mjs","../source/wick_compiler_nodes/text.mjs","../source/wick_compiler_nodes/source.mjs","../source/wick_compiler_nodes/template.mjs","../source/wick_compiler_nodes/package.mjs","../source/wick_compiler_nodes/script.mjs","../source/project/scheme.mjs","../source/color/color_framework.mjs","../source/project/project.mjs","../source/project/state_machine.mjs","../source/main.mjs"],"sourcesContent":["//Main dna for containing line tokens\r\nclass Container_Cell {\r\n    constructor(IS_LEAF = true) {\r\n        this.keys = [];\r\n        this.parent = null;\r\n        this.IS_LEAF = IS_LEAF;\r\n        this.IS_ROOT = false;\r\n        this.num_lines = 0;\r\n        this.num_virtual_lines = 0;\r\n        this.pixel_offset = 0;\r\n    }\r\n\r\n    getIndex() {\r\n        var keys = this.parent.keys;\r\n        for (var i = 0, l = keys.length; i < l; i++) {\r\n            if (keys[i] === this) return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getLine(offset) {\r\n        if (this.IS_LEAF) {\r\n            if (offset > this.num_lines) offset = this.num_lines - 1;\r\n            return this.keys[offset];\r\n        } else {\r\n            for (var i = 0, l = this.keys.length; i < l; i++) {\r\n                var key = this.keys[i];\r\n                if (offset < key.num_lines) {\r\n                    return key.getLine(offset);\r\n                } else offset -= key.num_lines;\r\n            }\r\n            return this.keys[this.keys.length - 1].getLine(offset);\r\n        }\r\n    }\r\n\r\n    getVirtualLine(offset) {\r\n        if (this.IS_LEAF) {\r\n            for (let i = 0, l = this.keys.length; i < l; i++) {\r\n                let line = this.keys[i];\r\n\r\n                if (offset < line.virtual_line_size && line.virtual_line_size > 0) {\r\n                    return line;\r\n                } else offset -= line.virtual_line_size;\r\n            }\r\n        } else {\r\n            for (let i = 0, l = this.keys.length; i < l; i++) {\r\n                let cell = this.keys[i];\r\n                if (offset < cell.num_virtual_lines) {\r\n                    return cell.getVirtualLine(offset);\r\n                } else offset -= cell.num_virtual_lines;\r\n            }\r\n            return this.keys[this.keys.length - 1].getVirtualLine(offset);\r\n        }\r\n    }\r\n\r\n    getLineAtPixelOffset(offset) {\r\n        if (this.IS_LEAF) {\r\n            for (let i = 0, l = this.keys.length; i < l; i++) {\r\n                let cell = this.keys[i];\r\n                if (offset < cell.pixel_height && cell.pixel_height > 0) {\r\n                    return cell;\r\n                } else offset -= cell.pixel_height;\r\n            }\r\n            return cell;\r\n        } else {\r\n            for (let i = 0, l = this.keys.length; i < l; i++) {\r\n                let cell = this.keys[i];\r\n                if (offset < cell.pixel_offset) {\r\n                    return cell.getLineAtPixelOffset(offset);\r\n                } else offset -= cell.pixel_offset;\r\n            }\r\n            return cell.getLineAtPixelOffset(offset);\r\n        }\r\n    }\r\n\r\n    getLineIndex(index, line, id) {\r\n        if (this.IS_LEAF) {\r\n            let i = 0;\r\n            for (let l = this.num_lines; i < l; i++) {\r\n                if (this.keys[i] === line) break;\r\n            }\r\n            index = i;\r\n        } else {\r\n            var sibs = this.keys;\r\n            let i = id;\r\n            while (i > 0) {\r\n                i--;\r\n                index += sibs[i].num_lines;\r\n            }\r\n        }\r\n\r\n        if (!this.parent.IS_ROOT) return this.parent.getLineIndex(index, null, this.getIndex());\r\n\r\n        return index;\r\n    }\r\n\r\n    getVirtualLineIndex(index, line, id) {\r\n        if (this.IS_LEAF) {\r\n            index = -1; //WTF\r\n            for (let i = 0, l = this.num_lines; i < l; i++) {\r\n                var key = this.keys[i];\r\n                index += key.virtual_line_size;\r\n                if (key === line) break;\r\n            }\r\n        } else {\r\n            var sibs = this.keys;\r\n            let i = id;\r\n            while (i > 0) {\r\n                i--;\r\n                index += sibs[i].num_virtual_lines;\r\n            }\r\n        }\r\n\r\n        if (!this.parent.IS_ROOT) return this.parent.getVirtualLineIndex(index, null, this.getIndex());\r\n\r\n\r\n        return index;\r\n    }\r\n\r\n    getPixelOffset(pixel_top, line, id) {\r\n        if (this.IS_LEAF) {\r\n            //pixel_top = -1; //WTF\r\n            for (let i = 0, l = this.num_lines; i < l; i++) {\r\n                var key = this.keys[i];\r\n                if (key === line) break;\r\n                pixel_top += key.pixel_height;\r\n            }\r\n        } else {\r\n            var sibs = this.keys;\r\n            let i = id;\r\n            while (i > 0) {\r\n                i--;\r\n                pixel_top += sibs[i].pixel_offset;\r\n            }\r\n        }\r\n\r\n        if (!this.parent.IS_ROOT) return this.parent.getPixelOffset(pixel_top, null, this.getIndex());\r\n\r\n        return pixel_top;\r\n    }\r\n\r\n    balanceInsert(max_size, IS_ROOT = false) {\r\n\r\n        if (this.keys.length >= max_size) {\r\n            //need to split this up!\r\n            let vl = this.num_virtual_lines,\r\n                nl = this.num_lines,\r\n                pl = this.pixel_offset;\r\n\r\n            let right = new Container_Cell(this.IS_LEAF);\r\n\r\n            let split = (max_size >> 1) | 0;\r\n            \r\n            let right_keys = this.keys.slice(split);\r\n            right_keys.forEach(k=>k.parent = right);\r\n            right.keys = right_keys;\r\n\r\n\r\n            let left_keys = this.keys.slice(0, split);\r\n            this.keys = left_keys;\r\n\r\n            //console.log(split, this.keys[this.keys.length-1].str, right.keys[0].str)\r\n\r\n            this.getLineCount();\r\n\r\n            right.num_lines = nl - this.num_lines;\r\n            right.num_virtual_lines = vl - this.num_virtual_lines;\r\n            right.pixel_offset = pl - this.pixel_offset;\r\n\r\n            if (IS_ROOT) {\r\n                let root = new Container_Cell(false);\r\n\r\n                root.num_lines = nl;\r\n                root.num_virtual_lines = vl;\r\n                root.pixel_offset = pl;\r\n\r\n                root.keys.push(this, right);\r\n                this.parent = root;\r\n                right.parent = root;\r\n                return root;\r\n            }\r\n\r\n            right.parent = this.parent;\r\n\r\n            return right;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n        Inserts model into the tree, sorted by identifier. \r\n    */\r\n    insert(index, line, max_size, IS_ROOT = false) {\r\n\r\n\r\n        let l = this.keys.length;\r\n\r\n        if (!this.IS_LEAF) {\r\n            let key;\r\n\r\n            for (var i = 0; i < l; i++) {\r\n\r\n                key = this.keys[i];\r\n\r\n                if (index < key.num_lines) {\r\n                    let out_key = key.insert(index, line, max_size, false);\r\n\r\n                    if (out_key !== key)\r\n                        this.keys.splice(i+1, 0, out_key);\r\n\r\n                    this.num_lines++;\r\n                    this.num_virtual_lines += line.virtual_line_size;\r\n                    this.pixel_offset += line.pixel_height;\r\n\r\n                    return this.balanceInsert(max_size, IS_ROOT);\r\n                } else\r\n                    index -= key.num_lines;\r\n            }\r\n\r\n            let out_key = key.insert(Infinity, line, max_size, false);\r\n\r\n            if (out_key !== key)\r\n                this.keys.push(out_key);\r\n\r\n            this.num_lines++;\r\n            this.num_virtual_lines += line.virtual_line_size;\r\n            this.pixel_offset += line.pixel_height;\r\n\r\n            return this.balanceInsert(max_size, IS_ROOT);\r\n\r\n        } else {\r\n\r\n            line.parent = this;\r\n\r\n            this.keys.splice(index, 0, line);\r\n\r\n            this.num_lines++;\r\n            this.num_virtual_lines += line.virtual_line_size;\r\n            this.pixel_offset += line.pixel_height;\r\n\r\n            return this.balanceInsert(max_size, IS_ROOT);\r\n        }\r\n    }\r\n\r\n    remove(start, end, min_size, IS_ROOT = false) {\r\n        let l = this.keys.length,\r\n            nl, vl, pl;\r\n\r\n        if (!this.IS_LEAF) {\r\n            let n = 0,\r\n                p = 0,\r\n                v = 0;\r\n\r\n            var key;\r\n\r\n            for (var i = 0; i < l; i++) {\r\n\r\n                key = this.keys[i];\r\n\r\n                if (start < key.num_lines) {\r\n                    let { nl, vl, pl } = key.remove(start, end, min_size, false);\r\n                    n += nl;\r\n                    v += vl;\r\n                    p += pl;\r\n                    break;\r\n                }\r\n\r\n                start -= key.num_lines;\r\n                end -= key.num_lines;\r\n            }\r\n            /*\r\n            if (start <= key.num_lines && end >= 0) {\r\n                let { nl, vl, pl } = key.remove(start, end, min_size, false);\r\n                n += nl;\r\n                v += vl;\r\n                p += pl;\r\n            }*/\r\n\r\n            for (i = 0; i < this.keys.length; i++) {\r\n                if (this.keys[i].keys.length < min_size) {\r\n                    if (this.balanceRemove(i, min_size)) {\r\n                        l--;\r\n                        i--;\r\n                    }\r\n                }\r\n            }\r\n\r\n            nl = n;\r\n            pl = p;\r\n            vl = v;\r\n\r\n        } else {\r\n            let v = 0,\r\n                p = 0,\r\n                n = 0;\r\n            let line = this.keys[start];\r\n            this.keys.splice(start, 1);\r\n            n++;\r\n            v += line.virtual_line_size;\r\n            p += line.pixel_height;\r\n\r\n            /*\r\n            for (let i = 0, j = 0, l = this.keys.length; i < l && j <= end; i++, j++) {\r\n                if (j >= start && j <= end) {\r\n                    let line = this.keys[i];\r\n                    this.keys.splice(i, 1);\r\n                    l--;\r\n                    i--;\r\n                    n++;\r\n                    v += line.virtual_line_size;\r\n                    p += line.pixel_height;\r\n                }\r\n            }\r\n            */\r\n            nl = n;\r\n            pl = p;\r\n            vl = v;\r\n        }\r\n\r\n        this.num_lines -= nl;\r\n        this.num_virtual_lines -= vl;\r\n        this.pixel_offset -= pl;\r\n\r\n        return { nl, vl, pl };\r\n    }\r\n\r\n    balanceRemove(index, min_size) {\r\n        let left = this.keys[index - 1];\r\n        let right = this.keys[index + 1];\r\n        let key = this.keys[index];\r\n        let n = 1,\r\n            v = 0,\r\n            p = 0;\r\n\r\n        //Left rotate\r\n        if (left && left.keys.length > min_size) {\r\n            let lk = left.keys.length;\r\n            let tsfr = left.keys[lk - 1];\r\n            key.keys.unshift(tsfr);\r\n            left.keys.length = lk - 1;\r\n            \r\n            tsfr.parent = key;\r\n\r\n            if (key.IS_LEAF)\r\n                v = tsfr.virtual_line_size, p = tsfr.pixel_height;\r\n            else\r\n                n = tsfr.num_lines, v = tsfr.num_virtual_lines, p = tsfr.pixel_offset;\r\n\r\n            key.num_lines += n;\r\n            key.num_virtual_lines += v;\r\n            key.pixel_offset += p;\r\n\r\n            left.num_lines -= n;\r\n            left.num_virtual_lines -= v;\r\n            left.pixel_offset -= p;\r\n\r\n            return false;\r\n        } else if (right && right.keys.length > min_size) {\r\n            //Right rotate\r\n            let tsfr = right.keys[0];\r\n            key.keys.push(tsfr);\r\n            right.keys.splice(0, 1);\r\n            \r\n            tsfr.parent = key;\r\n\r\n            if (key.IS_LEAF)\r\n                v = tsfr.virtual_line_size, p = tsfr.pixel_height;\r\n            else\r\n                n = tsfr.num_lines, v = tsfr.num_virtual_lines, p = tsfr.pixel_offset;\r\n\r\n            key.num_lines += n;\r\n            key.num_virtual_lines += v;\r\n            key.pixel_offset += p;\r\n\r\n            right.num_lines -= n;\r\n            right.num_virtual_lines -= v;\r\n            right.pixel_offset -= p;\r\n\r\n            return false;\r\n\r\n        } else {\r\n            //Left or Right Merge\r\n            if (!left) {\r\n                index++;\r\n                left = key;\r\n                key = right;\r\n            }\r\n\r\n            key.keys.forEach(k=>k.parent = left);\r\n\r\n            left.keys = left.keys.concat(key.keys);\r\n            left.num_lines += key.num_lines;\r\n            left.num_virtual_lines += key.num_virtual_lines;\r\n            left.pixel_offset += key.pixel_offset;\r\n            \r\n            this.keys.splice(index, 1);\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n    getLineCount() {\r\n        var num = 0,\r\n            num2 = 0,\r\n            num3 = 0;\r\n        if (this.IS_LEAF) {\r\n            for (var i = 0, l = this.keys.length; i < l; i++) {\r\n                num += this.keys[i].virtual_line_size;\r\n                num2 += this.keys[i].pixel_height;\r\n            }\r\n            this.num_lines = this.keys.length;\r\n            this.num_virtual_lines = num;\r\n            this.pixel_offset = num2;\r\n        } else {\r\n            for (var i = 0, l = this.keys.length; i < l; i++) {\r\n                num += this.keys[i].num_lines;\r\n                num2 += this.keys[i].num_virtual_lines;\r\n                num3 += this.keys[i].pixel_offset;\r\n            }\r\n            this.num_lines = num;\r\n            this.num_virtual_lines = num2;\r\n            this.pixel_offset = num3;\r\n        }\r\n\r\n        return this.num_lines;\r\n    }\r\n\r\n    setAsParent() {\r\n        for (var i = 0, l = this.keys.length; i < l; i++) \r\n            this.keys[i].parent = this;\r\n    }\r\n\r\n    incrementNumOfVirtualLines(i) {\r\n        if (i < 1) return;\r\n        this.num_virtual_lines += i;\r\n        this.parent.incrementNumOfVirtualLines(i);\r\n    }\r\n\r\n    decrementNumOfVirtualLines(i) {\r\n        if (i < 1) return;\r\n        this.num_virtual_lines -= i;\r\n        this.parent.decrementNumOfVirtualLines(i);\r\n    }\r\n\r\n    incrementNumOfLines() {\r\n        this.num_lines++;\r\n        this.parent.incrementNumOfLines();\r\n    }\r\n\r\n    decrementNumOfLines() {\r\n        this.num_lines--;\r\n        this.parent.decrementNumOfLines();\r\n    }\r\n\r\n    incrementPixelOffset(px) {\r\n        this.pixel_offset += px;\r\n        this.parent.incrementPixelOffset(px);\r\n    }\r\n\r\n    decrementPixelOffset(px) {\r\n        this.pixel_offset -= px;\r\n        this.parent.decrementPixelOffset(px);\r\n    }\r\n\r\n    updateHeight(diff) {\r\n        if (diff) {\r\n            this.pixel_offset += diff;\r\n            this.parent.updateHeight(diff);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport class LineContainer {\r\n    constructor() {\r\n        this.root = null;\r\n        this.IS_ROOT = true;\r\n        this.num_lines = 0;\r\n        this.num_virtual_lines = 0;\r\n        this.max_size = 60;\r\n        this.min_size = (this.max_size / 2) | 0;\r\n    }\r\n\r\n    incrementNumOfLines() {\r\n        this.num_lines++;\r\n    }\r\n\r\n    decrementNumOfLines() {\r\n        this.num_lines--;\r\n    }\r\n\r\n    incrementNumOfVirtualLines(i) {\r\n        this.num_virtual_lines += i;\r\n    }\r\n\r\n    decrementNumOfVirtualLines(i) {\r\n        this.num_virtual_lines -= i;\r\n    }\r\n\r\n    incrementPixelOffset(px) {\r\n        this.pixel_offset += px;\r\n    }\r\n\r\n    decrementPixelOffset(px) {\r\n        this.pixel_offset -= px;\r\n    }\r\n\r\n    getLine(index) {\r\n        if (index >= this.length) index = this.length - 1;\r\n        return this.root.getLine(index);\r\n    }\r\n\r\n    getVirtualLine(index) {\r\n        if (index >= this.num_virtual_lines) index = this.num_virtual_lines - 1;\r\n        return this.root.getVirtualLine(index);\r\n    }\r\n\r\n    getLineAtPixelOffset(pixel_height) {\r\n        if (pixel_height >= this.pixel_offset) {\r\n            pixel_height = this.pixel_offset - 1;\r\n        }\r\n\r\n        if (!this.root) return 0;\r\n        return this.root.getLineAtPixelOffset(pixel_height);\r\n    }\r\n\r\n    //Transition ****************************\r\n    getIndexedLine(offset) {\r\n        return this.getLine(offset);\r\n    }\r\n\r\n    get count() {\r\n        return this.root.num_lines;\r\n    }\r\n\r\n    get countWL() {\r\n        return this.root.num_lines;\r\n    }\r\n    setIndexes() {}\r\n\r\n    getHeight() {\r\n        return this.num_lines;\r\n    }\r\n\r\n    get height() {\r\n        return this.num_lines;\r\n    }\r\n\r\n    get pixel_offset(){\r\n        return this.root.pixel_offset;\r\n    }\r\n\r\n    updateHeight(diff) {}\r\n\r\n\r\n    //**********************************************************\r\n    get length() {\r\n        return (this.root) ? this.root.num_lines : 0;\r\n    }\r\n\r\n    insert(line, index = Infinity) {\r\n        if (!this.root)\r\n            this.root = new Container_Cell();\r\n\r\n        let root = this.root.insert(index, line, this.max_size, true);\r\n        this.root = root;\r\n        this.root.parent = this;\r\n        this.num_lines = this.root.num_lines;\r\n        this.pixel_height = this.root.pixel_offset;\r\n        this.num_virtual_lines = this.root.num_virtual_lines;\r\n    }\r\n\r\n    remove(line) {\r\n        let index = line.index;\r\n\r\n        this.root.remove(index, index, this.min_size, true);\r\n\r\n        if (this.root.keys.length == 1 && this.root.keys[0] instanceof Container_Cell) {\r\n            this.root = this.root.keys[0];\r\n            this.root.parent = this;\r\n        }\r\n    }\r\n}","export const A = 65;\r\nexport const a = 97;\r\nexport const ACKNOWLEDGE = 6;\r\nexport const AMPERSAND = 38;\r\nexport const ASTERISK = 42;\r\nexport const AT = 64;\r\nexport const B = 66;\r\nexport const b = 98;\r\nexport const BACKSLASH = 92;\r\nexport const BACKSPACE = 8;\r\nexport const BELL = 7;\r\nexport const C = 67;\r\nexport const c = 99;\r\nexport const CANCEL = 24;\r\nexport const CARET = 94;\r\nexport const CARRIAGE_RETURN = 13;\r\nexport const CLOSE_CURLY = 125;\r\nexport const CLOSE_PARENTH = 41;\r\nexport const CLOSE_SQUARE = 93;\r\nexport const COLON = 58;\r\nexport const COMMA = 44;\r\nexport const d = 100;\r\nexport const D = 68;\r\nexport const DATA_LINK_ESCAPE = 16;\r\nexport const DELETE = 127;\r\nexport const DEVICE_CTRL_1 = 17;\r\nexport const DEVICE_CTRL_2 = 18;\r\nexport const DEVICE_CTRL_3 = 19;\r\nexport const DEVICE_CTRL_4 = 20;\r\nexport const DOLLAR = 36;\r\nexport const DOUBLE_QUOTE = 34;\r\nexport const e = 101;\r\nexport const E = 69;\r\nexport const EIGHT = 56;\r\nexport const END_OF_MEDIUM = 25;\r\nexport const END_OF_TRANSMISSION = 4;\r\nexport const END_OF_TRANSMISSION_BLOCK = 23;\r\nexport const END_OF_TXT = 3;\r\nexport const ENQUIRY = 5;\r\nexport const EQUAL = 61;\r\nexport const ESCAPE = 27;\r\nexport const EXCLAMATION = 33;\r\nexport const f = 102;\r\nexport const F = 70;\r\nexport const FILE_SEPERATOR = 28;\r\nexport const FIVE = 53;\r\nexport const FORM_FEED = 12;\r\nexport const FORWARD_SLASH = 47;\r\nexport const FOUR = 52;\r\nexport const g = 103;\r\nexport const G = 71;\r\nexport const GRAVE = 96;\r\nexport const GREATER_THAN = 62;\r\nexport const GROUP_SEPERATOR = 29;\r\nexport const h = 104;\r\nexport const H = 72;\r\nexport const HASH = 35;\r\nexport const HORIZONTAL_TAB = 9;\r\nexport const HYPHEN = 45;\r\nexport const i = 105;\r\nexport const I = 73;\r\nexport const j = 106;\r\nexport const J = 74;\r\nexport const k = 107;\r\nexport const K = 75;\r\nexport const l = 108;\r\nexport const L = 76;\r\nexport const LESS_THAN = 60;\r\nexport const LINE_FEED = 10;\r\nexport const m = 109;\r\nexport const M = 77;\r\nexport const n = 110;\r\nexport const N = 78;\r\nexport const NEGATIVE_ACKNOWLEDGE = 21;\r\nexport const NINE = 57;\r\nexport const NULL = 0;\r\nexport const o = 111;\r\nexport const O = 79;\r\nexport const ONE = 49;\r\nexport const OPEN_CURLY = 123;\r\nexport const OPEN_PARENTH = 40;\r\nexport const OPEN_SQUARE = 91;\r\nexport const p = 112;\r\nexport const P = 80;\r\nexport const PERCENT = 37;\r\nexport const PERIOD = 46;\r\nexport const PLUS = 43;\r\nexport const q = 113;\r\nexport const Q = 81;\r\nexport const QMARK = 63;\r\nexport const QUOTE = 39;\r\nexport const r = 114;\r\nexport const R = 82;\r\nexport const RECORD_SEPERATOR = 30;\r\nexport const s = 115;\r\nexport const S = 83;\r\nexport const SEMICOLON = 59;\r\nexport const SEVEN = 55;\r\nexport const SHIFT_IN = 15;\r\nexport const SHIFT_OUT = 14;\r\nexport const SIX = 54;\r\nexport const SPACE = 32;\r\nexport const START_OF_HEADER = 1;\r\nexport const START_OF_TEXT = 2;\r\nexport const SUBSTITUTE = 26;\r\nexport const SYNCH_IDLE = 22;\r\nexport const t = 116;\r\nexport const T = 84;\r\nexport const THREE = 51;\r\nexport const TILDE = 126;\r\nexport const TWO = 50;\r\nexport const u = 117;\r\nexport const U = 85;\r\nexport const UNDER_SCORE = 95;\r\nexport const UNIT_SEPERATOR = 31;\r\nexport const v = 118;\r\nexport const V = 86;\r\nexport const VERTICAL_BAR = 124;\r\nexport const VERTICAL_TAB = 11;\r\nexport const w = 119;\r\nexport const W = 87;\r\nexport const x = 120;\r\nexport const X = 88;\r\nexport const y = 121;\r\nexport const Y = 89;\r\nexport const z = 122;\r\nexport const Z = 90;\r\nexport const ZERO = 48;\r\n\r\n","/**\r\n * Lexer Jump table reference \r\n * 0. NUMBER\r\n * 1. IDENTIFIER\r\n * 2. QUOTE STRING\r\n * 3. SPACE SET\r\n * 4. TAB SET\r\n * 5. CARIAGE RETURN\r\n * 6. LINEFEED\r\n * 7. SYMBOL\r\n * 8. OPERATOR\r\n * 9. OPEN BRACKET\r\n * 10. CLOSE BRACKET \r\n * 11. DATA_LINK\r\n */ \r\nexport const jump_table = [\r\n7, \t \t/* A */\r\n7, \t \t/* a */\r\n7, \t \t/* ACKNOWLEDGE */\r\n7, \t \t/* AMPERSAND */\r\n7, \t \t/* ASTERISK */\r\n7, \t \t/* AT */\r\n7, \t \t/* B */\r\n7, \t \t/* b */\r\n7, \t \t/* BACKSLASH */\r\n4, \t \t/* BACKSPACE */\r\n6, \t \t/* BELL */\r\n7, \t \t/* C */\r\n7, \t \t/* c */\r\n5, \t \t/* CANCEL */\r\n7, \t \t/* CARET */\r\n11, \t/* CARRIAGE_RETURN */\r\n7, \t \t/* CLOSE_CURLY */\r\n7, \t \t/* CLOSE_PARENTH */\r\n7, \t \t/* CLOSE_SQUARE */\r\n7, \t \t/* COLON */\r\n7, \t \t/* COMMA */\r\n7, \t \t/* d */\r\n7, \t \t/* D */\r\n7, \t \t/* DATA_LINK_ESCAPE */\r\n7, \t \t/* DELETE */\r\n7, \t \t/* DEVICE_CTRL_1 */\r\n7, \t \t/* DEVICE_CTRL_2 */\r\n7, \t \t/* DEVICE_CTRL_3 */\r\n7, \t \t/* DEVICE_CTRL_4 */\r\n7, \t \t/* DOLLAR */\r\n7, \t \t/* DOUBLE_QUOTE */\r\n7, \t \t/* e */\r\n3, \t \t/* E */\r\n8, \t \t/* EIGHT */\r\n2, \t \t/* END_OF_MEDIUM */\r\n7, \t \t/* END_OF_TRANSMISSION */\r\n7, \t \t/* END_OF_TRANSMISSION_BLOCK */\r\n8, \t \t/* END_OF_TXT */\r\n8, \t \t/* ENQUIRY */\r\n2, \t \t/* EQUAL */\r\n9, \t \t/* ESCAPE */\r\n10, \t /* EXCLAMATION */\r\n8, \t \t/* f */\r\n8, \t \t/* F */\r\n7, \t \t/* FILE_SEPERATOR */\r\n7, \t \t/* FIVE */\r\n7, \t \t/* FORM_FEED */\r\n7, \t \t/* FORWARD_SLASH */\r\n0, \t \t/* FOUR */\r\n0, \t \t/* g */\r\n0, \t \t/* G */\r\n0, \t \t/* GRAVE */\r\n0, \t \t/* GREATER_THAN */\r\n0, \t \t/* GROUP_SEPERATOR */\r\n0, \t \t/* h */\r\n0, \t \t/* H */\r\n0, \t \t/* HASH */\r\n0, \t \t/* HORIZONTAL_TAB */\r\n8, \t \t/* HYPHEN */\r\n7, \t \t/* i */\r\n8, \t \t/* I */\r\n8, \t \t/* j */\r\n8, \t \t/* J */\r\n7, \t \t/* k */\r\n7, \t \t/* K */\r\n1, \t \t/* l */\r\n1, \t \t/* L */\r\n1, \t \t/* LESS_THAN */\r\n1, \t \t/* LINE_FEED */\r\n1, \t \t/* m */\r\n1, \t \t/* M */\r\n1, \t \t/* n */\r\n1, \t \t/* N */\r\n1, \t \t/* NEGATIVE_ACKNOWLEDGE */\r\n1, \t \t/* NINE */\r\n1, \t \t/* NULL */\r\n1, \t \t/* o */\r\n1, \t \t/* O */\r\n1, \t \t/* ONE */\r\n1, \t \t/* OPEN_CURLY */\r\n1, \t \t/* OPEN_PARENTH */\r\n1, \t \t/* OPEN_SQUARE */\r\n1, \t \t/* p */\r\n1, \t \t/* P */\r\n1, \t \t/* PERCENT */\r\n1, \t \t/* PERIOD */\r\n1, \t \t/* PLUS */\r\n1, \t \t/* q */\r\n1, \t \t/* Q */\r\n1, \t \t/* QMARK */\r\n1, \t \t/* QUOTE */\r\n9, \t \t/* r */\r\n7, \t \t/* R */\r\n10, \t/* RECORD_SEPERATOR */\r\n7, \t \t/* s */\r\n7, \t \t/* S */\r\n2, \t \t/* SEMICOLON */\r\n1, \t \t/* SEVEN */\r\n1, \t \t/* SHIFT_IN */\r\n1, \t \t/* SHIFT_OUT */\r\n1, \t \t/* SIX */\r\n1, \t \t/* SPACE */\r\n1, \t \t/* START_OF_HEADER */\r\n1, \t \t/* START_OF_TEXT */\r\n1, \t \t/* SUBSTITUTE */\r\n1, \t \t/* SYNCH_IDLE */\r\n1, \t \t/* t */\r\n1, \t \t/* T */\r\n1, \t \t/* THREE */\r\n1, \t \t/* TILDE */\r\n1, \t \t/* TWO */\r\n1, \t \t/* u */\r\n1, \t \t/* U */\r\n1, \t \t/* UNDER_SCORE */\r\n1, \t \t/* UNIT_SEPERATOR */\r\n1, \t \t/* v */\r\n1, \t \t/* V */\r\n1, \t \t/* VERTICAL_BAR */\r\n1, \t \t/* VERTICAL_TAB */\r\n1, \t \t/* w */\r\n1, \t \t/* W */\r\n1, \t \t/* x */\r\n1, \t \t/* X */\r\n9, \t \t/* y */\r\n7, \t \t/* Y */\r\n10,  \t/* z */\r\n7,  \t/* Z */\r\n7 \t\t/* ZERO */\r\n];\t\r\n\r\n/**\r\n * LExer Number and Identifier jump table reference\r\n * Number are masked by 12(4|8) and Identifiers are masked by 10(2|8)\r\n * entries marked as `0` are not evaluated as either being in the number set or the identifier set.\r\n * entries marked as `2` are in the identifier set but not the number set\r\n * entries marked as `4` are in the number set but not the identifier set\r\n * entries marked as `8` are in both number and identifier sets\r\n */\r\nexport const number_and_identifier_table = [\r\n0, \t\t/* A */\r\n0, \t\t/* a */\r\n0, \t\t/* ACKNOWLEDGE */\r\n0, \t\t/* AMPERSAND */\r\n0, \t\t/* ASTERISK */\r\n0, \t\t/* AT */\r\n0,\t\t/* B */\r\n0,\t\t/* b */\r\n0,\t\t/* BACKSLASH */\r\n0,\t\t/* BACKSPACE */\r\n0,\t\t/* BELL */\r\n0,\t\t/* C */\r\n0,\t\t/* c */\r\n0,\t\t/* CANCEL */\r\n0,\t\t/* CARET */\r\n0,\t\t/* CARRIAGE_RETURN */\r\n0,\t\t/* CLOSE_CURLY */\r\n0,\t\t/* CLOSE_PARENTH */\r\n0,\t\t/* CLOSE_SQUARE */\r\n0,\t\t/* COLON */\r\n0,\t\t/* COMMA */\r\n0,\t\t/* d */\r\n0,\t\t/* D */\r\n0,\t\t/* DATA_LINK_ESCAPE */\r\n0,\t\t/* DELETE */\r\n0,\t\t/* DEVICE_CTRL_1 */\r\n0,\t\t/* DEVICE_CTRL_2 */\r\n0,\t\t/* DEVICE_CTRL_3 */\r\n0,\t\t/* DEVICE_CTRL_4 */\r\n0,\t\t/* DOLLAR */\r\n0,\t\t/* DOUBLE_QUOTE */\r\n0,\t\t/* e */\r\n0,\t\t/* E */\r\n0,\t\t/* EIGHT */\r\n0,\t\t/* END_OF_MEDIUM */\r\n0,\t\t/* END_OF_TRANSMISSION */\r\n8,\t\t/* END_OF_TRANSMISSION_BLOCK */\r\n0,\t\t/* END_OF_TXT */\r\n0,\t\t/* ENQUIRY */\r\n0,\t\t/* EQUAL */\r\n0,\t\t/* ESCAPE */\r\n0,\t\t/* EXCLAMATION */\r\n0,\t\t/* f */\r\n0,\t\t/* F */\r\n0,\t\t/* FILE_SEPERATOR */\r\n2,\t\t/* FIVE */\r\n4,\t\t/* FORM_FEED */\r\n0,\t\t/* FORWARD_SLASH */\r\n8,\t\t/* FOUR */\r\n8,\t\t/* g */\r\n8,\t\t/* G */\r\n8,\t\t/* GRAVE */\r\n8,\t\t/* GREATER_THAN */\r\n8,\t\t/* GROUP_SEPERATOR */\r\n8,\t\t/* h */\r\n8,\t\t/* H */\r\n8,\t\t/* HASH */\r\n8,\t\t/* HORIZONTAL_TAB */\r\n0,\t\t/* HYPHEN */\r\n0,\t\t/* i */\r\n0,\t\t/* I */\r\n0,\t\t/* j */\r\n0,\t\t/* J */\r\n0,\t\t/* k */\r\n0,\t\t/* K */\r\n2,\t\t/* l */\r\n8,\t\t/* L */\r\n2,\t\t/* LESS_THAN */\r\n2,\t\t/* LINE_FEED */\r\n8,\t\t/* m */\r\n2,\t\t/* M */\r\n2,\t\t/* n */\r\n2,\t\t/* N */\r\n2,\t\t/* NEGATIVE_ACKNOWLEDGE */\r\n2,\t\t/* NINE */\r\n2,\t\t/* NULL */\r\n2,\t\t/* o */\r\n2,\t\t/* O */\r\n2,\t\t/* ONE */\r\n8,\t\t/* OPEN_CURLY */\r\n2,\t\t/* OPEN_PARENTH */\r\n2,\t\t/* OPEN_SQUARE */\r\n2,\t\t/* p */\r\n2,\t\t/* P */\r\n2,\t\t/* PERCENT */\r\n2,\t\t/* PERIOD */\r\n2,\t\t/* PLUS */\r\n2,\t\t/* q */\r\n8,\t\t/* Q */\r\n2,\t\t/* QMARK */\r\n2,\t\t/* QUOTE */\r\n0,\t\t/* r */\r\n0,\t\t/* R */\r\n0,\t\t/* RECORD_SEPERATOR */\r\n0,\t\t/* s */\r\n2,\t\t/* S */\r\n0,\t\t/* SEMICOLON */\r\n2,\t\t/* SEVEN */\r\n8,\t\t/* SHIFT_IN */\r\n2,\t\t/* SHIFT_OUT */\r\n2,\t\t/* SIX */\r\n2,\t\t/* SPACE */\r\n2,\t\t/* START_OF_HEADER */\r\n2,\t\t/* START_OF_TEXT */\r\n2,\t\t/* SUBSTITUTE */\r\n2,\t\t/* SYNCH_IDLE */\r\n2,\t\t/* t */\r\n2,\t\t/* T */\r\n2,\t\t/* THREE */\r\n2,\t\t/* TILDE */\r\n2,\t\t/* TWO */\r\n8,\t\t/* u */\r\n2,\t\t/* U */\r\n2,\t\t/* UNDER_SCORE */\r\n2,\t\t/* UNIT_SEPERATOR */\r\n2,\t\t/* v */\r\n2,\t\t/* V */\r\n2,\t\t/* VERTICAL_BAR */\r\n2,\t\t/* VERTICAL_TAB */\r\n2,\t\t/* w */\r\n8,\t\t/* W */\r\n2,\t\t/* x */\r\n2,\t\t/* X */\r\n0,\t\t/* y */\r\n0,\t\t/* Y */\r\n0,\t\t/* z */\r\n0,\t\t/* Z */\r\n0\t\t/* ZERO */\r\n];\t","import { SPACE, HORIZONTAL_TAB } from \"./ascii_code_points.mjs\";\r\n\r\nimport { jump_table, number_and_identifier_table } from \"./tables/basic.mjs\";\r\n\r\nconst number = 1,\r\n    identifier = 2,\r\n    string = 4,\r\n    white_space = 8,\r\n    open_bracket = 16,\r\n    close_bracket = 32,\r\n    operator = 64,\r\n    symbol = 128,\r\n    new_line = 256,\r\n    data_link = 512,\r\n    alpha_numeric = (identifier | number),\r\n    white_space_new_line = (white_space | new_line),\r\n    Types = {\r\n        num: number,\r\n        number,\r\n        id: identifier,\r\n        identifier,\r\n        str: string,\r\n        string,\r\n        ws: white_space,\r\n        white_space,\r\n        ob: open_bracket,\r\n        open_bracket,\r\n        cb: close_bracket,\r\n        close_bracket,\r\n        op: operator,\r\n        operator,\r\n        sym: symbol,\r\n        symbol,\r\n        nl: new_line,\r\n        new_line,\r\n        dl: data_link,\r\n        data_link,\r\n        alpha_numeric,\r\n        white_space_new_line,\r\n    },\r\n\r\n    /*** MASKS ***/\r\n\r\n    TYPE_MASK = 0xF,\r\n    PARSE_STRING_MASK = 0x10,\r\n    IGNORE_WHITESPACE_MASK = 0x20,\r\n    CHARACTERS_ONLY_MASK = 0x40,\r\n    TOKEN_LENGTH_MASK = 0xFFFFFF80,\r\n\r\n    //De Bruijn Sequence for finding index of right most bit set.\r\n    //http://supertech.csail.mit.edu/papers/debruijn.pdf\r\n    debruijnLUT = [\r\n        0, 1, 28, 2, 29, 14, 24, 3, 30, 22, 20, 15, 25, 17, 4, 8,\r\n        31, 27, 13, 23, 21, 19, 16, 7, 26, 12, 18, 6, 11, 5, 10, 9\r\n    ];\r\n\r\nfunction getNumbrOfTrailingZeroBitsFromPowerOf2(value) {\r\n    return debruijnLUT[(value * 0x077CB531) >>> 27];\r\n}\r\n\r\nclass Lexer {\r\n\r\n    constructor(string = \"\", INCLUDE_WHITE_SPACE_TOKENS = false, PEEKING = false) {\r\n\r\n        if (typeof(string) !== \"string\") throw new Error(`String value must be passed to Lexer. A ${typeof(string)} was passed as the \\`string\\` argument.`);\r\n\r\n        /**\r\n         * The string that the Lexer tokenizes.\r\n         */\r\n        this.str = string;\r\n\r\n        /**\r\n         * Reference to the peeking Lexer.\r\n         */\r\n        this.p = null;\r\n\r\n        /**\r\n         * The type id of the current token.\r\n         */\r\n        this.type = 32768; //Default \"non-value\" for types is 1<<15;\r\n\r\n        /**\r\n         * The offset in the string of the start of the current token.\r\n         */\r\n        this.off = 0;\r\n\r\n        this.masked_values = 0;\r\n\r\n        /**\r\n         * The character offset of the current token within a line.\r\n         */\r\n        this.char = 0;\r\n        /**\r\n         * The line position of the current token.\r\n         */\r\n        this.line = 0;\r\n        /**\r\n         * The length of the string being parsed\r\n         */\r\n        this.sl = string.length;\r\n        /**\r\n         * The length of the current token.\r\n         */\r\n        this.tl = 0;\r\n\r\n        /**\r\n         * Flag to ignore white spaced.\r\n         */\r\n        this.IWS = !INCLUDE_WHITE_SPACE_TOKENS;\r\n\r\n        /**\r\n         * Flag to force the lexer to parse string contents\r\n         */\r\n        this.PARSE_STRING = false;\r\n\r\n        if (!PEEKING) this.next();\r\n    }\r\n\r\n    /**\r\n     * Restricts max parse distance to the other Lexer's current position.\r\n     * @param      {Lexer}  Lexer   The Lexer to limit parse distance by.\r\n     */\r\n    fence(marker = this) {\r\n        if (marker.str !== this.str)\r\n            return;\r\n        this.sl = marker.off;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Copies the Lexer.\r\n     * @return     {Lexer}  Returns a new Lexer instance with the same property values.\r\n     */\r\n    copy(destination = new Lexer(this.str, false, true)) {\r\n        destination.off = this.off;\r\n        destination.char = this.char;\r\n        destination.line = this.line;\r\n        destination.sl = this.sl;\r\n        destination.masked_values = this.masked_values;\r\n        return destination;\r\n    }\r\n\r\n    /**\r\n     * Given another Lexer with the same `str` property value, it will copy the state of that Lexer.\r\n     * @param      {Lexer}  [marker=this.peek]  The Lexer to clone the state from. \r\n     * @throws     {Error} Throws an error if the Lexers reference different strings.\r\n     * @public\r\n     */\r\n    sync(marker = this.p) {\r\n\r\n        if (marker instanceof Lexer) {\r\n            if (marker.str !== this.str) throw new Error(\"Cannot sync Lexers with different strings!\");\r\n            this.off = marker.off;\r\n            this.char = marker.char;\r\n            this.line = marker.line;\r\n            this.masked_values = marker.masked_values;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Will throw a new Error, appending the parsed string line and position information to the the error message passed into the function.\r\n     * @instance\r\n     * @public\r\n     * @param {String} message - The error message.\r\n     */\r\n    throw (message) {\r\n        let t = (\"________________________________________________\"),\r\n            n = \"\\n\",\r\n            is_iws = (!this.IWS) ? \"\\n The Lexer produced whitespace tokens\" : \"\";\r\n        this.IWS = false;\r\n        let pk = this.copy();\r\n        while (!pk.END && pk.ty !== Types.nl) { pk.next(); }\r\n        let end = pk.off;\r\n        throw new Error(`${message} at ${this.line}:${this.char}\\n${t}\\n${this.str.slice(this.off + this.tl + 1 - this.char, end)}\\n${(\"\").padStart(this.char - 2)}^\\n${t}\\n${is_iws}`);\r\n    }\r\n\r\n    /**\r\n     * Proxy for Lexer.prototype.reset\r\n     * @public\r\n     */\r\n    r() { return this.reset(); }\r\n\r\n    /**\r\n     * Restore the Lexer back to it's initial state.\r\n     * @public\r\n     */\r\n    reset() {\r\n        this.p = null;\r\n        this.type = 32768;\r\n        this.off = 0;\r\n        this.tl = 0;\r\n        this.char = 0;\r\n        this.line = 0;\r\n        this.n;\r\n        return this;\r\n    }\r\n\r\n    resetHead() {\r\n        this.off = 0;\r\n        this.tl = 0;\r\n        this.char = 0;\r\n        this.line = 0;\r\n        this.p = null;\r\n        this.type = 32768;\r\n    }\r\n\r\n    /**\r\n     * Sets the internal state to point to the next token. Sets Lexer.prototype.END to `true` if the end of the string is hit.\r\n     * @public\r\n     * @param {Lexer} [marker=this] - If another Lexer is passed into this method, it will advance the token state of that Lexer.\r\n     */\r\n    next(marker = this) {\r\n\r\n        let str = marker.str;\r\n\r\n        if (marker.sl < 1) {\r\n            marker.off = 0;\r\n            marker.type = 32768;\r\n            marker.tl = 0;\r\n            return marker;\r\n        }\r\n\r\n        //Token builder\r\n        let length = marker.tl;\r\n        let off = marker.off + length;\r\n        let l = marker.sl;\r\n        let IWS = marker.IWS;\r\n        let type = symbol;\r\n        let char = marker.char + length;\r\n        let line = marker.line;\r\n        let base = off;\r\n\r\n        if (off >= l) {\r\n            length = 0;\r\n            base = l;\r\n            char -= base - off;\r\n            marker.type = type;\r\n            marker.off = base;\r\n            marker.tl = length;\r\n            marker.char = char;\r\n            marker.line = line;\r\n            return marker;\r\n        }\r\n\r\n        while (true) {\r\n\r\n            base = off;\r\n\r\n            length = 1;\r\n\r\n            let code = str.charCodeAt(off);\r\n\r\n            if (code < 128) {\r\n\r\n                switch (jump_table[code]) {\r\n                    case 0: //NUMBER\r\n                        while (++off < l && (12 & number_and_identifier_table[str.charCodeAt(off)])) {}\r\n\r\n                        if (str[off] == \"e\" || str[off] == \"E\") {\r\n                            off++;\r\n                            if (str[off] == \"-\") off++;\r\n                            marker.off = off;\r\n                            marker.tl = 0;\r\n                            marker.next();\r\n                            off = marker.off + marker.tl;\r\n                            //Add e to the number string\r\n                        }\r\n\r\n                        type = number;\r\n                        length = off - base;\r\n\r\n                        break;\r\n                    case 1: //IDENTIFIER\r\n                        while (++off < l && ((10 & number_and_identifier_table[str.charCodeAt(off)]))) {}\r\n                        type = identifier;\r\n                        length = off - base;\r\n                        break;\r\n                    case 2: //QUOTED STRING\r\n                        if (this.PARSE_STRING) {\r\n                            type = symbol;\r\n                        } else {\r\n                            while (++off < l && str.charCodeAt(off) !== code) {}\r\n                            type = string;\r\n                            length = off - base + 1;\r\n                        }\r\n                        break;\r\n                    case 3: //SPACE SET\r\n                        while (++off < l && str.charCodeAt(off) === SPACE) {}\r\n                        type = white_space;\r\n                        length = off - base;\r\n                        break;\r\n                    case 4: //TAB SET\r\n                        while (++off < l && str[off] === HORIZONTAL_TAB) {}\r\n                        type = white_space;\r\n                        length = off - base;\r\n                        break;\r\n                    case 5: //CARIAGE RETURN\r\n                        length = 2;\r\n                    case 6: //LINEFEED\r\n                        type = new_line;\r\n                        char = 0;\r\n                        line++;\r\n                        off += length;\r\n                        break;\r\n                    case 7: //SYMBOL\r\n                        type = symbol;\r\n                        break;\r\n                    case 8: //OPERATOR\r\n                        type = operator;\r\n\r\n                        break;\r\n                    case 9: //OPEN BRACKET\r\n                        type = open_bracket;\r\n                        break;\r\n                    case 10: //CLOSE BRACKET\r\n                        type = close_bracket;\r\n                        break;\r\n                    case 11: //Data Link Escape\r\n                        type = data_link;\r\n                        length = 4; //Stores two UTF16 values and a data link sentinel\r\n                        break;\r\n                }\r\n            }\r\n\r\n            if (IWS && (type & white_space_new_line)) {\r\n                if (off < l) {\r\n                    char += length;\r\n                    type = symbol;\r\n                    continue;\r\n                } else {\r\n                    //Trim white space from end of string\r\n                    base = l - length;\r\n                    marker.sl -= length;\r\n                    length = 0;\r\n                    char -= base - off;\r\n                }\r\n            }\r\n\r\n            break;\r\n        }\r\n\r\n        marker.type = type;\r\n        marker.off = base;\r\n        marker.tl = (this.masked_values & CHARACTERS_ONLY_MASK) ? Math.min(1, length) : length;\r\n        marker.char = char;\r\n        marker.line = line;\r\n\r\n        return marker;\r\n    }\r\n\r\n\r\n    /**\r\n     * Proxy for Lexer.prototype.assert\r\n     * @public\r\n     */\r\n    a(text) {\r\n        return this.assert(text);\r\n    }\r\n\r\n    /**\r\n     * Compares the string value of the current token to the value passed in. Advances to next token if the two are equal.\r\n     * @public\r\n     * @throws {Error} - `Expecting \"${text}\" got \"${this.text}\"`\r\n     * @param {String} text - The string to compare.\r\n     */\r\n    assert(text) {\r\n\r\n        if (this.off < 0) this.throw(`Expecting ${text} got null`);\r\n\r\n        if (this.text == text)\r\n            this.next();\r\n        else\r\n            this.throw(`Expecting \"${text}\" got \"${this.text}\"`);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Proxy for Lexer.prototype.assertCharacter\r\n     * @public\r\n     */\r\n    aC(char) { return this.assertCharacter(char); }\r\n    /**\r\n     * Compares the character value of the current token to the value passed in. Advances to next token if the two are equal.\r\n     * @public\r\n     * @throws {Error} - `Expecting \"${text}\" got \"${this.text}\"`\r\n     * @param {String} text - The string to compare.\r\n     */\r\n    assertCharacter(char) {\r\n\r\n        if (this.off < 0) this.throw(`Expecting ${text} got null`);\r\n\r\n        if (this.ch == char[0])\r\n            this.next();\r\n        else\r\n            this.throw(`Expecting \"${char[0]}\" got \"${this.tx[this.off]}\"`);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns the Lexer bound to Lexer.prototype.p, or creates and binds a new Lexer to Lexer.prototype.p. Advences the other Lexer to the token ahead of the calling Lexer.\r\n     * @public\r\n     * @type {Lexer}\r\n     * @param {Lexer} [marker=this] - The marker to originate the peek from. \r\n     * @param {Lexer} [peek_marker=this.p] - The Lexer to set to the next token state.\r\n     * @return {Lexer} - The Lexer that contains the peeked at token.\r\n     */\r\n    peek(marker = this, peek_marker = this.p) {\r\n\r\n        if (!peek_marker) {\r\n            if (!marker) return null;\r\n            if (!this.p) {\r\n                this.p = new Lexer(this.str, false, true);\r\n                peek_marker = this.p;\r\n            }\r\n        }\r\n        peek_marker.masked_values = marker.masked_values;\r\n        peek_marker.type = marker.type;\r\n        peek_marker.off = marker.off;\r\n        peek_marker.tl = marker.tl;\r\n        peek_marker.char = marker.char;\r\n        peek_marker.line = marker.line;\r\n        this.next(peek_marker);\r\n        return peek_marker;\r\n    }\r\n\r\n\r\n    /**\r\n     * Proxy for Lexer.prototype.slice\r\n     * @public\r\n     */\r\n    s(start) { return this.slice(start); }\r\n\r\n    /**\r\n     * Returns a slice of the parsed string beginning at `start` and ending at the current token.\r\n     * @param {Number | LexerBeta} start - The offset in this.str to begin the slice. If this value is a LexerBeta, sets the start point to the value of start.off.\r\n     * @return {String} A substring of the parsed string.\r\n     * @public\r\n     */\r\n    slice(start = this.off) {\r\n\r\n        if (start instanceof Lexer) start = start.off;\r\n\r\n        return this.str.slice(start, (this.off <= start) ? this.sl : this.off);\r\n    }\r\n\r\n    /**\r\n     * Skips to the end of a comment section.\r\n     * @param {boolean} ASSERT - If set to true, will through an error if there is not a comment line or block to skip.\r\n     * @param {Lexer} [marker=this] - If another Lexer is passed into this method, it will advance the token state of that Lexer.\r\n     */\r\n    comment(ASSERT = false, marker = this) {\r\n\r\n        if (!(marker instanceof Lexer)) return marker;\r\n\r\n        if (marker.ch == \"/\") {\r\n            if (marker.pk.ch == \"*\") {\r\n                marker.sync();\r\n                while (!marker.END && (marker.next().ch != \"*\" || marker.pk.ch != \"/\")) { /* NO OP */ }\r\n                marker.sync().assert(\"/\");\r\n            } else if (marker.pk.ch == \"/\") {\r\n                let IWS = marker.IWS;\r\n                while (marker.next().ty != types.new_line && !marker.END) { /* NO OP */ }\r\n                marker.IWS = IWS;\r\n                marker.next();\r\n            } else\r\n            if (ASSERT) marker.throw(\"Expecting the start of a comment\");\r\n        }\r\n\r\n        return marker;\r\n    }\r\n\r\n    setString(string, RESET = true) {\r\n        this.str = string;\r\n        this.sl = string.length;\r\n        if (RESET) this.resetHead();\r\n    }\r\n\r\n    toString() {\r\n        return this.slice();\r\n    }\r\n\r\n    /**\r\n     * Returns new Whind Lexer that has leading and trailing whitespace characters removed from input. \r\n     */\r\n    trim() {\r\n        let lex = this.copy();\r\n\r\n        for (; lex.off < lex.sl; lex.off++) {\r\n            let c = jump_table[lex.string.charCodeAt(lex.off)];\r\n\r\n            if (c > 2 && c < 7)\r\n                continue;\r\n\r\n            break;\r\n        }\r\n\r\n        for (; lex.sl > lex.off; lex.sl--) {\r\n            let c = jump_table[lex.string.charCodeAt(lex.sl - 1)];\r\n\r\n            if (c > 2 && c < 7)\r\n                continue;\r\n\r\n            break;\r\n        }\r\n\r\n        lex.token_length = 0;\r\n        lex.next();\r\n\r\n        return lex;\r\n    }\r\n\r\n    /*** Getters and Setters ***/\r\n    get string() {\r\n        return this.str;\r\n    }\r\n\r\n    get string_length() {\r\n        return this.sl - this.off;\r\n    }\r\n\r\n    set string_length(s) {}\r\n\r\n    /**\r\n     * The current token in the form of a new Lexer with the current state.\r\n     * Proxy property for Lexer.prototype.copy\r\n     * @type {Lexer}\r\n     * @public\r\n     * @readonly\r\n     */\r\n    get token() {\r\n        return this.copy();\r\n    }\r\n\r\n\r\n    get ch() {\r\n        return this.str[this.off];\r\n    }\r\n\r\n    /**\r\n     * Proxy for Lexer.prototype.text\r\n     * @public\r\n     * @type {String}\r\n     * @readonly\r\n     */\r\n    get tx() { return this.text; }\r\n\r\n    /**\r\n     * The string value of the current token.\r\n     * @type {String}\r\n     * @public\r\n     * @readonly\r\n     */\r\n    get text() {\r\n        return (this.off < 0) ? \"\" : this.str.slice(this.off, this.off + this.tl);\r\n    }\r\n\r\n    /**\r\n     * The type id of the current token.\r\n     * @type {Number}\r\n     * @public\r\n     * @readonly\r\n     */\r\n    get ty() { return this.type; }\r\n\r\n    /**\r\n     * The current token's offset position from the start of the string.\r\n     * @type {Number}\r\n     * @public\r\n     * @readonly\r\n     */\r\n    get pos() {\r\n        return this.off;\r\n    }\r\n\r\n    /**\r\n     * Proxy for Lexer.prototype.peek\r\n     * @public\r\n     * @readonly\r\n     * @type {Lexer}\r\n     */\r\n    get pk() { return this.peek(); }\r\n\r\n    /**\r\n     * Proxy for Lexer.prototype.next\r\n     * @public\r\n     */\r\n    get n() { return this.next(); }\r\n\r\n    get END() { return this.off >= this.sl; }\r\n    set END(v) {}\r\n\r\n    get type() {\r\n        return 1 << (this.masked_values & TYPE_MASK);\r\n    }\r\n\r\n    set type(value) {\r\n        //assuming power of 2 value.\r\n\r\n        this.masked_values = (this.masked_values & ~TYPE_MASK) | ((getNumbrOfTrailingZeroBitsFromPowerOf2(value)) & TYPE_MASK);\r\n    }\r\n\r\n    get tl() {\r\n        return this.token_length;\r\n    }\r\n\r\n    set tl(value) {\r\n        this.token_length = value;\r\n    }\r\n\r\n    get token_length() {\r\n        return ((this.masked_values & TOKEN_LENGTH_MASK) >> 7);\r\n    }\r\n\r\n    set token_length(value) {\r\n        this.masked_values = (this.masked_values & ~TOKEN_LENGTH_MASK) | (((value << 7) | 0) & TOKEN_LENGTH_MASK);\r\n    }\r\n\r\n    get IGNORE_WHITE_SPACE() {\r\n        return this.IWS;\r\n    }\r\n\r\n    set IGNORE_WHITE_SPACE(bool) {\r\n        this.iws = !!bool;\r\n    }\r\n\r\n    get CHARACTERS_ONLY() {\r\n        return !!(this.masked_values & CHARACTERS_ONLY_MASK);\r\n    }\r\n\r\n    set CHARACTERS_ONLY(boolean) {\r\n        this.masked_values = (this.masked_values & ~CHARACTERS_ONLY_MASK) | ((boolean | 0) << 6);\r\n    }\r\n\r\n    get IWS() {\r\n        return !!(this.masked_values & IGNORE_WHITESPACE_MASK);\r\n    }\r\n\r\n    set IWS(boolean) {\r\n        this.masked_values = (this.masked_values & ~IGNORE_WHITESPACE_MASK) | ((boolean | 0) << 5);\r\n    }\r\n\r\n    get PARSE_STRING() {\r\n        return !!(this.masked_values & PARSE_STRING_MASK);\r\n    }\r\n\r\n    set PARSE_STRING(boolean) {\r\n        this.masked_values = (this.masked_values & ~PARSE_STRING_MASK) | ((boolean | 0) << 4);\r\n    }\r\n\r\n    /**\r\n     * Reference to token id types.\r\n     */\r\n    get types() {\r\n        return Types;\r\n    }\r\n}\r\n\r\nfunction whind(string, INCLUDE_WHITE_SPACE_TOKENS = false) { return new Lexer(string, INCLUDE_WHITE_SPACE_TOKENS); }\r\n\r\nwhind.constructor = Lexer;\r\n\r\nLexer.types = Types;\r\nwhind.types = Types;\r\n\r\nexport { Lexer };\r\nexport default whind;","//[Singleton]  Store unused tokens, preventing garbage collection of tokens\r\nimport whind from \"@candlefw/whind\";\r\n\r\nconst DL_CHAR = String.fromCharCode(15);\r\n\r\n//Returns an index position that does not intersect with data_link blocks\r\nfunction getCodePositionOffset(is, str) {\r\n\r\n    let ie = is,\r\n        dg = is,\r\n        dl = is,\r\n        ON_DL = (str[ie] == DL_CHAR),\r\n        i = ie + (ON_DL | 0),\r\n        lim = Math.min(ie + 4, str.length);\r\n\r\n\r\n    for (; i < lim; i++)\r\n        if (str[i] == DL_CHAR) { dg = i; break; }\r\n\r\n    i = ie - (ON_DL | 0);\r\n    lim = Math.max(ie - 4, 0);\r\n\r\n    for (; i >= lim; i--)\r\n        if (str[i] == DL_CHAR) { dl = i; break; }\r\n\r\n    let INSIDE_DL = (dg - dl == 3) && ((str.charCodeAt(dl + 1) & 32768) == 32768);\r\n\r\n    if (INSIDE_DL || str[is + 1] == DL_CHAR || ON_DL) {\r\n        if (INSIDE_DL) {\r\n            ie = dg;\r\n            is = dl;\r\n        } else if (ON_DL) {\r\n            if (dg - is == 3) {\r\n                ie = dg;\r\n            } else {\r\n                ie = is;\r\n                is = dl;\r\n            }\r\n        } else {\r\n            ie = is + 4;\r\n            is++;\r\n        }\r\n\r\n        while (str[is] == str[is - 1] == DL_CHAR)\r\n            is -= 4;\r\n\r\n        while (str[ie + 1] == DL_CHAR)\r\n            ie += 4;\r\n    } else\r\n        is++;\r\n\r\n\r\n    return { is, ie };\r\n}\r\n\r\nexport class TEXT_LINE extends whind.constructor {\r\n\r\n    constructor(fw) {\r\n\r\n        if (TEXT_LINE.Pool) {\r\n            let out = TEXT_LINE.Pool;\r\n            TEXT_LINE.Pool = out.nxt;\r\n            out.nxt = null;\r\n            out.fw = fw;\r\n            out.IWS = false;\r\n            return out;\r\n        }\r\n\r\n        super(\"\");\r\n\r\n        this.fw = fw;\r\n        this.nxt = null;\r\n        this.prv = null;\r\n        this.text_insert = null;\r\n        this.parent = null;\r\n        this.PARSE_STRING = true;\r\n        this.pixel_width = 0;\r\n        this.linked_offset = 0;\r\n        this.link = null;\r\n\r\n        //container variables\r\n        this.virtual_line_size = 1;\r\n        this.h = 13;\r\n\r\n        this.IWS = false;\r\n    }\r\n\r\n\r\n\r\n    slice(start){\r\n        this.str = this.string;\r\n        return super.slice(start);\r\n    }\r\n\r\n    next(marker = this){\r\n        this.str = this.string;\r\n        return super.next(marker);\r\n    }\r\n\r\n    resetHead() {\r\n        super.resetHead();\r\n        this.off = this.linked_offset;\r\n        this.IWS = false;\r\n        if (this.p) {\r\n            this.p.release();\r\n            this.p = null;\r\n        }\r\n    }\r\n\r\n    release() {\r\n        let prv = this.prv;\r\n\r\n        if (this.nxt)\r\n            this.nxt.prv = prv;\r\n\r\n        if (prv)\r\n            prv.nxt = this.nxt;\r\n\r\n        this.reset();\r\n\r\n        if (TEXT_LINE.Pool)\r\n            this.nxt = TEXT_LINE.Pool;\r\n\r\n        TEXT_LINE.Pool = this;\r\n\r\n        return prv;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.nxt = null;\r\n        this.prv = null;\r\n        this.link = null;\r\n        //container variables\r\n        this.virtual_line_size = 1;\r\n        this.linked_offset = 0;\r\n        this.IS_LINKED_LINE = false;\r\n        this.h = 13;\r\n        this.pixel_width = 0;\r\n        this.setString(\"\");\r\n        this.resetHead();\r\n        this.str = \"\";\r\n    }\r\n\r\n    peek(marker = this, peek_marker = new TEXT_LINE(this.fw)) {\r\n        peek_marker.END = false;\r\n        peek_marker.str = marker.str;\r\n        peek_marker.sl = marker.sl;\r\n        peek_marker.type = marker.type;\r\n        peek_marker.off = marker.off;\r\n        peek_marker.tl = marker.tl;\r\n        peek_marker.char = marker.char;\r\n        peek_marker.line = marker.line;\r\n        peek_marker.h = marker.h;\r\n        if(!this.IS_LINKED_LINE) this.next(peek_marker);\r\n        return peek_marker;\r\n    }\r\n\r\n    removeSection(offset_shift = 0, length_shift = 0) {\r\n        let node = (this.IS_LINKED_LINE) ? this.link : this;\r\n        \r\n        if(this.IS_LINKED_LINE)\r\n            this.string = node.str.slice(0, this.off - offset_shift) + node.str.slice(this.off + this.tl + length_shift);\r\n        else\r\n            node.setString(node.str.slice(0, this.off - offset_shift) + node.str.slice(this.off + this.tl + length_shift), false);\r\n\r\n        this.off -= offset_shift;\r\n\r\n        this.tl = 0;\r\n        \r\n        return this;\r\n    }\r\n\r\n    /** LINKED LINE HANDLING **/\r\n\r\n    traceToRootLine(char) {\r\n        if (this.IS_LINKED_LINE) {\r\n            let node = this;\r\n            do {\r\n                node = node.prv;\r\n                char += node.length + (node.IS_LINKED_LINE | 0) - 1;\r\n            } while (node.IS_LINKED_LINE);\r\n\r\n            return { node, char };\r\n        }\r\n\r\n        return { node: this, char };\r\n    }\r\n\r\n    flushLinkedLines() {\r\n        //Remove all linked lines at this point\r\n        let node = this.nxt;\r\n        let vl = 0;\r\n\r\n        while (node && node.IS_LINKED_LINE) {\r\n            let nxt = node.nxt;\r\n            this.fw.line_container.remove(node);\r\n            node.release();\r\n            vl = 0;\r\n            node = nxt;\r\n        }\r\n\r\n        //this.virtual_line_size = 1;\r\n        //this.parent.decrementNumOfVirtualLines(vl);\r\n        this.setString(this.str);\r\n    }\r\n\r\n    /*** DATA CODE ***/\r\n\r\n    get code() {\r\n        if (this.ty == this.types.data_link) {\r\n            let code_a = this.str.charCodeAt(this.off + 1) ^ 32768;\r\n            let code_b = this.str.charCodeAt(this.off + 2);\r\n            return (code_b << 16 | code_a);\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    insertCode(value = 0, index = 0) {\r\n        let { node, char } = this.traceToRootLine(index);\r\n\r\n        if (node !== this) return node.insertCode(value, char);\r\n\r\n        this.NEED_PARSE = true;\r\n\r\n        if (char < this.off)\r\n            this.off += 3;\r\n\r\n        let code_a = (value & 65535) | 32768;\r\n        let code_b = (value >> 16) & 65535;\r\n        let { is, ie } = getCodePositionOffset(char, this.str);\r\n\r\n        this.setString(this.str.slice(0, is) + String.fromCharCode(15, code_a, code_b, 15) + this.str.slice(ie + 1), false);\r\n    }\r\n\r\n    //Store new inserted text into temporary tokens, whose contents will be merged into the actual token list when parsed.\r\n    insertText(text, char_pos = this.length-1) {\r\n        let { node, char } = this.traceToRootLine(char_pos);\r\n\r\n        if (node !== this) return node.insertText(text, char);\r\n\r\n        var l = this.str.length;\r\n        \r\n        //Account for new line character\r\n\r\n        if (char_pos > l) {\r\n            if (this.nxt) {\r\n                return this.nxt.insertText(text, char_pos - l);\r\n            } else {\r\n                char_pos = l;\r\n            }\r\n        } else if (char_pos < 0) {\r\n            if (this.prv) {\r\n                return this.prv.insertText(text, this.prv.sl - char_pos);\r\n            } else {\r\n                char_pos = 0;\r\n            }\r\n        }\r\n\r\n        return this.addTextCell(text, char_pos);\r\n    }\r\n\r\n    addTextCell(text, offset) {\r\n        var temp = new TEXT_LINE(this.fw);\r\n        temp.prv = null;\r\n        temp.off = offset;\r\n        temp.setString(text, false);\r\n        var temp_prev = null;\r\n        var temp_next = this.text_insert;\r\n\r\n        if (!this.text_insert) {\r\n            this.text_insert = temp;\r\n        } else {\r\n            while (true) {\r\n                if (temp_next) {\r\n                    if (temp_next.off <= temp.off) {\r\n                        //insert before;\r\n                        if (temp_prev) {\r\n                            temp.prv = temp_next;\r\n                            temp_prev.prv = temp;\r\n                        } else {\r\n                            temp.prv = temp_next;\r\n                            this.text_insert = temp;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (!temp_next.prv) {\r\n                        temp_next.prv = temp;\r\n                        break;\r\n                    }\r\n                    temp_prev = temp_next;\r\n                    temp_next = temp_prev.prv;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.NEED_PARSE = true;\r\n\r\n        return this;\r\n    }\r\n\r\n    mergeLeft(str) {\r\n\r\n        let prv = this.prv;\r\n\r\n        if (prv) {\r\n            prv.NEED_PARSE = true;\r\n            prv.setString(prv.str + str);\r\n        }\r\n\r\n        this.parent.remove(this);\r\n\r\n        this.release();\r\n\r\n        return prv;\r\n    }\r\n\r\n    //Takes the token text string and breaks it down into individual pieces, linking resulting tokens into a linked list.\r\n    parse(FORCE, view) {\r\n\r\n        if (view && view.pixel_width !== this.pixel_width)\r\n            FORCE = true;\r\n\r\n        if (!this.NEED_PARSE && !FORCE) return this.nxt;\r\n\r\n        //CACHE parse functions variables\r\n        var token_length = 0,\r\n            temp = null;\r\n\r\n        //This function will change structure of tokens, thus resetting cache.\r\n        this.NEED_PARSE = false;\r\n\r\n        //Flush virtual lines;\r\n        this.flushLinkedLines();\r\n\r\n        //Walk the temporary text chain and insert strings into the text variable : History is also appended to through here\r\n        if (this.text_insert) {\r\n            //These get added to history\r\n            var i = 0;\r\n\r\n            temp = this.text_insert;\r\n\r\n            while (temp) {\r\n                let text = temp.str;\r\n                let index = temp.off;\r\n                let prev_sib = temp.prv;\r\n\r\n                temp.release();\r\n\r\n                //add saved text to history object in framework\r\n\r\n                //text inserts get separated as character insertions, delete characters, and cursors\r\n                let { is } = getCodePositionOffset(index, this.str);\r\n\r\n                if (index < this.str.length && index > 0) {\r\n                    this.setString(this.str.slice(0, is) + text + this.str.slice(is));\r\n                } else if (index > 0) {\r\n                    this.setString(this.str + text);\r\n                } else {\r\n                    //Handle new line character\r\n                    this.setString(this.str.slice(0,1) +  text + this.str.slice(1));\r\n                }\r\n\r\n                temp = prev_sib;\r\n            }\r\n\r\n            this.text_insert = null;\r\n\r\n            this.resetHead();\r\n\r\n            for (i = 1; i < this.text.length; i++) {\r\n                if (i === 0) continue;\r\n                var s = this.text.charCodeAt(i);\r\n                var f = this.text.charCodeAt(i - 1);\r\n                if (( /*f !== this.fw.new_line_code && */ f !== this.fw.del_code) && s === this.fw.del_code) {\r\n                    if (f === this.fw.new_line_code && !this.prev_sib) {\r\n                        break;\r\n                    }\r\n\r\n\r\n                    i--;\r\n                    this.text = this.text.slice(0, i) + this.text.slice(i + 2);\r\n                    i--;\r\n                }\r\n            }\r\n        }\r\n\r\n        let types = this.types;\r\n\r\n        this.next().next(); //new line\r\n\r\n        let size = this.h;\r\n        let total_length = 0;\r\n\r\n\r\n        while (!this.END) {\r\n\r\n            if (this.ty & (types.symbol | types.new_line | types.operator | types.data_link)) {\r\n\r\n                switch (this.ch.charCodeAt(0)) {\r\n\r\n                    case this.fw.data_link:\r\n\r\n                        let code = this.code;\r\n\r\n                        let font_size = (code >> 8) & 255;\r\n\r\n                        size = Math.max(size, font_size);\r\n\r\n                        this.next();\r\n\r\n                        continue;\r\n\r\n                    case this.fw.del_code: // Backspace Character\r\n\r\n                        if (this.off == 1) { //This will delete the new line character;\r\n                            if (this.index == 0) {\r\n                                //Can't delete newline of first line.\r\n                                this.removeSection();\r\n                                break;\r\n                            }\r\n                            //reinsert this into the previous line\r\n\r\n                            var prev_sib = this.prv;\r\n\r\n                            if (prev_sib) {\r\n                                //Linked lines don't have a length, so the delete character would not be exausted.\r\n                                if (!prev_sib.IS_LINKED_LINE)\r\n                                    return this.mergeLeft(this.str.slice(2));\r\n\r\n                                prev_sib.setString(prev_sib.str + this.str.slice(2));\r\n\r\n                                return this.release().parse(true);\r\n                            }\r\n\r\n                        } else\r\n                            this.removeSection(1, 0);\r\n                        break;\r\n\r\n                    case this.fw.new_line_code: // Line Feed\r\n\r\n                        this.IS_LINKED_LINE = false;\r\n\r\n                        let str = this.str,\r\n                            off = this.off;\r\n\r\n                        this.setString(str.slice(0, off));\r\n\r\n                        this.pixel_height = size;\r\n\r\n                        let nl = new TEXT_LINE(this.fw);\r\n\r\n                        nl.setString(str.slice(off));\r\n\r\n                        this.fw.insertLine(this, nl);\r\n\r\n                        nl.NEED_PARSE = true;\r\n\r\n                        return nl;\r\n\r\n                    case this.fw.curs_code:\r\n                        //Update cursor position;\r\n                        var cursor = this.fw.aquireCursor();\r\n\r\n                        if (cursor) {\r\n                            cursor.y = this.index;\r\n                            cursor.x = this.off + (this.IS_LINKED_LINE|0) - 1 - this.linked_offset;\r\n                        }\r\n\r\n                        //Remove cursor section from text\r\n                        this.removeSection();\r\n                        \r\n\r\n                        this.next();\r\n\r\n                        continue;\r\n                }\r\n            }\r\n            //*\r\n            //\r\n            if(view){\r\n                // test for the need to split the line up if its size is more than the max length;\r\n                total_length += view.font.calcSize(this.str, this.off, this.off + this.tl);\r\n\r\n                if (total_length > view.pixel_width && this.ty !== this.types.white_space) {\r\n\r\n                    let ll = new TEXT_LINE(this.fw);\r\n                    ll.IS_LINKED_LINE = true;\r\n                    ll.linked_offset = this.off;\r\n                    ll.virtual_line_size = 0;\r\n                    ll.size = this.size;\r\n                    ll.h = size;\r\n                    ll.sl = this.sl;\r\n                    ll.resetHead();\r\n                    ll.link = (this.link) ? this.link : this;\r\n\r\n                    let node = this;\r\n                    while (node.IS_LINKED_LINE)\r\n                        node = node.prv;\r\n\r\n                   // node.virtual_line_size++;\r\n                   // node.parent.incrementNumOfVirtualLines(1);\r\n\r\n                    this.sl = this.off;\r\n                    this.resetHead();\r\n\r\n                    this.pixel_width = (view) ? view.pixel_width : 0;\r\n                    this.pixel_height = size;\r\n                    this.fw.insertLine(this, ll);\r\n\r\n\r\n                    ll.NEED_PARSE = true;\r\n\r\n                    return ll;\r\n                    //split up line and continue parsing in new line. be sure to pass current state as code. \r\n                }\r\n            }\r\n            //*/\r\n            this.next();\r\n        }\r\n\r\n        this.pixel_width = (view) ? view.pixel_width : 0;\r\n        \r\n        this.pixel_height = size;\r\n\r\n        this.resetHead();\r\n\r\n        //Continue down chain of cells\r\n        return this.nxt;\r\n    }\r\n\r\n    get string() {return (this.IS_LINKED_LINE) ? this.link.str : this.str;}\r\n    set string(string) {if (this.IS_LINKED_LINE)  {this.link.str = string; this.sl = string.length;} else this.str = string;}\r\n\r\n    get length() { return this.sl - this.linked_offset; }\r\n    set length(a) {}\r\n    get cache() { return this.str.slice(1); }\r\n    set cache(a) {}\r\n    get index() {\r\n        return this.parent.getLineIndex(0, this);\r\n    }\r\n    set index(e) {\r\n        this.fw.line_container.remove(this);\r\n        this.fw.line_container.insert(this, e);\r\n    }\r\n    get virtual_index() { return this.parent.getVirtualLineIndex(0, this); }\r\n    set virtual_index(e) {}\r\n    get pixel_offset() { return this.parent.getPixelOffset(0, this); }\r\n    set pixel_height(h) {\r\n        if (this.parent) this.parent.updateHeight(this.h - h);\r\n        this.h = h;\r\n    }\r\n    get pixel_height() { return this.h; }\r\n    charAt(index) { return this.str[index]; }\r\n}\r\n\r\nTEXT_LINE.Pool = null;","const DL_CHAR = String.fromCharCode(15);\r\n\r\nfunction getRealPosition(x, y, fw) {\r\n    let line = fw.line_container.getLine(y),\r\n        str = line.string,\r\n        data = 0;\r\n\r\n    let end = Math.min(x, str.length);\r\n\r\n    for (let i = 0; i < end; i++)\r\n        if (str.charCodeAt(i) == 15)\r\n            i += 4, data++;\r\n\r\n    return x - data * 4;\r\n}\r\n\r\nfunction setDeltaX(x, y, dx, fw, CLAMP = false) {\r\n    let rx = -1;\r\n\r\n    //retrieve line info\r\n    let line = fw.line_container.getLine(y),\r\n        xd = x + dx,\r\n        str = line.string,\r\n        line_length = line.length + ((line.IS_LINKED_LINE | 0) - 1);\r\n\r\n    if (dx > 0) {\r\n        for (let i = x; i <= xd && i < str.length;)\r\n            if (str.charCodeAt(i) == 15)\r\n                xd += 4, i += 4;\r\n            else\r\n                i++;\r\n    } else {\r\n        for (let i = x; i >= xd && i > -1;)\r\n            if (str.charCodeAt(i) == 15)\r\n                xd -= 4, i -= 4;\r\n            else\r\n                i--;\r\n    }\r\n\r\n    if (xd < 0) {\r\n        if (y <= 0) {\r\n            x = 0;\r\n        } else {\r\n            y--;\r\n            line = fw.line_container.getLine(y);\r\n            return setDeltaX(line.length, y, xd, fw, CLAMP);\r\n        }\r\n    } else if (xd > line_length) {\r\n        // Need to trace number of data_links between new site and old and increment the\r\n        if (CLAMP || y >= fw.line_container.height - 1) {\r\n            x = line_length;\r\n        } else {\r\n            x = 0;\r\n            y++;\r\n            return setDeltaX(x, y, xd - line_length - 1, fw, CLAMP);\r\n        }\r\n    } else\r\n        x = xd;\r\n\r\n    rx = xd;\r\n\r\n    return { x, y };\r\n}\r\n\r\nfunction setDeltaY(x, y, dy, fw, defaultX) {\r\n\r\n    var diff = y + dy;\r\n\r\n    if (diff <= 0)\r\n        y = 0;\r\n    else if (diff >= fw.line_container.height - 1) {\r\n        y = fw.line_container.height - 1;\r\n        defaultX = Infinity;\r\n    } else\r\n        y = diff;\r\n\r\n    return setDeltaX(0, y, defaultX, fw, true);\r\n}\r\n\r\nexport class TEXT_CURSOR {\r\n    constructor(fw) {\r\n\r\n        //Character and Line position of cursor\r\n        this.x = 0;\r\n        this.y = 0;\r\n\r\n        this.cx = 0;\r\n\r\n        //Character and Line position of cursor selection bound\r\n        this.selection_x = -1;\r\n        this.selection_y = -1;\r\n\r\n\r\n        //Real position of cursor line and character. These values is related to the total number of non Linked Lines found in the\r\n        //line container object. Lines that are linked are treated as character indexes extending from non Linked Lines.\r\n        this.rpx = 0;\r\n        this.rpy = 0;\r\n\r\n        //Same for selection bounds. \r\n        this.rpsx = 0;\r\n        this.rpsy = 0;\r\n\r\n\r\n        this.index = 0;\r\n        this.fw = fw;\r\n        //this.line_container = fw.line_container;\r\n        this.char_code = fw.curs_char;\r\n        this.selections = [];\r\n        this.line_height = 0;\r\n\r\n        this.defaultX = 0;\r\n\r\n        //FLAGS\r\n        this.IU = false;\r\n        this.REAL_POSITION_NEEDS_UPDATE = true;\r\n        this.REAL_SELECT_POSITION_NEEDS_UPDATE = true;\r\n    }\r\n\r\n    get rx() {\r\n        return getRealPosition(this.x, this.y, this.fw);\r\n    }\r\n\r\n    setX(posx) {\r\n        this.moveX(posx - this.x);\r\n    }\r\n\r\n    setY(posy) {\r\n        this.moveY(posy - this.y);\r\n    }\r\n\r\n    moveX(change) {\r\n        let { x, y } = setDeltaX(this.x, this.y, change, this.fw);\r\n        this.defaultX = x;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.REAL_POSITION_NEEDS_UPDATE = true;\r\n\r\n    }\r\n\r\n    moveY(change) {\r\n        let { x, y } = setDeltaY(this.x, this.y, change, this.fw, this.defaultX);\r\n        this.x = x;\r\n        this.y = y;\r\n        this.REAL_POSITION_NEEDS_UPDATE = true;\r\n    }\r\n\r\n    setSelX(posx) {\r\n        if (this.selection_x < 0) this.selection_x = 0;\r\n        if (this.selection_y < 0) this.selection_y = 0;\r\n        this.moveSelectChar(posx - this.selection_x);\r\n    }\r\n\r\n    setSelY(posy) {\r\n        if (this.selection_y < 0) this.selection_y = 0;\r\n        if (this.selection_x < 0) this.selection_x = 0;\r\n        this.moveSelectLine(posy - this.selection_y);\r\n    }\r\n\r\n\r\n    moveSelectChar(change) {\r\n        let { x, y } = setDeltaX(this.selection_x, this.selection_y, change, this.fw);\r\n        this.selection_x = x;\r\n        this.selection_y = y;\r\n        this.REAL_SELECT_POSITION_NEEDS_UPDATE = true;\r\n    }\r\n\r\n    moveSelectLine(change) {\r\n        let { x, y } = setDeltaY(this.selection_x, this.selection_y, change, this.fw, this.defaultX);\r\n        this.selection_x = x;\r\n        this.selection_y = y;\r\n        this.REAL_SELECT_POSITION_NEEDS_UPDATE = true;\r\n    }\r\n\r\n    charAt() {\r\n        return this.charBefore(this.real_position_x + 1);\r\n    }\r\n\r\n    charBefore(x = this.real_position_x) {\r\n        var line = this.fw.line_container.getVirtualLine(this.real_position_y);\r\n\r\n        if (x < 0) {\r\n            line = line.prev_sib;\r\n            return line.text[line.text.length - 1];\r\n        }\r\n        while (true) {\r\n            if (x >= line.token_length) {\r\n                x -= line.token_length;\r\n                if (!line.next_sib) {\r\n                    //return last \r\n                    return line.text[line.text.length - 1];\r\n                }\r\n            } else {\r\n                return line.text[x];\r\n            }\r\n            line = line.next_sib;\r\n        }\r\n    }\r\n    get HAS_SELECTION() {\r\n        return (this.selection_x > -1 && this.selection_y > -1);\r\n    }\r\n\r\n    set HAS_SELECTION(p) {}\r\n\r\n    get IN_USE() { return this.IU; }\r\n\r\n    set IN_USE(bool) {\r\n        this.IU = bool;\r\n        if (!bool) {\r\n            this.selection_x = -1;\r\n            this.selection_y = -1;\r\n            this.x = 0;\r\n            this.y = 0;\r\n        }\r\n    }\r\n\r\n    resetSel() {\r\n        this.selection_x = -1;\r\n        this.selection_y = -1;\r\n\r\n        this.REAL_SELECT_POSITION_NEEDS_UPDATE = true;\r\n\r\n        for (var i = 0; i < this.selections.length; i++) {\r\n            var div = this.selections[i];\r\n            div.hide();\r\n        }\r\n    }\r\n\r\n    get id() { return this.x | (this.y << 10); }\r\n    get sid() { return this.selection_x | (this.selection_y << 10); }\r\n\r\n    get lineLength() {\r\n        var line = this.fw.line_container.getLine(this.y);\r\n        if (line) {\r\n            return line.length + ((line.IS_LINKED_LINE | 0) - 1);\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    get lineLength_Select() {\r\n        var line = this.fw.line_container.getLine(this.selection_y);\r\n        if (line) {\r\n            return line.length + ((line.IS_LINKED_LINE | 0) - 1);\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    getXCharOffset(x_in, y_in, view = this.fw.default_view) {\r\n        return view.getXoffsetAtPixelCoords(x, y, this.fw);\r\n    }\r\n\r\n    getSortedPositions() {\r\n        this.REAL_POSITION_NEEDS_UPDATE = true;\r\n        this.REAL_SELECT_POSITION_NEEDS_UPDATE = true;\r\n\r\n        var id1 = this.id;\r\n\r\n        var id2 = (this.selection_y << 10) | this.selection_x;\r\n        var x1 = 0,\r\n            y1 = 0,\r\n            x2 = 0,\r\n            y2 = 0;\r\n        if (id2 < id1) {\r\n            x1 = this.selection_x;\r\n            y1 = this.selection_y;\r\n            x2 = this.x;\r\n            y2 = this.y;\r\n        } else {\r\n            x1 = this.x;\r\n            y1 = this.y;\r\n            x2 = this.selection_x;\r\n            y2 = this.selection_y;\r\n        }\r\n\r\n        return {\r\n            x1,\r\n            y1,\r\n            x2,\r\n            y2\r\n        };\r\n    }\r\n\r\n    arrangeSel() {\r\n        if (!this.HAS_SELECTION) return;\r\n        let { x1, y1, x2, y2 } = this.getSortedPositions();\r\n\r\n        this.x = x1;\r\n        this.y = y1;\r\n        this.selection_x = x2;\r\n        this.selection_y = y2;\r\n\r\n    }\r\n\r\n    getLine(y_in) { return this.fw.line_container.getIndexedLine(y_in || this.y); }\r\n\r\n    getYCharOffset(y_in) { return (((y_in) * this.fw.line_height) - 1); }\r\n    //Returns string of concated lines between [x,y] and [x2,y2]. Returns empty string if [x2.selection_y] is less then 0;\r\n    getTextFromSel() {\r\n        var string = [];\r\n\r\n        if (this.HAS_SELECTION) {\r\n\r\n            //Sets each tokens selected attribute to true\r\n            let { x1, y1, x2, y2 } = this.getSortedPositions();\r\n\r\n            for (var i = y1; i <= y2; i++) {\r\n\r\n                let line = this.getLine(i).pk;\r\n                let limX1 = (i == y1) ? x1 : 0;\r\n                let limX2 = (i == y2) ? x2 : line.string.length;\r\n                let j = limX1;\r\n                let str = line.string;\r\n\r\n                while (j <= limX2) {\r\n\r\n                    if (str[j] == DL_CHAR) {\r\n                        j += 4;\r\n                        continue;\r\n                    }\r\n\r\n                    string.push(str[j++]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return string.join(\"\");\r\n    }\r\n\r\n    get line_container() {\r\n        return this.fw.line_container;\r\n    }\r\n\r\n    //Places cursor at the select position.\r\n    setCurToSel() {\r\n        let { x2, y2 } = this.getSortedPositions();\r\n        this.x = x2;\r\n        this.y = y2;\r\n    }\r\n\r\n    toString() {\r\n        this.fw.line_container.getLine(this.y).insertText(this.char_code, this.x);\r\n    }\r\n\r\n}","import { LineContainer } from \"./line_container\";\r\nimport { TEXT_LINE } from \"./line\";\r\nimport { TEXT_CURSOR } from \"./cursor\";\r\n\r\nexport class TextFramework {\r\n    constructor() {\r\n\r\n        this.line_container = new LineContainer();\r\n        this.length = 0;\r\n        this.char_width = 24;\r\n        this.max_length = 0;\r\n        this.scroll_top = 0;\r\n        this.max_line_width = 0;\r\n        this.del_code = 8; // should be 127 or 8\r\n        this.del_char = String.fromCharCode(this.del_code);\r\n        this.new_line_code = 10; // should be 10\r\n        this.new_line = String.fromCharCode(this.new_line_code);\r\n        this.linked_line_code = 13; // should be 13\r\n        this.linked_line = String.fromCharCode(this.linked_line_code);\r\n        this.curs_code = 2; // should be 31\r\n        this.curs_char = String.fromCharCode(this.curs_code);\r\n        this.data_link = 15; // Data Link Character\r\n\r\n        //Fixed character width for scaling\r\n        this.width = 0;\r\n        this.height = 0;\r\n\r\n        this.last_keycode = 0;\r\n        this.cursors = [new TEXT_CURSOR(this)];\r\n\r\n        //UINT flag to allow parsing pausing.\r\n        this.NEED_UPDATE = 0;\r\n\r\n        this.aquireCursor();\r\n    }\r\n\r\n    unload() {\r\n        this.releaseAllCursors();\r\n        //this.parent_element.removeChild(this.DOM);\r\n        this.line_container = null;\r\n        this.DOM = null;\r\n        this.parent_element = null;\r\n        this.cursors = null;\r\n    }\r\n\r\n    get HAS_SELECTION() {\r\n        for (var i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].HAS_SELECTION) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /** RENDERING **/\r\n\r\n    * getLines(pixel_start, pixel_end, view = null) {\r\n\r\n        if (this.line_container.length > 0) {\r\n\r\n            var line = this.line_container.getLineAtPixelOffset(pixel_start | 0);\r\n\r\n            // Offset to prevent y jitter as lines are added and removed.\r\n            let offset = line.pixel_offset - pixel_start;\r\n\r\n            var t = offset;\r\n\r\n            yield offset; \r\n\r\n            while (line) {\r\n\r\n                if(line.NEED_UPDATE)\r\n                    this.updateText(view, line.index, 10);\r\n\r\n                yield line;\r\n\r\n                t += line.pixel_height;\r\n\r\n                if (t >= pixel_end) break;\r\n\r\n                line = line.nxt;\r\n            }\r\n        }\r\n    }\r\n\r\n    renderView(view) {\r\n\r\n        if(this.NEED_UPDATE > 0)\r\n            this.updateText(view, this.NEED_UPDATE);\r\n\r\n        if (!view) return;\r\n\r\n        if (view !== this.cached_view) {\r\n            //rebuild line;\r\n        }\r\n        let gen = this.getLines(view.getTop(), view.getHeight());\r\n        let offset = gen.next().value;\r\n\r\n        view.renderLines(gen, offset);\r\n\r\n        for (var i = 0; i < this.cursors.length; i++) {\r\n            let cur = this.cursors[i];\r\n            if(cur.IN_USE)\r\n                view.renderCursor(cur, this, offset);\r\n        }\r\n    }\r\n\r\n    /*** CURSORS ***/\r\n\r\n    aquireCursor() {\r\n        var temp = null;\r\n        if (this.cursors.length > 0) {\r\n            for (var i = 0; i < this.cursors.length; i++) {\r\n                temp = this.cursors[i];\r\n                if (!temp.IU)\r\n                    break;\r\n                temp = null;\r\n            }\r\n        }\r\n        if (!temp) {\r\n            temp = new TEXT_CURSOR(this);\r\n            temp.index = this.cursors.push(temp) - 1;\r\n        }\r\n\r\n        temp.IN_USE = true;\r\n\r\n        return temp;\r\n    }\r\n    \r\n    releaseAllCursors() {\r\n        for (var i = 0; i < this.cursors.length; i++) \r\n            this.cursors[i].IN_USE = false;           \r\n    }\r\n\r\n    releaseCursor(cursor) {\r\n        cursor.IN_USE = false;\r\n        this.sortCursors();\r\n    }\r\n\r\n    moveCursorsByX(change, SELECT) {\r\n        if (SELECT) {\r\n            for (var i = 0; i < this.cursors.length; i++)\r\n                if (this.cursors[i].IN_USE) this.cursors[i].moveSelectChar(change);\r\n        } else {\r\n            for (var i = 0; i < this.cursors.length; i++)\r\n                if (this.cursors[i].IN_USE) this.cursors[i].moveX(change);\r\n        }\r\n\r\n        this.checkForCursorOverlap();\r\n    }\r\n\r\n    moveCursorsByY(change, SELECT) {\r\n        if (SELECT) {\r\n            for (var i = 0; i < this.cursors.length; i++) {\r\n                if (this.cursors[i].IN_USE) this.cursors[i].moveSelectLine(change);\r\n            }\r\n        } else {\r\n\r\n            for (var i = 0; i < this.cursors.length; i++) {\r\n                if (this.cursors[i].IN_USE) this.cursors[i].moveY(change);\r\n            }\r\n        }\r\n        this.checkForCursorOverlap();\r\n    }\r\n\r\n\r\n    checkForCursorOverlap() {\r\n        var cur1 = null,\r\n            cur2 = null;\r\n        \r\n        for (var i = 0; i < this.cursors.length; i++) {\r\n\r\n            cur1 = this.cursors[i];\r\n            \r\n            if (!cur1.IU) continue;\r\n\r\n            let {x1:c1x1, y1:c1y1, x2:c1x2, y2:c1y2} = cur1.getSortedPositions();\r\n\r\n            let sel1 = c1x1 + c1y1;\r\n            let min1 = (c1y1 << 10)  | c1x1;\r\n            let max1 = (c1y2 << 10)  | c1x2;\r\n\r\n\r\n            for (var j = i + 1; j < this.cursors.length; j++) {\r\n                cur2 = this.cursors[j];\r\n                \r\n                if (!cur2.IU) continue;\r\n\r\n                let {x1:c2x1, y1:c2y1, x2:c2x2, y2:c2y2} = cur2.getSortedPositions();\r\n\r\n                let sel2 = c2x1 + c2y1;\r\n\r\n                if(sel1 >= 0 || sel2 >= 0){\r\n                    let min2 = (c2y1 << 10)  | c2x1;\r\n                    let max2 = (c2y2 << 10)  | c2x2; \r\n                    \r\n                    if(sel1 >= 0 && sel2 >= 0){    \r\n                        if(max1 >= min2 && min1 <= max2){\r\n                            cur1.x = Math.min(c1x1,c2x1);\r\n                            cur1.y = Math.min(c1y1,c2y1);\r\n                            cur1.selction_x = Math.max(c1x2,c2x2);\r\n                            cur1.selction_y = Math.max(c1y2,c2y2);\r\n                            cur2.IN_USE = false;\r\n                        }\r\n                    }else if(sel1 >= 0){\r\n                        if(min2 <= max1 && min2 >= min1)\r\n                            cur2.IN_USE = false;\r\n                    }else{\r\n                        if(min1 <= max2 && min1 >= min2){\r\n                            cur1.x = c2x1;\r\n                            cur1.y = c2y1;\r\n                            cur1.selction_x = c2x2;\r\n                            cur1.selction_y = c2y2;\r\n                            cur2.IN_USE = false;  \r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (cur1.id == cur2.id) \r\n                    cur2.IN_USE = false;                \r\n            }\r\n        }\r\n\r\n        return this.sortCursors();\r\n    }\r\n\r\n    sortCursors() {\r\n        let last = 0;\r\n        \r\n        for (var i = 0; i < this.cursors.length - 1; i++) {\r\n            var\r\n                cur1 = this.cursors[i],\r\n                cur2 = this.cursors[i + 1];\r\n            //move data from cur2 to cur1\r\n            if (!cur1.IU && cur2.IU) {\r\n                this.cursors[i] = cur2;\r\n                this.cursors[i + 1] = cur1;\r\n            }\r\n        }\r\n\r\n        return last;\r\n    }\r\n\r\n    /** LINES **/\r\n\r\n    getLineAtPixelOffset(y){\r\n        return this.line_container.getLineAtPixelOffset(y);\r\n    }\r\n\r\n    getLine(y){\r\n        return this.line_container.getLine(y);\r\n    }\r\n\r\n    //Inserts line into list of lines after prev_line. Returns new line line\r\n    insertLine(prev_line, new_line) {\r\n        if (!prev_line) {\r\n            new_line.prv = new_line;\r\n            new_line.nxt = null;\r\n            this.line_container.insert(new_line, 0);\r\n        } else {\r\n            this.line_container.insert(new_line, prev_line.index + 1);\r\n            new_line.nxt = prev_line.nxt;\r\n            if (new_line.nxt) {\r\n                new_line.nxt.prv = new_line;\r\n            }\r\n            new_line.prv = prev_line;\r\n            prev_line.nxt = new_line;\r\n        }\r\n\r\n        this.length++;\r\n\r\n        new_line.IS_NEW_LINE = true;\r\n\r\n        return new_line;\r\n    }\r\n\r\n    /** TEXT and CODE **/\r\n\r\n    insertText(text, line_index = this.line_container.length-1, char_index) {\r\n        if ((this.line_container.height | 0) < 1) {\r\n            if (text.charCodeAt(0) !== this.new_line_code) \r\n                text = this.new_line + text;\r\n            \r\n            this.insertLine(null, new TEXT_LINE(this)).insertText(text, 1);\r\n            this.updateText(0);\r\n        } else {\r\n            this.line_container.getLine(line_index).insertText(text, char_index);\r\n        }\r\n    }\r\n\r\n    insertCodeAtCursor(code, index){\r\n\r\n        var l = this.cursors.length;\r\n        var j = 0;\r\n\r\n        if (typeof index === \"number\") {\r\n            l = index + 1;\r\n            j = index;\r\n        }\r\n\r\n        for (; j < l; j++) {\r\n            if (this.cursors[j].IN_USE) {\r\n                var cursor = this.cursors[j];\r\n                var line = cursor.y;\r\n                var i = cursor.x;\r\n                this.line_container.getLine(line).insertCode(code, i);\r\n                cursor.resetSel();\r\n            }\r\n        }\r\n    }\r\n\r\n    insertTextAtCursor(char, deletekey, index) {\r\n        var l = this.cursors.length;\r\n        var j = 0;\r\n\r\n        if (typeof index === \"number\") {\r\n            l = index + 1;\r\n            j = index;\r\n        }\r\n\r\n        for (; j < l; j++) {\r\n            if (this.cursors[j].IN_USE) {\r\n                var cursor = this.cursors[j];\r\n                var select = cursor.getTextFromSel().length;\r\n                cursor.arrangeSel();\r\n                cursor.setCurToSel();\r\n                var line = cursor.y;\r\n                var i = cursor.x;\r\n                var c = char;\r\n\r\n                if (select > 0) \r\n                    c = this.del_char.repeat(select) + char;\r\n\r\n                this.line_container.getLine(line).insertText(c, i);\r\n                cursor.toString();\r\n                cursor.resetSel();\r\n                cursor.IN_USE = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    updateText(view = null, index = 0, timeout_limit = 2500) {\r\n        \r\n        this.NEED_UPDATE = 0;\r\n\r\n        var line = this.line_container.getIndexedLine(index);\r\n\r\n        let timeout = 0;\r\n        \r\n        while (line) {\r\n\r\n            line.parse(false, view);\r\n\r\n            if(timeout++ > timeout_limit) {\r\n                this.NEED_UPDATE = index + timeout_limit + 1;\r\n                break;\r\n            }\r\n\r\n            if(line)\r\n                line = line.nxt;\r\n        }\r\n    }\r\n\r\n    toString() {\r\n        var text = \"\";\r\n\r\n        var line = this.line_container.getIndexedLine(0);\r\n        \r\n        while (line) {\r\n            text += this.new_line + line.cache;\r\n            line = line.nxt;\r\n        }\r\n\r\n        return text;\r\n    }\r\n\r\n    clearContents() {\r\n        //TODO - do proper cleanup to clear contents.\r\n        this.line_container = new LineContainer();\r\n        this.length = 0;\r\n    }\r\n}","//Object to cache fonts in program;\r\n\r\n\r\n//Font range UTF8 = 33 - 126 ; 93 Characters\r\n\r\nconst canvas_size = 1024;\r\n// This dna handless the loading and conversion of HTML fonts into font atlases for consumption by text framework. \r\nexport class Font {\r\n\r\n    static createBackEnd() {\r\n        if (Font.canvas) return;\r\n\r\n        Font.existing_fonts = {};\r\n\r\n        Font.b_size = 64;\r\n        //No need to create multiple canvas elements\r\n        var canvas = document.createElement(\"canvas\");\r\n        canvas.width = canvas_size;\r\n        canvas.height = canvas_size;\r\n        Font.ctx = canvas.getContext(\"2d\");\r\n\r\n\r\n        canvas.style.position = \"absolute\";\r\n        canvas.style.zIndex = 200000;\r\n\r\n        Font.canvas = canvas;\r\n    }\r\n\r\n    constructor(font_name, mono_space_size = 0) {\r\n\r\n        this.IS_MONOSPACE = (mono_space_size > 0);\r\n        this.mono_space_size = mono_space_size;\r\n\r\n        this.name = font_name;\r\n\r\n        this.atlas_start = 32;\r\n        this.atlas_end = 127;\r\n        this.IS_READY = false;\r\n        this.props = null;\r\n\r\n\r\n        if (!this.IS_MONOSPACE) {\r\n            Font.createBackEnd();\r\n\r\n            if (Font.existing_fonts[font_name]) return Font.existing_fonts[font_name];\r\n\r\n            var num_of_workers = 15;\r\n\r\n            this.workers = new Array(num_of_workers);\r\n            this.props = new Array(this.atlas_end - this.atlas_start);\r\n\r\n            for (var i = 0, l = this.atlas_end - this.atlas_start; i < l; i++) {\r\n                this.props[i] = {};\r\n            }\r\n\r\n            Font.existing_fonts[this.name] = this;\r\n\r\n            var cache = sessionStorage.getItem(this.name);\r\n            if (cache) {\r\n                cache = JSON.parse(cache);\r\n                this.props = cache.props;\r\n                this.calc_index = Infinity;\r\n                //  this.drawField()\r\n                this.IS_READY = true;\r\n            } else {\r\n\r\n                this.calc_index = 0;\r\n                this.finished_index = 0;\r\n\r\n                for (var i = 0; i < num_of_workers; i++) {\r\n                    this.finished_index++;\r\n                    this.calcSection(i);\r\n                }\r\n            }\r\n        } else\r\n            this.IS_READY = true;\r\n\r\n        this.onComplete();\r\n    }\r\n\r\n    calcSize(str, start = 0, end = str.length) {\r\n        let total_size = 0;\r\n        if (this.IS_MONOSPACE) {\r\n            for (let i = start; i < end; i++) {\r\n                let code = str.charCodeAt(i) - 32;\r\n\r\n                if (code < 0)\r\n                    continue;\r\n\r\n                total_size += this.mono_space_size;\r\n            }\r\n        } else {\r\n            let font_data = this.props;\r\n\r\n            for (let i = start; i < end; i++) {\r\n                let code = str.charCodeAt(i) - 32;\r\n\r\n                if (code < 0)\r\n                    continue;\r\n\r\n                let char = font_data[code];\r\n\r\n                total_size += char.width;\r\n            }\r\n        }\r\n        return total_size;\r\n    }\r\n\r\n    onComplete() {}\r\n\r\n    startCalc() {\r\n        for (var i = 0; i < this.workers.length; i++)\r\n            this.calcSection(i);\r\n    }\r\n\r\n    calcSection() {\r\n        var start = this.atlas_start;\r\n        var end = this.atlas_end;\r\n        var length = end - start;\r\n        var i = this.calc_index;\r\n        var font_size = canvas_size * 0.8;\r\n\r\n        if (this.calc_index >= length) return;\r\n\r\n        Font.canvas.width = canvas_size;\r\n        Font.ctx.font = `${12}px  \"${this.name}\"`;\r\n        Font.ctx.textBaseline = \"middle\";\r\n        Font.ctx.textAlign = \"center\";\r\n        var char = String.fromCharCode(start + i);\r\n        Font.ctx.fillStyle = \"black\";\r\n        var width = Font.ctx.measureText(char).width; // * (12/300)\r\n\r\n        this.props[i] = {\r\n            char: char,\r\n            code: start + i,\r\n            width: width,\r\n            width2: width,\r\n            ratio: width / font_size\r\n        };\r\n\r\n        this.calc_index++;\r\n\r\n        this.calcSection(i);\r\n    }\r\n\r\n    calculateMonospace() {\r\n        return;\r\n        var DIV = document.createElement(\"pre\");\r\n\r\n        DIV.style.fontFamily = `${this.name}`;\r\n        DIV.style.fontSize = 12 + \"px\";\r\n        DIV.style.letterSpacing = 0;\r\n        DIV.style.wordSpacing = 0;\r\n        DIV.style.padding = 0;\r\n        DIV.style.border = 0;\r\n        DIV.style.margin = 0;\r\n        DIV.style.position = \"fixed\";\r\n        DIV.innerHTML = \"A\";\r\n\r\n        var IS_MONOSPACE = true;\r\n        var last_width = 0;\r\n        var width = 0;\r\n\r\n        document.body.appendChild(DIV);\r\n\r\n        last_width = DIV.getBoundingClientRect().width;\r\n\r\n        for (var i = this.atlas_start, d = 0; i < this.atlas_end; i++, d++) {\r\n            var char = String.fromCharCode(i);\r\n            DIV.innerHTML = char;\r\n\r\n            width = DIV.getBoundingClientRect().width;\r\n            this.props[i - this.atlas_start].width = width;\r\n            if (last_width !== width) {\r\n                IS_MONOSPACE = false;\r\n            }\r\n        }\r\n\r\n        document.body.removeChild(DIV);\r\n\r\n        this.IS_MONOSPACE = IS_MONOSPACE;\r\n    }\r\n}","import { Font as TEXT_FONT } from \"./font\";\r\n\r\nlet k = 0;\r\n\r\nexport class TextIO {\r\n\r\n    constructor(element, font) {\r\n\r\n        if (element) {\r\n            this.parent_element = element;\r\n            this.DOM = document.createElement(\"div\");\r\n            this.DOM.classList.add(\"text_edit\");\r\n            this.DOM.style.font_kerning = \"none\";\r\n            element.appendChild(this.DOM);\r\n        }\r\n\r\n        this.top = 0;\r\n        this.height = 500;\r\n\r\n        this.font = null;\r\n        this.font_size = 12;\r\n        this.letter_spacing = 0;\r\n        this.IS_MONOSPACE = false;\r\n        this.setFont(font || \"Times New Roman\");\r\n\r\n        this.fw = null;\r\n        this.gutter_width = 30;\r\n\r\n        //Pixel width limitation to apply to allow word wrapping;\r\n        this.pixel_width = 1500;\r\n\r\n        //Amount of pixel padding to add to top and height\r\n        this.pre_roll = 50;\r\n    }\r\n\r\n\r\n    /*** POSITIONING ***/\r\n\r\n    getGutterWidth(line) { return this.gutter_width; }\r\n\r\n    getTop() { return this.top - this.pre_roll; }\r\n\r\n    getHeight() { return this.height + this.pre_roll * 2; }\r\n\r\n    getLineHeight(line) { return 13; }\r\n\r\n    setLineHeight() {\r\n\r\n    }\r\n\r\n    getPixelFromX(x, line) {\r\n        let x_pixel = 0;\r\n        let font_data = this.font.props;\r\n\r\n        let size = 13 / 12;\r\n\r\n\r\n        if (line) {\r\n\r\n            var text = line.string;\r\n            let lex = line.pk;\r\n            var i = 0;\r\n            outer:\r\n                while (!lex.END && x > -1) {\r\n\r\n                    if (lex.ty == lex.types.data_link) {\r\n\r\n                        let code = lex.code;\r\n\r\n                        let font_size = (code >> 8) & 255;\r\n\r\n                        size = font_size / 12;\r\n\r\n                        lex.next();\r\n\r\n                        x -= 4;\r\n\r\n                        continue;\r\n                    }\r\n\r\n                    //Cap to end of line to prevent out of bounds reference\r\n                    let len = lex.off + lex.tl;\r\n\r\n                    i = lex.off;\r\n\r\n                    for (; x > 0 && i < len; i++) {\r\n                        var code = text.charCodeAt(i);\r\n                        var char = font_data[code - 32];\r\n\r\n                        if (code < 32) {\r\n                            //x_pixel += 0;\r\n                        } else {\r\n                            x--;\r\n                            x_pixel += char.width * size;\r\n                        }\r\n                    }\r\n\r\n\r\n                    lex.next();\r\n                }\r\n\r\n        }\r\n\r\n        return x_pixel + this.getGutterWidth(line);\r\n    }\r\n\r\n    getXFromPixelCoord(x_pixel, line) {\r\n        let x = 1;\r\n        let font_data = this.font.props;\r\n\r\n        let size = 13 / 12;\r\n\r\n        if (line) {\r\n\r\n            let lex = line.pk;\r\n            var text = line.string;\r\n            let total_x = 0;\r\n\r\n\r\n            outer:\r\n                while (!lex.END) {\r\n\r\n                    if (lex.ty == lex.types.data_link) {\r\n                        let code = lex.code;\r\n\r\n                        let font_size = code >> 8 & 255;\r\n\r\n                        size = font_size / 12;\r\n\r\n                        lex.next();\r\n\r\n                        continue;\r\n                    }\r\n\r\n                    //Cap to end of line to prevent out of bounds reference\r\n\r\n                    let l = lex.off + lex.tl;\r\n\r\n                    x = lex.off;\r\n\r\n                    for (; x < l; x++) {\r\n                        var code = text.charCodeAt(x) - 32;\r\n\r\n                        if (code < 0)\r\n                            continue;\r\n\r\n                        var char = font_data[code];\r\n\r\n                        total_x += char.width * size;\r\n\r\n                        if ((x_pixel) < total_x)\r\n                            break outer;\r\n                    }\r\n\r\n                    lex.next();\r\n                }\r\n\r\n        }\r\n\r\n\r\n\r\n        return x + (line.IS_LINKED_LINE | 0) - 1 - line.linked_offset;\r\n    }\r\n\r\n    getYFromPixelCoord(y_pixel, fw = this.fw) {\r\n        let line = this.getLineAtPixelCoord(y_pixel, fw);\r\n        return line.index;\r\n    }\r\n\r\n    getLineAtPixelCoord(y_pixel, fw = this.fw) {\r\n        return fw.getLineAtPixelOffset(y_pixel);\r\n    }\r\n\r\n    scanToX(x, y_pixel, fw = this.fw) {\r\n        let line = this.getLineAtPixelOffset(y_pixel, fw);\r\n        return this.getPixelFromX(x, line, fw);\r\n    }\r\n\r\n    /*** INSERTION HOOKS ***/\r\n\r\n    /*** RENDERING ***/\r\n\r\n    render(fw = this.fw) {\r\n        fw.renderView(this);\r\n    }\r\n\r\n    /**\r\n     * Used to output a rendered text line, which may include markup to handle styling.\r\n     *\r\n     * @param      {Lexer}  lex     A lexer object that will create tokens from an input line. \r\n     * @return     {String}  The return parsed and formated string.\r\n     */\r\n    parseLine(lex) {\r\n        //render out data links\r\n        let text = `<span style=\"font-size:${lex.h}px\">`;\r\n        let font_size_close = `</span>`;\r\n\r\n        while (!lex.END) {\r\n            if (lex.ty !== lex.types.data_link) {\r\n\r\n                if (lex.ch == \"<\")\r\n                    text += \"&lt;\";\r\n                else if (lex.ch == \">\")\r\n                    text += \"&gt;\";\r\n                else\r\n                    text += lex.tx;\r\n\r\n            } else {\r\n                let code = lex.code;\r\n                let font_size = code >> 8 & 255;\r\n                text += `</span><span style=\"font-size:${font_size}px\"><span style=\"display:inline-block; width:1px; height:100%; margin-left:-1px; background-color:green\"></span>`;\r\n            }\r\n            lex.next();\r\n        }\r\n\r\n        return text + font_size_close;\r\n    }\r\n\r\n    renderLines(lines, offset_top) {\r\n\r\n        this.DOM.innerHTML = \"\";\r\n        this.DOM.style.fontSize = \"100%\";\r\n        var text = \"<div class='small_scale_pre'>\";\r\n        let line = null;\r\n        let y = -50;\r\n\r\n        while ((line = lines.next().value)) {\r\n            let pk = line.pk.next();\r\n            text += `<pre class='small_scale_pre' style='top:${(y + offset_top)}px'><span style='width:30px; display:inline-block; margin-top:0'>${line.index}</span>${this.parseLine(pk)}</pre>`;\r\n            y += line.pixel_height;\r\n        }\r\n\r\n        text += \"</div>\";\r\n\r\n        this.DOM.innerHTML = text;\r\n    }\r\n\r\n    renderCursor(cur, fw = this.fw, offset_top) {\r\n        let line = fw.getLine(cur.y);\r\n        let height = line.pixel_height;\r\n        let px = this.getPixelFromX(cur.x, line, fw);\r\n        let py = line.pixel_offset;\r\n\r\n        this.DOM.innerHTML += `<div class=\"txt_cursor\" style=\"top:${py  -  this.top}px; left:${px}px; width:1px; height:${height}px\">\r\n        <div style=\"position:absolute; top:-10px; left:0; font-size10px; color:red; background-color:white\">${cur.x}|${cur.rx}|${cur.rx - cur.x}</div>\r\n        </div>`;\r\n\r\n        if (cur.HAS_SELECTION) {\r\n            /*\r\n            this.selection_index = 0;\r\n\r\n            var id1 = this.id;\r\n            var id2 = (this.selection_y << 10) | this.selection_x\r\n\r\n            if (id2 < id1) {\r\n                var x1 = this.selection_x;\r\n                var y1 = this.selection_y;\r\n                var x2 = this.x;\r\n                var y2 = this.y;\r\n            } else {\r\n                var x1 = this.x;\r\n                var y1 = this.y;\r\n                var x2 = this.selection_x;\r\n                var y2 = this.selection_y;\r\n            }\r\n\r\n            var line_count = y2 - y1;\r\n\r\n            for (var i = 0; i < line_count + 1; i++) {\r\n                var x_start = 0;\r\n                var y = y1 + i;\r\n                var line = this.getLine(y);\r\n                var x_end = line.length - ((line.IS_LINKED_LINE) ? 0 : 1);\r\n\r\n                if (i === 0) {\r\n                    x_start = x1;\r\n                }\r\n\r\n                if (i == line_count) {\r\n\r\n                    x_end = Math.min(x2, line.length - ((line.IS_LINKED_LINE) ? 0 : 1));\r\n                }\r\n            }\r\n\r\n            //createSelection(y, x_start, x_end, xc, yc, scale)\r\n\r\n            if (!this.selections) {\r\n                for (var i = 0; i < this.selections.length; i++) {\r\n                    var div = this.selections[i];\r\n                    div.hide();\r\n                }\r\n                this.selection_index = 0;\r\n            }\r\n\r\n            if (!this.selections[this.selection_index]) {\r\n                var div = document.createElement(\"div\");\r\n                div.style.cssText = `\r\n                position:absolute;\r\n                top:0;\r\n                left:0;\r\n                background-color:rgba(250,0,0,0.5);\r\n                z-index:30000000000;\r\n            `;\r\n                this.selections[this.selection_index] = div;\r\n\r\n            }\r\n\r\n            var div = this.selections[this.selection_index];\r\n            this.selection_index++;\r\n            var x1 = this.getXCharOffset(x_start, y);\r\n            var x2 = this.getXCharOffset(x_end, y);\r\n            var width = x2 - x1;\r\n\r\n            div.show();\r\n            div.style.left = ((x1 + xc) * scale) + \"px\";\r\n            div.style.top = ((this.getYCharOffset(y) + yc) * scale) + \"px\";\r\n            div.style.width = width * scale + \"px\";\r\n            div.style.height = 16 * scale + \"px\";\r\n            this.fw.parent_element.appendChild(div);\r\n            */\r\n        }\r\n    }\r\n\r\n    /*** FONTS ***/\r\n\r\n    setFont(font) {\r\n        if (font instanceof TEXT_FONT) {\r\n            this.font = font;\r\n            if (this.DOM)\r\n                this.DOM.style.fontFamily = this.font.name;\r\n        } else {\r\n            this.font = new TEXT_FONT(font);\r\n            if (this.DOM)\r\n                this.DOM.style.fontFamily = this.font.name;\r\n            return new Promise((res, rej) => {\r\n                this.font.onComplete = () => {\r\n                    res();\r\n                };\r\n\r\n                if (this.font.IS_READY)\r\n                    res();\r\n                else\r\n                    this.font.startCalc();\r\n            });\r\n        }\r\n    }\r\n\r\n    /*** CURSORS ***/\r\n\r\n    setCursor(cur, fw = this.fw, pixel_x = 0, pixel_y = 0) {\r\n        let line = this.getLineAtPixelCoord(pixel_y, fw);\r\n        cur.y = line.index;\r\n        cur.line_height = line.pixel_height;\r\n        cur.x = this.getXFromPixelCoord(pixel_x - this.getGutterWidth(line), line, fw);\r\n        cur.defaultX = cur.x;\r\n    }\r\n\r\n    /*** EVENT SYSTEMS ***/\r\n\r\n    onMouseUp(event, fw = this.fw, x = event.offsetX, y = event.y - this.parent_element.getBoundingClientRect().y) {\r\n        if (!fw) return;\r\n        y += this.top;\r\n        if (event.button !== 0) return;\r\n        if (event.ctrlKey) {\r\n\r\n            var cur = fw.aquireCursor();\r\n\r\n            this.setCursor(cur, fw, x, y);\r\n\r\n            for (var i = 0; i < fw.cursors.length; i++) {\r\n                var c1 = fw.cursors[i];\r\n                if (c1.IN_USE)\r\n                    for (var j = i + 1; j < fw.cursors.length; j++) {\r\n                        var c2 = fw.cursors[j];\r\n                        if (c2.IN_USE && c1.id > c2.id) {\r\n                            let x = c1.x;\r\n                            c1.x = c2.x;\r\n                            c2.x = x;\r\n                            x = c1.y;\r\n                            c1.y = c2.y;\r\n                            c2.y = x;\r\n                        }\r\n                    }\r\n            }\r\n        } else {\r\n            for (let i = 1; i < fw.cursors.length; i++)\r\n                fw.releaseCursor(fw.cursors[i]);\r\n\r\n            this.setCursor(fw.cursors[0], fw, x, y);\r\n        }\r\n\r\n        fw.checkForCursorOverlap();\r\n        this.render(fw);\r\n        event.preventDefault();\r\n    }\r\n\r\n    onKeyPress(event, fw = this.fw) {\r\n        if (!fw) return;\r\n\r\n        var keycode = event.keyCode;\r\n        var text = String.fromCharCode(keycode);\r\n        if (event.ctrlKey) {\r\n            return;\r\n        } else {\r\n            if (text.length > 0) {\r\n                switch (keycode) {\r\n                    case 13:\r\n                        text = fw.new_line;\r\n                        break;\r\n                    default:\r\n\r\n                        break;\r\n                }\r\n\r\n                fw.insertTextAtCursor(text);\r\n\r\n                fw.last_keycode = keycode;\r\n            }\r\n        }\r\n\r\n        fw.updateText(this);\r\n        this.render(fw);\r\n    }\r\n\r\n    onKeyDown(event, fw = this.fw) {\r\n        if (!fw) return;\r\n\r\n        var keycode = event.keyCode;\r\n        var UPDATED = false;\r\n        //if delete key is pressed. \r\n        if (keycode === 8 || keycode === 46) {\r\n            if (keycode === 46)\r\n                fw.moveCursorsByX(1);\r\n            fw.insertTextAtCursor(String.fromCharCode(8), (keycode === 46));\r\n            fw.updateText(this);\r\n            event.preventDefault();\r\n            UPDATED = true;\r\n        } else if (keycode == 37) { //left\r\n            fw.moveCursorsByX(-1);\r\n            UPDATED = true;\r\n        } else if (keycode == 38) { //top\r\n            fw.moveCursorsByY(-1);\r\n            UPDATED = true;\r\n        } else if (keycode == 39) { //right\r\n            fw.moveCursorsByX(1);\r\n            UPDATED = true;\r\n        } else if (keycode == 40) { //bottom\r\n            //fw.moveCursorsByY(1);\r\n            let font_size = 25 + (k -= 5);\r\n            let code = font_size << 8;\r\n            fw.insertCodeAtCursor(code);\r\n            fw.updateText(this);\r\n            event.preventDefault();\r\n            UPDATED = true;\r\n        }\r\n\r\n        if (UPDATED)\r\n            this.render(fw);\r\n    }\r\n\r\n    onMouseWheel(event, fw = this.fw) {\r\n        let delta = event.deltaY * 0.05;\r\n\r\n        if (Math.abs(delta) < 5) return;\r\n        this.top += delta;\r\n        this.render(fw);\r\n    }\r\n}","/**\r\n * To be extended by objects needing linked list methods.\r\n */\r\nexport const LinkedList = {\r\n\r\n    props: {\r\n        /**\r\n         * Properties for horizontal graph traversal\r\n         * @property {object}\r\n         */\r\n        defaults: {\r\n            /**\r\n             * Next sibling node\r\n             * @property {object | null}\r\n             */\r\n            nxt: null,\r\n\r\n            /**\r\n             * Previous sibling node\r\n             * @property {object | null}\r\n             */\r\n            prv: null\r\n        },\r\n\r\n        /**\r\n         * Properties for vertical graph traversal\r\n         * @property {object}\r\n         */\r\n        children: {\r\n            /**\r\n             * Number of children nodes.\r\n             * @property {number}\r\n             */\r\n            noc: 0,\r\n            /**\r\n             * First child node\r\n             * @property {object | null}\r\n             */\r\n            fch: null,\r\n        },\r\n        parent: {\r\n            /**\r\n             * Parent node\r\n             * @property {object | null}\r\n             */\r\n            par: null\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        /**\r\n         * Default methods for Horizontal traversal\r\n         */\r\n        defaults: {\r\n\r\n            insertBefore: function(node) {\r\n\r\n                if (!this.nxt && !this.prv) {\r\n                    this.nxt = this;\r\n                    this.prv = this;\r\n                }\r\n\r\n                if(node){\r\n                    if (node.prv)\r\n                       node.prv.nxt = node.nxt;\r\n                    \r\n                    if(node.nxt) \r\n                        node.nxt.prv = node.prv;\r\n                \r\n                    node.prv = this.prv;\r\n                    node.nxt = this;\r\n                    this.prv.nxt = node;\r\n                    this.prv = node;\r\n                }else{\r\n                    if (this.prv)\r\n                        this.prv.nxt = node;\r\n                    this.prv = node;\r\n                } \r\n            },\r\n\r\n            insertAfter: function(node) {\r\n\r\n                if (!this.nxt && !this.prv) {\r\n                    this.nxt = this;\r\n                    this.prv = this;\r\n                }\r\n\r\n                if(node){\r\n                    if (node.prv)\r\n                       node.prv.nxt = node.nxt;\r\n                    \r\n                    if(node.nxt) \r\n                        node.nxt.prv = node.prv;\r\n                \r\n                    node.nxt = this.nxt;\r\n                    node.prv = this;\r\n                    this.nxt.prv = node;\r\n                    this.nxt = node;\r\n                }else{\r\n                    if (this.nxt)\r\n                        this.nxt.prv = node;\r\n                    this.nxt = node;\r\n                } \r\n            }\r\n        },\r\n        /**\r\n         * Methods for both horizontal and vertical traversal.\r\n         */\r\n        parent_child: {\r\n            /**\r\n             *  Returns eve. \r\n             * @return     {<type>}  { description_of_the_return_value }\r\n             */\r\n            root() {\r\n                return this.eve();\r\n            },\r\n            /**\r\n             * Returns the root node. \r\n             * @return     {Object}  return the very first node in the linked list graph.\r\n             */\r\n            eve() {\r\n                if (this.par)\r\n                    return this.par.eve();\r\n                return this;\r\n            },\r\n\r\n            push(node) {\r\n                this.addChild(node);\r\n            },\r\n\r\n            unshift(node) {\r\n                this.addChild(node, (this.fch) ? this.fch.pre : null);\r\n            },\r\n\r\n            replace(old_node, new_node) {\r\n                if (old_node.par == this && old_node !== new_node) {\r\n                    if (new_node.par) new_node.par.remove(new_node);\r\n\r\n                    if (this.fch == old_node) this.fch = new_node;\r\n                    new_node.par = this;\r\n\r\n\r\n                    if (old_node.nxt == old_node) {\r\n                        new_node.nxt = new_node;\r\n                        new_node.prv = new_node;\r\n                    } else {\r\n                        new_node.prv = old_node.prv;\r\n                        new_node.nxt = old_node.nxt;\r\n                        old_node.nxt.prv = new_node;\r\n                        old_node.prv.nxt = new_node;\r\n                    }\r\n\r\n                    old_node.par = null;\r\n                    old_node.prv = null;\r\n                    old_node.nxt = null;\r\n                }\r\n            },\r\n\r\n            insertBefore: function(node) {\r\n                if (this.par)\r\n                    this.par.addChild(node, this.pre);\r\n                else\r\n                    LinkedList.methods.defaults.insertBefore.call(this, node);\r\n            },\r\n\r\n            insertAfter: function(node) {\r\n                if (this.par)\r\n                    this.par.addChild(node, this);\r\n                else\r\n                    LinkedList.methods.defaults.insertAfter.call(this, node);\r\n            },\r\n\r\n            addChild: function(child = null, prev = null) {\r\n\r\n                if (!child) return;\r\n\r\n                if (child.par)\r\n                    child.par.removeChild(child);\r\n\r\n                if (prev && prev.par && prev.par == this) {\r\n                    if (child == prev) return;\r\n                    child.prv = prev;\r\n                    prev.nxt.prv = child;\r\n                    child.nxt = prev.nxt;\r\n                    prev.nxt = child;\r\n                } else if (this.fch) {\r\n                    child.prv = this.fch.prv;\r\n                    this.fch.prv.nxt = child;\r\n                    child.nxt = this.fch;\r\n                    this.fch.prv = child;\r\n                } else {\r\n                    this.fch = child;\r\n                    child.nxt = child;\r\n                    child.prv = child;\r\n                }\r\n\r\n                child.par = this;\r\n                this.noc++;\r\n            },\r\n\r\n            /**\r\n             * Analogue to HTMLElement.removeChild()\r\n             *\r\n             * @param      {HTMLNode}  child   The child\r\n             */\r\n            removeChild: function(child) {\r\n                if (child.par && child.par == this) {\r\n                    child.prv.nxt = child.nxt;\r\n                    child.nxt.prv = child.prv;\r\n\r\n                    if (child.prv == child || child.nxt == child) {\r\n                        if (this.fch == child)\r\n                            this.fch = null;\r\n                    } else if (this.fch == child)\r\n                        this.fch = child.nxt;\r\n\r\n                    child.prv = null;\r\n                    child.nxt = null;\r\n                    child.par = null;\r\n                    this.noc--;\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Gets the next node. \r\n             *\r\n             * @param      {HTMLNode}  node    The node to get the sibling of.\r\n             * @return {HTMLNode | TextNode | undefined}\r\n             */\r\n            getNextChild: function(node = this.fch) {\r\n                if (node && node.nxt != this.fch && this.fch)\r\n                    return node.nxt;\r\n                return null;\r\n            },\r\n\r\n            /**\r\n             * Gets the child at index.\r\n             *\r\n             * @param      {number}  index   The index\r\n             */\r\n            getChildAtIndex: function(index, node = this.fch) {\r\n                if(node.par !== this)\r\n                    node = this.fch;\r\n\r\n                let first = node;\r\n                let i = 0;\r\n                while (node && node != first) {\r\n                    if (i++ == index)\r\n                        return node;\r\n                    node = node.nxt;\r\n                }\r\n\r\n                return null;\r\n            },\r\n        }\r\n    },\r\n\r\n    gettersAndSetters : {\r\n        peer : {\r\n            next: {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: function() {\r\n                    return this.nxt;\r\n                },\r\n                set: function(n) {\r\n                    this.insertAfter(n);\r\n                }\r\n            },\r\n            previous: {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: function() {\r\n                    return this.prv;\r\n                },\r\n                set: function(n) {\r\n                    this.insertBefore(n);\r\n                }   \r\n            }\r\n        },\r\n        tree : {\r\n            children: {\r\n                enumerable: true,\r\n                configurable: true,\r\n                /**\r\n                 * @return {array} Returns an array of all children.\r\n                 */\r\n                get: function() {\r\n                    for (var z = [], i = 0, node = this.fch; i++ < this.noc;)(\r\n                        z.push(node), node = node.nxt\r\n                    );\r\n                    return z;\r\n                },\r\n                set: function(e) {\r\n                    /* No OP */\r\n                }\r\n            },\r\n            parent: {\r\n                enumerable: true,\r\n                configurable: true,\r\n                /**\r\n                 * @return parent node\r\n                 */\r\n                get: function() {\r\n                    return this.par;\r\n                },\r\n                set: function(p) {\r\n                    if(p && p.addChild)\r\n                        p.addChild(this);\r\n                    else if(p === null && this.par)\r\n                        this.par.removeChild(this);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    mixin : (constructor)=>{\r\n        const proto = (typeof(constructor) == \"function\") ? constructor.prototype : (typeof(constructor) == \"object\") ? constructor : null;\r\n        if(proto){\r\n            Object.assign(proto, \r\n                LinkedList.props.defaults, \r\n                LinkedList.methods.defaults\r\n            );\r\n        }\r\n        Object.defineProperties(proto, LinkedList.gettersAndSetters.peer);\r\n    },\r\n\r\n    mixinTree : (constructor)=>{\r\n        const proto = (typeof(constructor) == \"function\") ? constructor.prototype : (typeof(constructor) == \"object\") ? constructor : null;\r\n        if(proto){\r\n            Object.assign(proto, \r\n                LinkedList.props.defaults, \r\n                LinkedList.props.children, \r\n                LinkedList.props.parent, \r\n                LinkedList.methods.defaults, \r\n                LinkedList.methods.parent_child\r\n                );\r\n            Object.defineProperties(proto, LinkedList.gettersAndSetters.tree);\r\n            Object.defineProperties(proto, LinkedList.gettersAndSetters.peer);\r\n        }\r\n    }\r\n};\r\n\r\nexport default LinkedList;","export default class Color extends Float64Array {\n\n    constructor(r, g, b, a = 0) {\n        super(4);\n\n        this.r = 0;\n        this.g = 0;\n        this.b = 0;\n        this.a = 1;\n\n        if (typeof(r) === \"number\") {\n            this.r = r; //Math.max(Math.min(Math.round(r),255),-255);\n            this.g = g; //Math.max(Math.min(Math.round(g),255),-255);\n            this.b = b; //Math.max(Math.min(Math.round(b),255),-255);\n            this.a = a; //Math.max(Math.min(a,1),-1);\n        }\n    }\n\n    get r() {\n        return this[0];\n    }\n\n    set r(r) {\n        this[0] = r;\n    }\n\n    get g() {\n        return this[1];\n    }\n\n    set g(g) {\n        this[1] = g;\n    }\n\n    get b() {\n        return this[2];\n    }\n\n    set b(b) {\n        this[2] = b;\n    }\n\n    get a() {\n        return this[3];\n    }\n\n    set a(a) {\n        this[3] = a;\n    }\n\n    set(color) {\n        this.r = color.r;\n        this.g = color.g;\n        this.b = color.b;\n        this.a = (color.a != undefined) ? color.a : this.a;\n    }\n\n    add(color) {\n        return new Color(\n            color.r + this.r,\n            color.g + this.g,\n            color.b + this.b,\n            color.a + this.a\n        );\n    }\n\n    mult(color) {\n        if (typeof(color) == \"number\") {\n            return new Color(\n                this.r * color,\n                this.g * color,\n                this.b * color,\n                this.a * color\n            );\n        } else {\n            return new Color(\n                this.r * color.r,\n                this.g * color.g,\n                this.b * color.b,\n                this.a * color.a\n            );\n        }\n    }\n\n    sub(color) {\n        return new Color(\n            this.r - color.r,\n            this.g - color.g,\n            this.b - color.b,\n            this.a - color.a\n        );\n    }\n\n    lerp(to, t){\n        return this.add(to.sub(this).mult(t));\n    }\n\n    toString() {\n        return `rgba(${this.r|0},${this.g|0},${this.b|0},${this.a})`;\n    }\n\n    toJSON() {\n        return `rgba(${this.r|0},${this.g|0},${this.b|0},${this.a})`;\n    }\n\n    copy(other){\n        let out = new Color(other);\n        return out;\n    }\n}\n","import whind from \"@candlefw/whind\";\r\nimport Color from \"@candlefw/color\";\r\n\r\n/*\r\n    BODY {color: black; background: white }\r\n    H1 { color: maroon }\r\n    H2 { color: olive }\r\n    EM { color: #f00 }              // #rgb //\r\n    EM { color: #ff0000 }           // #rrggbb //\r\n    EM { color: rgb(255,0,0) }      // integer range 0 - 255 //\r\n    EM { color: rgb(100%, 0%, 0%) } // float range 0.0% - 100.0% //\r\n*/\r\nexport default class CSS_Color extends Color {\r\n\r\n    constructor(r, g, b, a) {\r\n        super(r, g, b, a);\r\n\r\n        if (typeof(r) == \"string\")\r\n            this.set(CSS_Color._fs_(r) || {r:255,g:255,b:255,a:0});\r\n\r\n    }\r\n\r\n    static parse(l, rule, r) {\r\n\r\n        let c = CSS_Color._fs_(l);\r\n\r\n        if (c) {\r\n            l.next();\r\n\r\n            let color = new CSS_Color();\r\n\r\n            color.set(c);\r\n\r\n            return color;\r\n        }\r\n\r\n        return null;\r\n    }\r\n    static _verify_(l) {\r\n        let c = CSS_Color._fs_(l, true);\r\n        if (c)\r\n            return true;\r\n        return false;\r\n    }\r\n    /**\r\n        Creates a new Color from a string or a Lexer.\r\n    */\r\n    static _fs_(l, v = false) {\r\n\r\n        let c;\r\n\r\n        if (typeof(l) == \"string\")\r\n            l = whind(l);\r\n\r\n        let out = { r: 0, g: 0, b: 0, a: 1 };\r\n\r\n        switch (l.ch) {\r\n            case \"#\":\r\n                var value = l.next().tx;\r\n                let num = parseInt(value,16);\r\n                \r\n                out = { r: 0, g: 0, b: 0, a: 1 };\r\n                if(value.length == 3){\r\n                    out.r = (num >> 8) & 0xF;\r\n                    out.g = (num >> 4) & 0xF;\r\n                    out.b = (num) & 0xF;\r\n                }else{\r\n                    if(value.length == 6){\r\n                        out.r = (num >> 16) & 0xFF;\r\n                        out.g = (num >> 8) & 0xFF;\r\n                        out.b = (num) & 0xFF;\r\n                    }if(value.length == 8){\r\n                        out.r = (num >> 24) & 0xFF;\r\n                        out.g = (num >> 16) & 0xFF;\r\n                        out.b = (num >> 8) & 0xFF;\r\n                        out.a = ((num) & 0xFF);\r\n                    }\r\n                }\r\n                l.next();\r\n                break;\r\n            case \"r\":\r\n                let tx = l.tx;\r\n                if (tx == \"rgba\") {\r\n                    out = { r: 0, g: 0, b: 0, a: 1 };\r\n                    l.next(); // (\r\n                    out.r = parseInt(l.next().tx);\r\n                    l.next(); // ,\r\n                    out.g = parseInt(l.next().tx);\r\n                    l.next(); // ,\r\n                    out.b = parseInt(l.next().tx);\r\n                    l.next(); // ,\r\n                    out.a = parseFloat(l.next().tx);\r\n                    l.next();\r\n                    c = new CSS_Color();\r\n                    c.set(out);\r\n                    return c;\r\n                } else if (tx == \"rgb\") {\r\n                    out = { r: 0, g: 0, b: 0, a: 1 };\r\n                    l.next(); // (\r\n                    out.r = parseInt(l.next().tx);\r\n                    l.next(); // ,\r\n                    out.g = parseInt(l.next().tx);\r\n                    l.next(); // ,\r\n                    out.b = parseInt(l.next().tx);\r\n                    l.next();\r\n                    c = new CSS_Color();\r\n                    c.set(out);\r\n                    return c;\r\n                } // intentional\r\n            default:\r\n                let string = l.tx;\r\n\r\n                if (l.ty == l.types.str)\r\n                    string = string.slice(1, -1);\r\n\r\n                out = CSS_Color.colors[string.toLowerCase()];\r\n        }\r\n\r\n        return out;\r\n    }\r\n} {\r\n\r\n    let _$ = (r = 0, g = 0, b = 0, a = 1) => ({ r, g, b, a });\r\n    let c = _$(0, 255, 25);\r\n    CSS_Color.colors = {\r\n        \"alice blue\": _$(240, 248, 255),\r\n        \"antique white\": _$(250, 235, 215),\r\n        \"aqua marine\": _$(127, 255, 212),\r\n        \"aqua\": c,\r\n        \"azure\": _$(240, 255, 255),\r\n        \"beige\": _$(245, 245, 220),\r\n        \"bisque\": _$(255, 228, 196),\r\n        \"black\": _$(),\r\n        \"blanched almond\": _$(255, 235, 205),\r\n        \"blue violet\": _$(138, 43, 226),\r\n        \"blue\": _$(0, 0, 255),\r\n        \"brown\": _$(165, 42, 42),\r\n        \"burly wood\": _$(222, 184, 135),\r\n        \"cadet blue\": _$(95, 158, 160),\r\n        \"chart reuse\": _$(127, 255),\r\n        \"chocolate\": _$(210, 105, 30),\r\n        \"clear\": _$(255, 255, 255),\r\n        \"coral\": _$(255, 127, 80),\r\n        \"corn flower blue\": _$(100, 149, 237),\r\n        \"corn silk\": _$(255, 248, 220),\r\n        \"crimson\": _$(220, 20, 60),\r\n        \"cyan\": c,\r\n        \"dark blue\": _$(0, 0, 139),\r\n        \"dark cyan\": _$(0, 139, 139),\r\n        \"dark golden rod\": _$(184, 134, 11),\r\n        \"dark gray\": _$(169, 169, 169),\r\n        \"dark green\": _$(0, 100),\r\n        \"dark khaki\": _$(189, 183, 107),\r\n        \"dark magenta\": _$(139, 0, 139),\r\n        \"dark olive green\": _$(85, 107, 47),\r\n        \"dark orange\": _$(255, 140),\r\n        \"dark orchid\": _$(153, 50, 204),\r\n        \"dark red\": _$(139),\r\n        \"dark salmon\": _$(233, 150, 122),\r\n        \"dark sea green\": _$(143, 188, 143),\r\n        \"dark slate blue\": _$(72, 61, 139),\r\n        \"dark slate gray\": _$(47, 79, 79),\r\n        \"dark turquoise\": _$(0, 206, 209),\r\n        \"dark violet\": _$(148, 0, 211),\r\n        \"deep pink\": _$(255, 20, 147),\r\n        \"deep sky blue\": _$(0, 191, 255),\r\n        \"dim gray\": _$(105, 105, 105),\r\n        \"dodger blue\": _$(30, 144, 255),\r\n        \"firebrick\": _$(178, 34, 34),\r\n        \"floral white\": _$(255, 250, 240),\r\n        \"forest green\": _$(34, 139, 34),\r\n        \"fuchsia\": _$(255, 0, 255),\r\n        \"gainsboro\": _$(220, 220, 220),\r\n        \"ghost white\": _$(248, 248, 255),\r\n        \"gold\": _$(255, 215),\r\n        \"golden rod\": _$(218, 165, 32),\r\n        \"gray\": _$(128, 128, 128),\r\n        \"green yellow\": _$(173, 255, 47),\r\n        \"green\": _$(0, 128),\r\n        \"honeydew\": _$(240, 255, 240),\r\n        \"hot pink\": _$(255, 105, 180),\r\n        \"indian red\": _$(205, 92, 92),\r\n        \"indigo\": _$(75, 0, 130),\r\n        \"ivory\": _$(255, 255, 240),\r\n        \"khaki\": _$(240, 230, 140),\r\n        \"lavender blush\": _$(255, 240, 245),\r\n        \"lavender\": _$(230, 230, 250),\r\n        \"lawn green\": _$(124, 252),\r\n        \"lemon chiffon\": _$(255, 250, 205),\r\n        \"light blue\": _$(173, 216, 230),\r\n        \"light coral\": _$(240, 128, 128),\r\n        \"light cyan\": _$(224, 255, 255),\r\n        \"light golden rod yellow\": _$(250, 250, 210),\r\n        \"light gray\": _$(211, 211, 211),\r\n        \"light green\": _$(144, 238, 144),\r\n        \"light pink\": _$(255, 182, 193),\r\n        \"light salmon\": _$(255, 160, 122),\r\n        \"light sea green\": _$(32, 178, 170),\r\n        \"light sky blue\": _$(135, 206, 250),\r\n        \"light slate gray\": _$(119, 136, 153),\r\n        \"light steel blue\": _$(176, 196, 222),\r\n        \"light yellow\": _$(255, 255, 224),\r\n        \"lime green\": _$(50, 205, 50),\r\n        \"lime\": _$(0, 255),\r\n        \"lime\": _$(0, 255),\r\n        \"linen\": _$(250, 240, 230),\r\n        \"magenta\": _$(255, 0, 255),\r\n        \"maroon\": _$(128),\r\n        \"medium aqua marine\": _$(102, 205, 170),\r\n        \"medium blue\": _$(0, 0, 205),\r\n        \"medium orchid\": _$(186, 85, 211),\r\n        \"medium purple\": _$(147, 112, 219),\r\n        \"medium sea green\": _$(60, 179, 113),\r\n        \"medium slate blue\": _$(123, 104, 238),\r\n        \"medium spring green\": _$(0, 250, 154),\r\n        \"medium turquoise\": _$(72, 209, 204),\r\n        \"medium violet red\": _$(199, 21, 133),\r\n        \"midnight blue\": _$(25, 25, 112),\r\n        \"mint cream\": _$(245, 255, 250),\r\n        \"misty rose\": _$(255, 228, 225),\r\n        \"moccasin\": _$(255, 228, 181),\r\n        \"navajo white\": _$(255, 222, 173),\r\n        \"navy\": _$(0, 0, 128),\r\n        \"old lace\": _$(253, 245, 230),\r\n        \"olive drab\": _$(107, 142, 35),\r\n        \"olive\": _$(128, 128),\r\n        \"orange red\": _$(255, 69),\r\n        \"orange\": _$(255, 165),\r\n        \"orchid\": _$(218, 112, 214),\r\n        \"pale golden rod\": _$(238, 232, 170),\r\n        \"pale green\": _$(152, 251, 152),\r\n        \"pale turquoise\": _$(175, 238, 238),\r\n        \"pale violet red\": _$(219, 112, 147),\r\n        \"papaya whip\": _$(255, 239, 213),\r\n        \"peach puff\": _$(255, 218, 185),\r\n        \"peru\": _$(205, 133, 63),\r\n        \"pink\": _$(255, 192, 203),\r\n        \"plum\": _$(221, 160, 221),\r\n        \"powder blue\": _$(176, 224, 230),\r\n        \"purple\": _$(128, 0, 128),\r\n        \"red\": _$(255),\r\n        \"rosy brown\": _$(188, 143, 143),\r\n        \"royal blue\": _$(65, 105, 225),\r\n        \"saddle brown\": _$(139, 69, 19),\r\n        \"salmon\": _$(250, 128, 114),\r\n        \"sandy brown\": _$(244, 164, 96),\r\n        \"sea green\": _$(46, 139, 87),\r\n        \"sea shell\": _$(255, 245, 238),\r\n        \"sienna\": _$(160, 82, 45),\r\n        \"silver\": _$(192, 192, 192),\r\n        \"sky blue\": _$(135, 206, 235),\r\n        \"slate blue\": _$(106, 90, 205),\r\n        \"slate gray\": _$(112, 128, 144),\r\n        \"snow\": _$(255, 250, 250),\r\n        \"spring green\": _$(0, 255, 127),\r\n        \"steel blue\": _$(70, 130, 180),\r\n        \"tan\": _$(210, 180, 140),\r\n        \"teal\": _$(0, 128, 128),\r\n        \"thistle\": _$(216, 191, 216),\r\n        \"tomato\": _$(255, 99, 71),\r\n        \"transparent\": _$(0, 0, 0, 0),\r\n        \"turquoise\": _$(64, 224, 208),\r\n        \"violet\": _$(238, 130, 238),\r\n        \"wheat\": _$(245, 222, 179),\r\n        \"white smoke\": _$(245, 245, 245),\r\n        \"white\": _$(255, 255, 255),\r\n        \"yellow green\": _$(154, 205, 50),\r\n        \"yellow\": _$(255, 255)\r\n    };\r\n}","export default class CSS_Percentage extends Number {\r\n    \r\n    static parse(l, rule, r) {\r\n        let tx = l.tx,\r\n            pky = l.pk.ty;\r\n\r\n        if (l.ty == l.types.num || tx == \"-\" && pky == l.types.num) {\r\n            let mult = 1;\r\n\r\n            if (l.ch == \"-\") {\r\n                mult = -1;\r\n                tx = l.p.tx;\r\n                l.p.next();\r\n            }\r\n\r\n            if (l.p.ch == \"%\") {\r\n                l.sync().next();\r\n                return new CSS_Percentage(parseFloat(tx) * mult);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    constructor(v) {\r\n\r\n        if (typeof(v) == \"string\") {\r\n            let lex = whind(v);\r\n            let val = CSS_Percentage.parse(lex);\r\n            if (val) \r\n                return val;\r\n        }\r\n        \r\n        super(v);\r\n    }\r\n\r\n    static _verify_(l) {\r\n        if(typeof(l) == \"string\" &&  !isNaN(parseInt(l)) && l.includes(\"%\"))\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    toJSON() {\r\n        return super.toString() + \"%\";\r\n    }\r\n\r\n    toString(radix) {\r\n        return super.toString(radix) + \"%\";\r\n    }\r\n\r\n    get str() {\r\n        return this.toString();\r\n    }\r\n\r\n    lerp(to, t) {\r\n        return new CSS_Percentage(this + (to - this) * t);\r\n    }\r\n\r\n    copy(other){\r\n        return new CSS_Percentage(other);\r\n    }\r\n\r\n    get type(){\r\n        return \"%\";\r\n    }\r\n}","import CSS_Percentage from \"./percentage\";\r\n\r\nimport whind from \"@candlefw/whind\";\r\n\r\nexport default class CSS_Length extends Number {\r\n    static parse(l, rule, r) {\r\n        let tx = l.tx,\r\n            pky = l.pk.ty;\r\n        if (l.ty == l.types.num || tx == \"-\" && pky == l.types.num) {\r\n            let mult = 1;\r\n            if (l.ch == \"-\") {\r\n                mult = -1;\r\n                tx = l.p.tx;\r\n                l.p.next();\r\n            }\r\n            if (l.p.ty == l.types.id) {\r\n                let id = l.sync().tx;\r\n                l.next();\r\n                return new CSS_Length(parseFloat(tx) * mult, id);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static _verify_(l) {\r\n        if (typeof(l) == \"string\" && !isNaN(parseInt(l)) && !l.includes(\"%\")) return true;\r\n        return false;\r\n    }\r\n\r\n    constructor(v, u = \"\") {\r\n        \r\n        if (typeof(v) == \"string\") {\r\n            let lex = whind(v);\r\n            let val = CSS_Length.parse(lex);\r\n            if (val) return val;\r\n        }\r\n\r\n        if(u){\r\n            switch(u){\r\n                //Absolute\r\n                case \"px\": return new PXLength(v);\r\n                case \"mm\": return new MMLength(v);\r\n                case \"cm\": return new CMLength(v);\r\n                case \"in\": return new INLength(v);\r\n                case \"pc\": return new PCLength(v);\r\n                case \"pt\": return new PTLength(v);\r\n                \r\n                //Relative\r\n                case \"ch\": return new CHLength(v);\r\n                case \"em\": return new EMLength(v);\r\n                case \"ex\": return new EXLength(v);\r\n                case \"rem\": return new REMLength(v);\r\n\r\n                //View Port\r\n                case \"vh\": return new VHLength(v);\r\n                case \"vw\": return new VWLength(v);\r\n                case \"vmin\": return new VMINLength(v);\r\n                case \"vmax\": return new VMAXLength(v);\r\n\r\n                //Deg\r\n                case \"deg\": return new DEGLength(v);\r\n\r\n                case \"%\" : return new CSS_Percentage(v);\r\n            }\r\n        }\r\n\r\n        super(v);\r\n    }\r\n\r\n    get milliseconds() {\r\n        switch (this.unit) {\r\n            case (\"s\"):\r\n                return parseFloat(this) * 1000;\r\n        }\r\n        return parseFloat(this);\r\n    }\r\n\r\n    toString(radix) {\r\n        return super.toString(radix) + \"\" + this.unit;\r\n    }\r\n\r\n    toJSON() {\r\n        return super.toString() + \"\" + this.unit;\r\n    }\r\n\r\n    get str() {\r\n        return this.toString();\r\n    }\r\n\r\n    lerp(to, t) {\r\n        return new CSS_Length(this + (to - this) * t, this.unit);\r\n    }\r\n\r\n    copy(other) {\r\n        return new CSS_Length(other, this.unit);\r\n    }\r\n\r\n    set unit(t){}\r\n    get unit(){return \"\";}\r\n}\r\n\r\nexport class PXLength extends CSS_Length {\r\n    get unit(){return \"px\";}\r\n}\r\nexport class MMLength extends CSS_Length {\r\n    get unit(){return \"mm\";}\r\n}\r\nexport class CMLength extends CSS_Length {\r\n    get unit(){return \"cm\";}\r\n}\r\nexport class INLength extends CSS_Length {\r\n    get unit(){return \"in\";}\r\n}\r\nexport class PTLength extends CSS_Length {\r\n    get unit(){return \"pt\";}\r\n}\r\nexport class PCLength extends CSS_Length {\r\n    get unit(){return \"pc\";}\r\n}\r\nexport class CHLength extends CSS_Length {\r\n    get unit(){return \"ch\";}\r\n}\r\nexport class EMLength extends CSS_Length {\r\n    get unit(){return \"em\";}\r\n}\r\nexport class EXLength extends CSS_Length {\r\n    get unit(){return \"ex\";}\r\n}\r\nexport class REMLength extends CSS_Length {\r\n    get unit(){return \"rem\";}\r\n}\r\nexport class VHLength extends CSS_Length {\r\n    get unit(){return \"vh\";}\r\n}\r\nexport class VWLength extends CSS_Length {\r\n    get unit(){return \"vw\";}\r\n}\r\nexport class VMINLength extends CSS_Length {\r\n    get unit(){return \"vmin\";}\r\n}\r\nexport class VMAXLength extends CSS_Length {\r\n    get unit(){return \"vmax\";}\r\n}\r\nexport class DEGLength extends CSS_Length {\r\n    get unit(){return \"deg\";}\r\n}","import whind from \"@candlefw/whind\";\n\nconst uri_reg_ex = /(?:([^\\:\\?\\[\\]\\@\\/\\#\\b\\s][^\\:\\?\\[\\]\\@\\/\\#\\b\\s]*)(?:\\:\\/\\/))?(?:([^\\:\\?\\[\\]\\@\\/\\#\\b\\s][^\\:\\?\\[\\]\\@\\/\\#\\b\\s]*)(?:\\:([^\\:\\?\\[\\]\\@\\/\\#\\b\\s]*)?)?\\@)?(?:(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})|((?:\\[[0-9a-f]{1,4})+(?:\\:[0-9a-f]{0,4}){2,7}\\])|([^\\:\\?\\[\\]\\@\\/\\#\\b\\s\\.]{2,}(?:\\.[^\\:\\?\\[\\]\\@\\/\\#\\b\\s]*)*))?(?:\\:(\\d+))?((?:[^\\?\\[\\]\\#\\s\\b]*)+)?(?:\\?([^\\[\\]\\#\\s\\b]*))?(?:\\#([^\\#\\s\\b]*))?/i;\n\nconst STOCK_LOCATION = {\n    protocol :\"\",\n    host :\"\",\n    port :\"\",\n    path :\"\",\n    hash :\"\",\n    query :\"\",\n    search:\"\"\n}\n\nfunction fetchLocalText(URL, m = \"same-origin\") {\n    return new Promise((res, rej) => {\n        fetch(URL, {\n            mode: m, // CORs not allowed\n            credentials: m,\n            method: \"Get\"\n        }).then(r => {\n            if (r.status < 200 || r.status > 299)\n                r.text().then(rej);\n            else\n                r.text().then(res);\n        }).catch(e => rej(e));\n    });\n}\n\nfunction fetchLocalJSON(URL, m = \"same-origin\") {\n    return new Promise((res, rej) => {\n        fetch(URL, {\n            mode: m, // CORs not allowed\n            credentials: m,\n            method: \"Get\"\n        }).then(r => {\n            if (r.status < 200 || r.status > 299)\n                r.json().then(rej);\n            else\n                r.json().then(res).catch(rej);\n        }).catch(e => rej(e));\n    });\n}\n\nfunction submitForm(URL, form_data, m = \"same-origin\") {\n    return new Promise((res, rej) => {\n        var form;\n\n        if (form_data instanceof FormData)\n            form = form_data;\n        else {\n            form = new FormData();\n            for (let name in form_data)\n                form.append(name, form_data[name] + \"\");\n        }\n\n        fetch(URL, {\n            mode: m, // CORs not allowed\n            credentials: m,\n            method: \"POST\",\n            body: form,\n        }).then(r => {\n            if (r.status < 200 || r.status > 299)\n                r.text().then(rej);\n            else\n                r.json().then(res);\n        }).catch(e => e.text().then(rej));\n    });\n}\n\nfunction submitJSON(URL, json_data, m = \"same-origin\") {\n    return new Promise((res, rej) => {\n        fetch(URL, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n            },\n            mode: m, // CORs not allowed\n            credentials: m,\n            method: \"POST\",\n            body: JSON.stringify(json_data),\n        }).then(r => {\n            if (r.status < 200 || r.status > 299)\n                r.json().then(rej);\n            else\n                r.json().then(res);\n        }).catch(e => e.text().then(rej));\n    });\n}\n\n\n\n/**\n * Used for processing URLs, handling `document.location`, and fetching data.\n * @param      {string}   url           The URL string to wrap.\n * @param      {boolean}  USE_LOCATION  If `true` missing URL parts are filled in with data from `document.location`. \n * @return     {URL}   If a falsy value is passed to `url`, and `USE_LOCATION` is `true` a Global URL is returned. This is directly linked to the page and will _update_ the actual page URL when its values are change. Use with caution. \n * @alias URL\n * @memberof module:wick.core.network\n */\nexport class URL {\n\n    static resolveRelative(URL_or_url_original, URL_or_url_new) {\n        \n        let URL_old = (URL_or_url_original instanceof URL) ? URL_or_url_original : new URL(URL_or_url_original);\n        let URL_new = (URL_or_url_new instanceof URL) ? URL_or_url_new : new URL(URL_or_url_new);\n\n        let new_path = \"\";\n        if (URL_new.path[0] != \"/\") {\n\n            let a = URL_old.path.split(\"/\");\n            let b = URL_new.path.split(\"/\");\n\n\n            if (b[0] == \"..\") a.splice(a.length - 1, 1);\n            for (let i = 0; i < b.length; i++) {\n                switch (b[i]) {\n                    case \"..\":\n                    case \".\":\n                        a.splice(a.length - 1, 1);\n                        break;\n                    default:\n                        a.push(b[i]);\n                }\n            }\n            URL_new.path = a.join(\"/\");\n        }\n\n\n        return URL_new;\n    }\n\n    constructor(url = \"\", USE_LOCATION = false) {\n\n        let IS_STRING = true;\n        \n\n        const location = (typeof(document) !== \"undefined\") ? document.location : STOCK_LOCATION;\n\n        if (!url || typeof(url) != \"string\") {\n            IS_STRING = false;\n            if (URL.GLOBAL && USE_LOCATION)\n                return URL.GLOBAL;\n        }\n\n        /**\n         * URL protocol\n         */\n        this.protocol = \"\";\n\n        /**\n         * Username string\n         */\n        this.user = \"\";\n\n        /**\n         * Password string\n         */\n        this.pwd = \"\";\n\n        /**\n         * URL hostname\n         */\n        this.host = \"\";\n\n        /**\n         * URL network port number.\n         */\n        this.port = 0;\n\n        /**\n         * URL resource path\n         */\n        this.path = \"\";\n\n        /**\n         * URL query string.\n         */\n        this.query = \"\";\n\n        /**\n         * Hashtag string\n         */\n        this.hash = \"\";\n\n        /**\n         * Map of the query data\n         */\n        this.map = null;\n\n        if (IS_STRING) {\n            if (url instanceof URL) {\n                this.protocol = url.protocol;\n                this.user = url.user;\n                this.pwd = url.pwd;\n                this.host = url.host;\n                this.port = url.port;\n                this.path = url.path;\n                this.query = url.query;\n                this.hash = url.hash;\n            } else {\n                let part = url.match(uri_reg_ex);\n                this.protocol = part[1] || ((USE_LOCATION) ? location.protocol : \"\");\n                this.user = part[2] || \"\";\n                this.pwd = part[3] || \"\";\n                this.host = part[4] || part[5] || part[6] || ((USE_LOCATION) ? location.hostname : \"\");\n                this.port = parseInt(part[7] || ((USE_LOCATION) ? location.port : 0));\n                this.path = part[8] || ((USE_LOCATION) ? location.pathname : \"\");\n                this.query = part[9] || ((USE_LOCATION) ? location.search.slice(1) : \"\");\n                this.hash = part[10] || ((USE_LOCATION) ? location.hash.slice(1) : \"\");\n            }\n        } else if (USE_LOCATION) {\n\n            URL.G = this;\n            this.protocol = location.protocol;\n            this.host = location.hostname;\n            this.port = location.port;\n            this.path = location.pathname;\n            this.hash = location.hash.slice(1);\n            this.query = location.search.slice(1);\n            this._getQuery_(this.query);\n\n            return URL.R;\n        }\n        this._getQuery_(this.query);\n    }\n\n\n    /**\n    URL Query Syntax\n\n    root => [root_class] [& [class_list]]\n         => [class_list]\n\n    root_class = key_list\n\n    class_list [class [& key_list] [& class_list]]\n\n    class => name & key_list\n\n    key_list => [key_val [& key_list]]\n\n    key_val => name = val\n\n    name => ALPHANUMERIC_ID\n\n    val => NUMBER\n        => ALPHANUMERIC_ID\n    */\n\n    /**\n     * Pulls query string info into this.map\n     * @private\n     */\n    _getQuery_() {\n        let map = (this.map) ? this.map : (this.map = new Map());\n\n        let lex = whind(this.query);\n\n\n        const get_map = (k, m) => (m.has(k)) ? m.get(k) : m.set(k, new Map).get(k);\n\n        let key = 0,\n            key_val = \"\",\n            class_map = get_map(key_val, map),\n            lfv = 0;\n\n        while (!lex.END) {\n            switch (lex.tx) {\n                case \"&\": //At new class or value\n                    if (lfv > 0)\n                        key = (class_map.set(key_val, lex.s(lfv)), lfv = 0, lex.n.pos);\n                    else {\n                        key_val = lex.s(key);\n                        key = (class_map = get_map(key_val, map), lex.n.pos);\n                    }\n                    continue;\n                case \"=\":\n                    //looking for a value now\n                    key_val = lex.s(key);\n                    lfv = lex.n.pos;\n                    continue;\n            }\n            lex.n;\n        }\n\n        if (lfv > 0) class_map.set(key_val, lex.s(lfv));\n    }\n\n    setPath(path) {\n\n        this.path = path;\n\n        return new URL(this);\n    }\n\n    setLocation() {\n        history.replaceState({}, \"replaced state\", `${this}`);\n        window.onpopstate();\n    }\n\n    toString() {\n        let str = [];\n\n        if (this.protocol && this.host)\n            str.push(`${this.protocol}://`);\n\n        if (this.host)\n            str.push(`${this.host}`);\n\n        if (this.port)\n            str.push(`:${this.port}`);\n\n        if (this.path)\n            str.push(`${this.path[0] == \"/\" ? \"\" : \"/\"}${this.path}`);\n\n        if (this.query)\n            str.push(this.query);\n\n        return str.join(\"\");\n    }\n\n    /**\n     * Pulls data stored in query string into an object an returns that.\n     * @param      {string}  class_name  The class name\n     * @return     {object}  The data.\n     */\n    getData(class_name = \"\") {\n        if (this.map) {\n            let out = {};\n            let _c = this.map.get(class_name);\n            if (_c) {\n                for (let [key, val] of _c.entries())\n                    out[key] = val;\n                return out;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Sets the data in the query string. Wick data is added after a second `?` character in the query field, and appended to the end of any existing data.\n     * @param      {string}  class_name  Class name to use in query string. Defaults to root, no class \n     * @param      {object | Model | AnyModel}  data        The data\n     */\n    setData(data = null, class_name = \"\") {\n\n        if (data) {\n\n            let map = this.map = new Map();\n\n            let store = (map.has(class_name)) ? map.get(class_name) : (map.set(class_name, new Map()).get(class_name));\n\n            //If the data is a falsy value, delete the association.\n\n            for (let n in data) {\n                if (data[n] !== undefined && typeof data[n] !== \"object\")\n                    store.set(n, data[n]);\n                else\n                    store.delete(n);\n            }\n\n            //set query\n            let class_, null_class, str = \"\";\n\n            if ((null_class = map.get(\"\"))) {\n                if (null_class.size > 0) {\n                    for (let [key, val] of null_class.entries())\n                        str += `&${key}=${val}`;\n\n                }\n            }\n\n            for (let [key, class_] of map.entries()) {\n                if (key === \"\")\n                    continue;\n                if (class_.size > 0) {\n                    str += `&${key}`\n                    for (let [key, val] of class_.entries())\n                        str += `&${key}=${val}`;\n                }\n            }\n\n            str = str.slice(1);\n\n            this.query = this.query.split(\"?\")[0] + \"?\" + str;\n\n            if (URL.G == this)\n                this.goto();\n        } else {\n            this.query = \"\";\n        }\n\n        return this;\n\n    }\n\n    /**\n     * Fetch a string value of the remote resource. \n     * Just uses path component of URL. Must be from the same origin.\n     * @param      {boolean}  [ALLOW_CACHE=true]  If `true`, the return string will be cached. If it is already cached, that will be returned instead. If `false`, a network fetch will always occur , and the result will not be cached.\n     * @return     {Promise}  A promise object that resolves to a string of the fetched value.\n     */\n    fetchText(ALLOW_CACHE = true) {\n\n        if (ALLOW_CACHE) {\n\n            let resource = URL.RC.get(this.path);\n\n            if (resource)\n                return new Promise((res) => {\n                    res(resource);\n                });\n        }\n\n        return fetchLocalText(this.path).then(res => (URL.RC.set(this.path, res), res));\n    }\n\n    /**\n     * Fetch a JSON value of the remote resource. \n     * Just uses path component of URL. Must be from the same origin.\n     * @param      {boolean}  [ALLOW_CACHE=true]  If `true`, the return string will be cached. If it is already cached, that will be returned instead. If `false`, a network fetch will always occur , and the result will not be cached.\n     * @return     {Promise}  A promise object that resolves to a string of the fetched value.\n     */\n    fetchJSON(ALLOW_CACHE = true) {\n\n        let string_url = this.toString();\n\n        if (ALLOW_CACHE) {\n\n            let resource = URL.RC.get(string_url);\n\n            if (resource)\n                return new Promise((res) => {\n                    res(resource);\n                });\n        }\n\n        return fetchLocalJSON(string_url).then(res => (URL.RC.set(this.path, res), res));\n    }\n\n    /**\n     * Cache a local resource at the value \n     * @param    {object}  resource  The resource to store at this URL path value.\n     * @returns {boolean} `true` if a resource was already cached for this URL, false otherwise.\n     */\n    cacheResource(resource) {\n\n        let occupied = URL.RC.has(this.path);\n\n        URL.RC.set(this.path, resource);\n\n        return occupied;\n    }\n\n    submitForm(form_data) {\n        return submitForm(this.toString(), form_data);\n    }\n\n    submitJSON(json_data) {\n            return submitJSON(this.toString(), json_data);\n        }\n        /**\n         * Goes to the current URL.\n         */\n    goto() {\n        return;\n        let url = this.toString();\n        history.pushState({}, \"ignored title\", url);\n        window.onpopstate();\n        URL.G = this;\n    }\n\n    get pathname() {\n        return this.path;\n    }\n\n    get href() {\n        return this.toString();\n    }\n}\n\n/**\n * The fetched resource cache.\n */\nURL.RC = new Map();\n\n/**\n * The Default Global URL object. \n */\nURL.G = null;\n\n/**\n * The Global object Proxy.\n */\nURL.R = {\n    get protocol() {\n        return URL.G.protocol;\n    },\n    set protocol(v) {\n        return;\n        URL.G.protocol = v;\n    },\n    get user() {\n        return URL.G.user;\n    },\n    set user(v) {\n        return;\n        URL.G.user = v;\n    },\n    get pwd() {\n        return URL.G.pwd;\n    },\n    set pwd(v) {\n        return;\n        URL.G.pwd = v;\n    },\n    get host() {\n        return URL.G.host;\n    },\n    set host(v) {\n        return;\n        URL.G.host = v;\n    },\n    get port() {\n        return URL.G.port;\n    },\n    set port(v) {\n        return;\n        URL.G.port = v;\n    },\n    get path() {\n        return URL.G.path;\n    },\n    set path(v) {\n        return;\n        URL.G.path = v;\n    },\n    get query() {\n        return URL.G.query;\n    },\n    set query(v) {\n        return;\n        URL.G.query = v;\n    },\n    get hash() {\n        return URL.G.hash;\n    },\n    set hash(v) {\n        return;\n        URL.G.hash = v;\n    },\n    get map() {\n        return URL.G.map;\n    },\n    set map(v) {\n        return;\n        URL.G.map = v;\n    },\n    setPath(path) {\n        return URL.G.setPath(path);\n    },\n    setLocation() {\n        return URL.G.setLocation();\n    },\n    toString() {\n        return URL.G.toString();\n    },\n    getData(class_name = \"\") {\n        return URL.G.getData(class_name = \"\");\n    },\n    setData(class_name = \"\", data = null) {\n        return URL.G.setData(class_name, data);\n    },\n    fetchText(ALLOW_CACHE = true) {\n        return URL.G.fetchText(ALLOW_CACHE);\n    },\n    cacheResource(resource) {\n        return URL.G.cacheResource(resource);\n    }\n};\nObject.freeze(URL.R);\nObject.freeze(URL.RC);\nObject.seal(URL);\n\n\nexport default URL;\n","import URL from \"@candlefw/url\";\r\n\r\nexport default class CSS_URL extends URL {\r\n    static parse(l, rule, r) {\r\n        if (l.tx == \"url\" || l.tx == \"uri\") {\r\n            l.next().a(\"(\");\r\n            let v = \"\";\r\n            if (l.ty == l.types.str) {\r\n                v = l.tx.slice(1,-1);\r\n                l.next().a(\")\");\r\n            } else {\r\n                let p = l.p;\r\n                while (!p.END && p.next().tx !== \")\") { /* NO OP */ }\r\n                v = p.slice(l);\r\n                l.sync().a(\")\");\r\n            }\r\n            return new CSS_URL(v);\r\n        } if (l.ty == l.types.str){\r\n            let v = l.tx.slice(1,-1);\r\n            l.next();\r\n            return new CSS_URL(v);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}","export default  class CSS_String extends String {\r\n    static parse(l, rule, r) {\r\n        if (l.ty == l.types.str) {\r\n            let tx = l.tx;\r\n            l.next();\r\n            return new CSS_String(tx);\r\n        }\r\n        return null;\r\n    }\r\n}","export default  class CSS_Id extends String {\r\n    static parse(l, rule, r) {\r\n        if (l.ty == l.types.id) {\r\n            let tx = l.tx;\r\n            l.next();\r\n            return new CSS_Id(tx);\r\n        }\r\n        return null;\r\n    }\r\n}","/* https://www.w3.org/TR/css-shapes-1/#typedef-basic-shape */\r\nexport default  class CSS_Shape extends Array {\r\n    static parse(l, rule, r) {\r\n        if (l.tx == \"inset\" || l.tx == \"circle\" || l.tx == \"ellipse\" || l.tx == \"polygon\") {\r\n            l.next().a(\"(\");\r\n            let v = \"\";\r\n            if (l.ty == l.types.str) {\r\n                v = l.tx.slice(1,-1);\r\n                l.next().a(\")\");\r\n            } else {\r\n                let p = l.p;\r\n                while (!p.END && p.next().tx !== \")\") { /* NO OP */ }\r\n                v = p.slice(l);\r\n                l.sync().a(\")\");\r\n            }\r\n            return new CSS_Shape(v);\r\n        }\r\n        return null;\r\n    }\r\n}","export default class CSS_Number extends Number {\r\n    static parse(l, rule, r) {\r\n        let tx = l.tx;\r\n        if(l.ty == l.types.num){\r\n            l.next();\r\n            return new CSS_Number(tx);\r\n        }\r\n        return null;\r\n    }\r\n}","export default class Point2D extends Float64Array{\n\t\n\tconstructor(x, y) {\n\t\tsuper(2)\n\n\t\tif (typeof(x) == \"number\") {\n\t\t\tthis[0] = x;\n\t\t\tthis[1] = y;\n\t\t\treturn;\n\t\t}\n\n\t\tif (x instanceof Array) {\n\t\t\tthis[0] = x[0];\n\t\t\tthis[1] = x[1];\n\t\t}\n\t}\n\n\tdraw(ctx, s = 1){\n\t\tctx.beginPath();\n\t\tctx.moveTo(this.x*s,this.y*s);\n\t\tctx.arc(this.x*s, this.y*s, s*0.01, 0, 2*Math.PI);\n\t\tctx.stroke();\n\t}\n\n\tget x (){ return this[0]}\n\tset x (v){if(typeof(v) !== \"number\") return; this[0] = v}\n\n\tget y (){ return this[1]}\n\tset y (v){if(typeof(v) !== \"number\") return; this[1] = v}\n}","import Point2D from \"./point\";\n\nconst sqrt = Math.sqrt;\nconst cos = Math.cos;\nconst acos = Math.acos;\nconst PI = Math.PI; \nconst pow = Math.pow;\n\n// A helper function to filter for values in the [0,1] interval:\nfunction accept(t) {\n  return 0<=t && t <=1;\n}\n\n// A real-cuberoots-only function:\nfunction cuberoot(v) {\n  if(v<0) return -pow(-v,1/3);\n  return pow(v,1/3);\n}\n\nfunction point(t, p1, p2, p3, p4) {\n\tvar ti = 1 - t;\n\tvar ti2 = ti * ti;\n\tvar t2 = t * t;\n\treturn ti * ti2 * p1 + 3 * ti2 * t * p2 + t2 * 3 * ti * p3 + t2 * t * p4;\n}\n\n\nexport default class CBezier extends Float64Array{\n\tconstructor(x1, y1, x2, y2, x3, y3, x4, y4) {\n\t\tsuper(8)\n\n\t\t//Map P1 and P2 to {0,0,1,1} if only four arguments are provided; for use with animations\n\t\tif(arguments.length == 4){\n\t\t\tthis[0] = 0;\n\t\t\tthis[1] = 0;\n\t\t\tthis[2] = x1;\n\t\t\tthis[3] = y1;\n\t\t\tthis[4] = x2;\n\t\t\tthis[5] = y2;\n\t\t\tthis[6] = 1;\n\t\t\tthis[7] = 1;\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (typeof(x1) == \"number\") {\n\t\t\tthis[0] = x1;\n\t\t\tthis[1] = y1;\n\t\t\tthis[2] = x2;\n\t\t\tthis[3] = y2;\n\t\t\tthis[4] = x3;\n\t\t\tthis[5] = y3;\n\t\t\tthis[6] = x4;\n\t\t\tthis[7] = y4;\n\t\t\treturn;\n\t\t}\n\n\t\tif (x1 instanceof Array) {\n\t\t\tthis[0] = x1[0];\n\t\t\tthis[1] = x1[1];\n\t\t\tthis[2] = x1[2];\n\t\t\tthis[3] = x1[3];\n\t\t\tthis[4] = x1[4];\n\t\t\tthis[5] = x1[5];\n\t\t\tthis[6] = x1[6];\n\t\t\tthis[7] = x1[4];\n\t\t\treturn;\n\t\t}\n\t}\n\n\tget x1 (){ return this[0]}\n\tset x1 (v){this[0] = v}\n\tget x2 (){ return this[2]}\n\tset x2 (v){this[2] = v}\n\tget x3 (){ return this[4]}\n\tset x3 (v){this[4] = v}\n\tget x4 (){ return this[6]}\n\tset x4 (v){this[6] = v}\n\tget y1 (){ return this[1]}\n\tset y1 (v){this[1] = v}\n\tget y2 (){ return this[3]}\n\tset y2 (v){this[3] = v}\n\tget y3 (){ return this[5]}\n\tset y3 (v){this[5] = v}\n\tget y4 (){ return this[7]}\n\tset y4 (v){this[7] = v}\n\n\tadd(x,y = 0){\n\t\treturn new CCurve(\n\t\t\tthis[0] + x,\n\t\t\tthis[1] + y,\n\t\t\tthis[2] + x,\n\t\t\tthis[3] + y,\n\t\t\tthis[4] + x,\n\t\t\tthis[5] + y,\n\t\t\tthis[6] + x,\n\t\t\tthis[7] + y\n\t\t)\n\t}\n\n\tvalY(t){\n\t\treturn point(t, this[1], this[3], this[5], this[7]);\n\t}\n\n\tvalX(t){\n\t\treturn point(t, this[0], this[2], this[4], this[6]);\n\t}\n\n\tpoint(t) {\n\t\treturn new Point2D(\n\t\t\tpoint(t, this[0], this[2], this[4], this[6]),\n\t\t\tpoint(t, this[1], this[3], this[5], this[7])\n\t\t)\n\t}\n\t\n\t/** \n\t\tAcquired from : https://pomax.github.io/bezierinfo/\n\t\tAuthor:  Mike \"Pomax\" Kamermans\n\t\tGitHub: https://github.com/Pomax/\n\t*/\n\n\troots(p1,p2,p3,p4) {\n\t\tvar d = (-p1 + 3 * p2 - 3 * p3 + p4),\n\t\t\ta = (3 * p1 - 6 * p2 + 3 * p3) / d,\n\t\t\tb = (-3 * p1 + 3 * p2) / d,\n\t\t\tc = p1 / d;\n\n\t\tvar p = (3 * b - a * a) / 3,\n\t\t\tp3 = p / 3,\n\t\t\tq = (2 * a * a * a - 9 * a * b + 27 * c) / 27,\n\t\t\tq2 = q / 2,\n\t\t\tdiscriminant = q2 * q2 + p3 * p3 * p3;\n\n\t\t// and some variables we're going to use later on:\n\t\tvar u1, v1, root1, root2, root3;\n\n\t\t// three possible real roots:\n\t\tif (discriminant < 0) {\n\t\t\tvar mp3 = -p / 3,\n\t\t\t\tmp33 = mp3 * mp3 * mp3,\n\t\t\t\tr = sqrt(mp33),\n\t\t\t\tt = -q / (2 * r),\n\t\t\t\tcosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n\t\t\t\tphi = acos(cosphi),\n\t\t\t\tcrtr = cuberoot(r),\n\t\t\t\tt1 = 2 * crtr;\n\t\t\troot1 = t1 * cos(phi / 3) - a / 3;\n\t\t\troot2 = t1 * cos((phi + 2 * PI) / 3) - a / 3;\n\t\t\troot3 = t1 * cos((phi + 4 * PI) / 3) - a / 3;\n\t\t\treturn [root3, root1, root2]\n\t\t}\n\n\t\t// three real roots, but two of them are equal:\n\t\tif (discriminant === 0) {\n\t\t\tu1 = q2 < 0 ? cuberoot(-q2) : -cuberoot(q2);\n\t\t\troot1 = 2 * u1 - a / 3;\n\t\t\troot2 = -u1 - a / 3;\n\t\t\treturn [root2, root1];\n\t\t}\n\n\t\t// one real root, two complex roots\n\t\tvar sd = sqrt(discriminant);\n\t\tu1 = cuberoot(sd - q2);\n\t\tv1 = cuberoot(sd + q2);\n\t\troot1 = u1 - v1 - a / 3;\n\t\treturn [root1];\n\t}\n\n\trootsY() {\n\t\treturn this.roots(this[1],this[3],this[5],this[7]);\n\t}\n\n\trootsX() {\n\t\treturn this.roots(this[0],this[2],this[4],this[6]);\n\t}\n\t\n\tgetYatX(x){\n\t\tvar x1 = this[0] - x, x2 = this[2] - x, x3 = this[4] - x, x4 = this[6] - x,\n\t\t\tx2_3 = x2 * 3, x1_3 = x1 *3, x3_3 = x3 * 3,\n\t\t\td = (-x1 + x2_3 - x3_3 + x4), di = 1/d, i3 = 1/3,\n\t\t\ta = (x1_3 - 6 * x2 + x3_3) * di,\n\t\t\tb = (-x1_3 + x2_3) * di,\n\t\t\tc = x1 * di,\n\t\t\tp = (3 * b - a * a) * i3,\n\t\t\tp3 = p * i3,\n\t\t\tq = (2 * a * a * a - 9 * a * b + 27 * c) * (1/27),\n\t\t\tq2 = q * 0.5,\n\t\t\tdiscriminant = q2 * q2 + p3 * p3 * p3;\n\n\t\t// and some variables we're going to use later on:\n\t\tvar u1, v1, root;\n\n\t\t//Three real roots can never happen if p1(0,0) and p4(1,1);\n\n\t\t// three real roots, but two of them are equal:\n\t\tif (discriminant < 0) {\n\t\t\tvar mp3 = -p / 3,\n\t\t\t\tmp33 = mp3 * mp3 * mp3,\n\t\t\t\tr = sqrt(mp33),\n\t\t\t\tt = -q / (2 * r),\n\t\t\t\tcosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n\t\t\t\tphi = acos(cosphi),\n\t\t\t\tcrtr = cuberoot(r),\n\t\t\t\tt1 = 2 * crtr;\n\t\t\troot = t1 * cos((phi + 4 * PI) / 3) - a / 3;\n\t\t}else if (discriminant === 0) {\n\t\t\tu1 = q2 < 0 ? cuberoot(-q2) : -cuberoot(q2);\n\t\t\troot = -u1 - a * i3;\n\t\t}else{\n\t\t\tvar sd = sqrt(discriminant);\n\t\t\t// one real root, two complex roots\n\t\t\tu1 = cuberoot(sd - q2);\n\t\t\tv1 = cuberoot(sd + q2);\n\t\t\troot = u1 - v1 - a * i3;\t\n\t\t}\n\n\t\treturn point(root, this[1], this[3], this[5], this[7]);\n\t}\n\t/**\n\t\tGiven a Canvas 2D context object and scale value, strokes a cubic bezier curve.\n\t*/\n\tdraw(ctx, s = 1){\n\t\tctx.beginPath();\n\t\tctx.moveTo(this[0]*s, this[1]*s);\n\t\tctx.bezierCurveTo(\n\t\t\tthis[2]*s, this[3]*s,\n\t\t\tthis[4]*s, this[5]*s,\n\t\t\tthis[6]*s, this[7]*s\n\t\t\t);\n\t\tctx.stroke();\n\t}\n}","import Point2D from \"./point\"\n\nfunction curvePoint(curve, t) {\n    var point = {\n        x: 0,\n        y: 0\n    };\n    point.x = posOnCurve(t, curve[0], curve[2], curve[4]);\n    point.y = posOnCurve(t, curve[1], curve[3], curve[5]);\n    return point;\n}\n\nfunction posOnCurve(t, p1, p2, p3) {\n    var ti = 1 - t;\n    return ti * ti * p1 + 2 * ti * t * p2 + t * t * p3;\n}\n\nfunction splitCurve(bp, t) {\n    var left = [];\n    var right = [];\n\n    function drawCurve(bp, t) {\n        if (bp.length == 2) {\n            left.push(bp[0], bp[1]);\n            right.push(bp[0], bp[1]);\n        } else {\n            var new_bp = [] //bp.slice(0,-2);\n            for (var i = 0; i < bp.length - 2; i += 2) {\n                if (i == 0) {\n                    left.push(bp[i], bp[i + 1]);\n                }\n                if (i == bp.length - 4) {\n                    right.push(bp[i + 2], bp[i + 3]);\n                }\n                new_bp.push((1 - t) * bp[i] + t * bp[i + 2]);\n                new_bp.push((1 - t) * bp[i + 1] + t * bp[i + 3]);\n            }\n            drawCurve(new_bp, t);\n        }\n    }\n\n    drawCurve(bp, t);\n\n    return {\n        x: new QBezier(right),\n        y: new QBezier(left)\n    };\n}\n\nfunction curveIntersections(p1, p2, p3) {\n    var intersections = {\n        a: Infinity,\n        b: Infinity\n    };\n\n    var a = p1 - 2 * p2 + p3;\n\n    var b = 2 * (p2 - p1);\n\n    var c = p1;\n\n    if (b == 0) {} else if (Math.abs(a) < 0.00000000005) {\n        intersections.a = (-c / b); //c / b;\n    } else {\n\n        intersections.a = ((-b - Math.sqrt((b * b) - 4 * a * c)) / (2 * a));\n        intersections.b = ((-b + Math.sqrt((b * b) - 4 * a * c)) / (2 * a));\n    }\n    return intersections\n}\n\nexport default class QBezier {\n    constructor(x1, y1, x2, y2, x3, y3) {\n        this.x1 = 0;\n        this.x2 = 0;\n        this.x3 = 0;\n        this.y1 = 0;\n        this.y2 = 0;\n        this.y3 = 0;\n\n        if (typeof(x1) == \"number\") {\n            this.x1 = x1;\n            this.x2 = x2;\n            this.x3 = x3;\n            this.y1 = y1;\n            this.y2 = y2;\n            this.y3 = y3;\n            return;\n        }\n\n        if (x1 instanceof QBezier) {\n            this.x1 = x1.x1;\n            this.x2 = x1.x2;\n            this.x3 = x1.x3;\n            this.y1 = x1.y1;\n            this.y2 = x1.y2;\n            this.y3 = x1.y3;\n            return;\n        }\n\n        if (x1 instanceof Array) {\n            this.x1 = x1[0];\n            this.y1 = x1[1];\n            this.x2 = x1[2];\n            this.y2 = x1[3];\n            this.x3 = x1[4];\n            this.y3 = x1[5];\n            return;\n        }\n    }\n\n    reverse() {\n        return new QBezier(\n            this.x3,\n            this.y3,\n            this.x2,\n            this.y2,\n            this.x1,\n            this.y1\n        )\n    }\n\n    point(t) {\n        return new Point2D(\n            posOnCurve(t, this.x1, this.x2, this.x3),\n            posOnCurve(t, this.y1, this.y2, this.y3))\n\n    }\n\n    tangent(t) {\n        var tan = {\n            x: 0,\n            y: 0\n        };\n\n        var px1 = this.x2 - this.x1;\n        var py1 = this.y2 - this.y1;\n\n        var px2 = this.x3 - this.x2;\n        var py2 = this.y3 - this.y2;\n\n        tan.x = (1 - t) * px1 + t * px2;\n        tan.y = (1 - t) * py1 + t * py2;\n\n        return tan;\n    }\n\n    toArray() {\n        return [this.x1, this.y1, this.x2, this.y2, this.x3, this.y3];\n    }\n\n    split(t) {\n        return splitCurve(this.toArray(), t);\n    }\n\n    rootsX() {\n        return this.roots(\n            this.x1,\n            this.x2,\n            this.x3\n        )\n\n    }\n\n    roots(p1, p2, p3) {\n        var curve = this.toArray();\n\n        var c = p1 - (2 * p2) + p3;\n        var b = 2 * (p2 - p1);\n        var a = p1;\n        var a2 = a * 2;\n        var sqrt = Math.sqrt(b * b - (a * 4 * c));\n        var t1 = (-b + sqrt) / a2;\n        var t2 = (-b - sqrt) / a2;\n\n        return [t1, t2];\n    }\n\n    rootsa() {\n        var curve = this.toArray();\n\n        var p1 = curve[1];\n        var p2 = curve[3];\n        var p3 = curve[5];\n        var x1 = curve[0];\n        var x2 = curve[2];\n        var x3 = curve[4];\n\n        var py1d = 2 * (p2 - p1);\n        var py2d = 2 * (p3 - p2);\n        var ad1 = -py1d + py2d;\n        var bd1 = py1d;\n\n        var px1d = 2 * (x2 - x1);\n        var px2d = 2 * (x3 - x2);\n        var ad2 = -px1d + px2d;\n        var bd2 = px1d;\n\n        var t1 = -bd1 / ad1;\n        var t2 = -bd2 / ad2;\n\n        return [t1, t2];\n    }\n\n    boundingBox() {\n        var x1 = curve[0];\n        var y1 = curve[1];\n        var x2 = curve[2];\n        var y2 = curve[3];\n        var x3 = curve[4];\n        var y3 = curve[5];\n        var roots = getRootsClamped(curve);\n        var min_x = Math.min(x1, x2, x3, roots.y[0] || Infinity, roots.x[0] || Infinity);\n        var min_y = Math.min(y1, y2, y3, roots.y[1] || Infinity, roots.x[1] || Infinity);\n        var max_x = Math.max(x1, x2, x3, roots.y[0] || -Infinity, roots.x[0] || -Infinity);\n        var max_y = Math.max(y1, y2, y3, roots.y[1] || -Infinity, roots.x[1] || -Infinity);\n\n        return {\n            min: {\n                x: min_x,\n                y: min_y\n            },\n            max: {\n                x: max_x,\n                y: max_y\n            }\n        };\n    }\n\n    rotate(angle, offset) {\n        angle = (angle / 180) * Math.PI;\n\n        var new_curve = this.toArray();\n\n        for (var i = 0; i < 6; i += 2) {\n            var x = curve[i] - offset.x;\n            var y = curve[i + 1] - offset.y;\n            new_curve[i] = ((x * Math.cos(angle) - y * Math.sin(angle))) + offset.x;\n            new_curve[i + 1] = ((x * Math.sin(angle) + y * Math.cos(angle))) + offset.y;\n        }\n\n        return new QBezier(new_curve);\n    }\n\n    intersects() {\n        return {\n            x: curveIntersections(this.x1, this.x2, this.x3),\n            y: curveIntersections(this.y1, this.y2, this.y3)\n        }\n    }\n\n    add(x, y) {\n        if (typeof(x) == \"number\") {\n            return new QBezier(\n                this.x1 + x,\n                this.y1 + y,\n                this.x2 + x,\n                this.y2 + y,\n                this.x3 + x,\n                this.y3 + y,\n            )\n        }\n    }\n}","import  {CBezier}  from \"@candlefw/math\";\r\n\r\nexport default class CSS_Bezier extends CBezier {\r\n\tstatic parse(l, rule, r) {\r\n\r\n\t\tlet out = null;\r\n\r\n\t\tswitch(l.tx){\r\n\t\t\tcase \"cubic\":\r\n\t\t\t\tl.next().a(\"(\");\r\n\t\t\t\tlet v1 = parseFloat(l.tx);\r\n\t\t\t\tlet v2 = parseFloat(l.next().a(\",\").tx);\r\n\t\t\t\tlet v3 = parseFloat(l.next().a(\",\").tx);\r\n\t\t\t\tlet v4 = parseFloat(l.next().a(\",\").tx);\r\n\t\t\t\tl.a(\")\");\r\n\t\t\t\tout = new CSS_Bezier(v1, v2, v3, v4);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ease\":\r\n\t\t\t\tl.next();\r\n\t\t\t\tout = new CSS_Bezier(0.25, 0.1, 0.25, 1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ease-in\":\r\n\t\t\t\tl.next();\r\n\t\t\t\tout = new CSS_Bezier(0.42, 0, 1, 1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ease-out\":\r\n\t\t\t\tl.next();\r\n\t\t\t\tout = new CSS_Bezier(0, 0, 0.58, 1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ease-in-out\":\r\n\t\t\t\tl.next();\r\n\t\t\t\tout = new CSS_Bezier(0.42, 0, 0.58, 1);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn out;\r\n\t}\r\n}","import \r\n    CSS_Color \r\n from \"./color\";\r\n\r\nimport \r\n    CSS_Percentage\r\n from \"./percentage\";\r\n\r\nimport \r\n    CSS_Length\r\n from \"./length\";\r\n\r\nclass Stop{\r\n    constructor(color, percentage){\r\n        this.color = color;\r\n        this.percentage = percentage || null;\r\n    }\r\n\r\n    toString(){\r\n        return `${this.color}${(this.percentage)?\" \"+this.percentage:\"\"}`;\r\n    }\r\n}\r\n\r\nexport default  class CSS_Gradient{\r\n\r\n    static parse(l, rule, r) {\r\n        let tx = l.tx,\r\n            pky = l.pk.ty;\r\n        if (l.ty == l.types.id) {\r\n            switch(l.tx){\r\n                case \"linear-gradient\":\r\n                l.next().a(\"(\");\r\n                let dir,num,type =\"deg\";\r\n                if(l.tx == \"to\"){\r\n\r\n                }else if(l.ty == l.types.num){\r\n                    num = parseFloat(l.ty);\r\n                    type = l.next().tx;\r\n                    l.next().a(',');\r\n                }\r\n\r\n                let stops = [];\r\n                \r\n                while(!l.END && l.ch != \")\"){\r\n                    let v = CSS_Color.parse(l, rule, r);\r\n                    let len = null;\r\n\r\n                    if(l.ch == \")\") {\r\n                        stops.push(new Stop(v, len));\r\n                        break;\r\n                    }\r\n                    \r\n                    if(l.ch != \",\"){\r\n                        if(!(len = CSS_Length.parse(l, rule, r)))\r\n                            len = CSS_Percentage.parse(l,rule,r);\r\n                    }else\r\n                        l.next();\r\n                    \r\n\r\n                    stops.push(new Stop(v, len));\r\n                }\r\n                l.a(\")\");\r\n                let grad = new CSS_Gradient();\r\n                grad.stops = stops;\r\n                return grad;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    constructor(type = 0){\r\n        this.type = type; //linear gradient\r\n        this.direction = new CSS_Length(0, \"deg\");\r\n        this.stops = [];\r\n    }\r\n\r\n    toString(){\r\n        let str = [];\r\n        switch(this.type){\r\n            case 0:\r\n            str.push(\"linear-gradient(\");\r\n            if(this.direction !== 0)\r\n                str.push(this.direction.toString() + \",\");\r\n            break;\r\n        }\r\n\r\n        for(let i = 0; i < this.stops.length; i++)\r\n            str.push(this.stops[i].toString()+((i<this.stops.length-1)?\",\":\"\"));\r\n\r\n        str.push(\")\");\r\n\r\n        return str.join(\" \");\r\n    }\r\n}","import CSS_Length from \"./length\";\r\n\r\nconst $medh = (prefix) => ({\r\n    parse: (l, r, a, n = 0) => (n = CSS_Length.parse(l, r, a), (prefix > 0) ? ((prefix > 1) ? (win) => win.innerHeight <= n : (win) => win.innerHeight >= n) : (win) => win.screen.height == n)\r\n});\r\n\r\n\r\nconst $medw = (prefix) => ({\r\n    parse: (l, r, a, n = 0) => \r\n        (n = CSS_Length.parse(l, r, a), (prefix > 0) ? ((prefix > 1) ? (win) => win.innerWidth >= n : (win) => win.innerWidth <= n) : (win) => win.screen.width == n)\r\n});\r\n\r\nexport default function CSS_Media_handle(type, prefix) {\r\n    switch (type) {\r\n        case \"h\":\r\n            return $medh(prefix);\r\n        case \"w\":\r\n            return $medw(prefix);\r\n    }\r\n\r\n    return {\r\n        parse: function(a, b, c) {\r\n            debugger;\r\n        }\r\n    };\r\n}","import whind from \"@candlefw/whind\";\r\n\r\nfunction getValue(lex, attribute) {\r\n    let v = lex.tx,\r\n        mult = 1;\r\n\r\n    if (v == \"-\")\r\n        v = lex.n.tx, mult = -1;\r\n\r\n    let n = parseFloat(v) * mult;\r\n\r\n    lex.n;\r\n\r\n    if (lex.ch !== \")\" && lex.ch !== \",\") {\r\n        switch (lex.tx) {\r\n            case \"%\":\r\n                break;\r\n\r\n            /* Rotational Values */\r\n            case \"grad\":\r\n                n *= Math.PI / 200;\r\n                break;\r\n            case \"deg\":\r\n                n *= Math.PI / 180;\r\n                break;\r\n            case \"turn\":\r\n                n *= Math.PI * 2;\r\n                break;\r\n            case \"px\":\r\n                break;\r\n            case \"em\":\r\n                break;\r\n        }\r\n        lex.n;\r\n    }\r\n    return n;\r\n}\r\n\r\nfunction ParseString(string, transform) {\r\n    var lex = whind(string);\r\n    \r\n    while (!lex.END) {\r\n        let tx = lex.tx;\r\n        lex.n;\r\n        switch (tx) {\r\n            case \"matrix\":\r\n\r\n                let a = getValue(lex.a(\"(\")),\r\n                    b = getValue(lex.a(\",\")),\r\n                    c = getValue(lex.a(\",\")),\r\n                    d = getValue(lex.a(\",\")),\r\n                    r = -Math.atan2(b, a),\r\n                    sx1 = (a / Math.cos(r)) || 0,\r\n                    sx2 = (b / -Math.sin(r)) || 0,\r\n                    sy1 = (c / Math.sin(r)) || 0,\r\n                    sy2 = (d / Math.cos(r)) || 0;\r\n                \r\n                if(sx2 !== 0)\r\n                    transform.sx = (sx1 + sx2) * 0.5;\r\n                else\r\n                    transform.sx = sx1;\r\n\r\n                if(sy1 !== 0)\r\n                    transform.sy = (sy1 + sy2) * 0.5;\r\n                else\r\n                    transform.sy = sy2;\r\n\r\n                transform.px = getValue(lex.a(\",\"));\r\n                transform.py = getValue(lex.a(\",\"));\r\n                transform.r = r;\r\n                lex.a(\")\");\r\n                break;\r\n            case \"matrix3d\":\r\n                break;\r\n            case \"translate\":\r\n                transform.px = getValue(lex.a(\"(\"), \"left\");\r\n                lex.a(\",\");\r\n                transform.py = getValue(lex, \"left\");\r\n                lex.a(\")\");\r\n                continue;\r\n            case \"translateX\":\r\n                transform.px = getValue(lex.a(\"(\"), \"left\");\r\n                lex.a(\")\");\r\n                continue;\r\n            case \"translateY\":\r\n                transform.py = getValue(lex.a(\"(\"), \"left\");\r\n                lex.a(\")\");\r\n                continue;\r\n            case \"scale\":\r\n                transform.sx = getValue(lex.a(\"(\"), \"left\");\r\n                if(lex.ch ==\",\"){\r\n                    lex.a(\",\");\r\n                    transform.sy = getValue(lex, \"left\");\r\n                }\r\n                else transform.sy = transform.sx;\r\n                lex.a(\")\");\r\n                continue;\r\n            case \"scaleX\":\r\n                transform.sx = getValue(lex.a(\"(\"), \"left\");\r\n                lex.a(\")\");\r\n                continue;\r\n            case \"scaleY\":\r\n                transform.sy = getValue(lex.a(\"(\"), \"left\");\r\n                lex.a(\")\");\r\n                continue;\r\n            case \"scaleZ\":\r\n                break;\r\n            case \"rotate\":\r\n                transform.r = getValue(lex.a(\"(\"));\r\n                lex.a(\")\");\r\n                continue;\r\n            case \"rotateX\":\r\n                break;\r\n            case \"rotateY\":\r\n                break;\r\n            case \"rotateZ\":\r\n                break;\r\n            case \"rotate3d\":\r\n                break;\r\n            case \"perspective\":\r\n                break;\r\n        }\r\n        lex.n;\r\n    }\r\n}\r\n// A 2D transform composition of 2D position, 2D scale, and 1D rotation.\r\n\r\nexport default class CSS_Transform2D extends Float64Array {\r\n    static ToString(pos = [0, 0], scl = [1, 1], rot = 0) {\r\n        var px = 0,\r\n            py = 0,\r\n            sx = 1,\r\n            sy = 1,\r\n            r = 0, cos = 1, sin = 0;\r\n        if (pos.length == 5) {\r\n            px = pos[0];\r\n            py = pos[1];\r\n            sx = pos[2];\r\n            sy = pos[3];\r\n            r = pos[4];\r\n        } else {\r\n            px = pos[0];\r\n            py = pos[1];\r\n            sx = scl[0];\r\n            sy = scl[1];\r\n            r = rot;\r\n        }\r\n        \r\n        if(r !== 0){\r\n            cos = Math.cos(r);\r\n            sin = Math.sin(r);\r\n        }\r\n\r\n        return `matrix(${cos * sx}, ${-sin * sx}, ${sy * sin}, ${sy * cos}, ${px}, ${py})`;\r\n    }\r\n\r\n\r\n    constructor(px, py, sx, sy, r) {\r\n        super(5);\r\n        this.sx = 1;\r\n        this.sy = 1;\r\n        if (px) {\r\n            if (px instanceof CSS_Transform2D) {\r\n                this[0] = px[0];\r\n                this[1] = px[1];\r\n                this[2] = px[2];\r\n                this[3] = px[3];\r\n                this[4] = px[4];\r\n            } else if (typeof(px) == \"string\") ParseString(px, this);\r\n            else {\r\n                this[0] = px;\r\n                this[1] = py;\r\n                this[2] = sx;\r\n                this[3] = sy;\r\n                this[4] = r;\r\n            }\r\n        }\r\n    }\r\n    get px() {\r\n        return this[0];\r\n    }\r\n    set px(v) {\r\n        this[0] = v;\r\n    }\r\n    get py() {\r\n        return this[1];\r\n    }\r\n    set py(v) {\r\n        this[1] = v;\r\n    }\r\n    get sx() {\r\n        return this[2];\r\n    }\r\n    set sx(v) {\r\n        this[2] = v;\r\n    }\r\n    get sy() {\r\n        return this[3];\r\n    }\r\n    set sy(v) {\r\n        this[3] = v;\r\n    }\r\n    get r() {\r\n        return this[4];\r\n    }\r\n    set r(v) {\r\n        this[4] = v;\r\n    }\r\n\r\n    set scale(s){\r\n        this.sx = s;\r\n        this.sy = s;\r\n    }\r\n\r\n    get scale(){\r\n        return this.sx;\r\n    }\r\n    \r\n    lerp(to, t) {\r\n        let out = new CSS_Transform2D();\r\n        for (let i = 0; i < 5; i++) out[i] = this[i] + (to[i] - this[i]) * t;\r\n        return out;\r\n    }\r\n    toString() {\r\n        return CSS_Transform2D.ToString(this);\r\n    }\r\n\r\n    copy(v) {\r\n        let copy = new CSS_Transform2D(this);\r\n\r\n\r\n        if (typeof(v) == \"string\")\r\n            ParseString(v, copy);\r\n\r\n        return copy;\r\n    }\r\n\r\n    /**\r\n     * Sets the transform value of a canvas 2D context;\r\n     */\r\n    setCTX(ctx){       \r\n        let cos = 1, sin = 0;\r\n        if(this[4] != 0){\r\n            cos = Math.cos(this[4]);\r\n            sin = Math.sin(this[4]);\r\n        }\r\n        ctx.transform(cos * this[2], -sin * this[2], this[3] * sin, this[3] * cos, this[0], this[1]);\r\n    }\r\n\r\n    getLocalX(X){\r\n        return (X - this.px) / this.sx;\r\n    }\r\n\r\n    getLocalY(Y){\r\n        return (Y - this.py) / this.sy;\r\n    }\r\n}","/**\r\n * @brief Path Info\r\n * @details Path syntax information for reference\r\n * \r\n * MoveTo: M, m\r\n * LineTo: L, l, H, h, V, v\r\n * Cubic Bézier Curve: C, c, S, s\r\n * Quadratic Bézier Curve: Q, q, T, t\r\n * Elliptical Arc Curve: A, a\r\n * ClosePath: Z, z\r\n * \r\n * Capital symbols represent absolute positioning, lowercase is relative\r\n */\r\nconst PathSym = {\r\n    M: 0,\r\n    m: 1,\r\n    L: 2,\r\n    l: 3,\r\n    h: 4,\r\n    H: 5,\r\n    V: 6,\r\n    v: 7,\r\n    C: 8,\r\n    c: 9,\r\n    S: 10,\r\n    s: 11,\r\n    Q: 12,\r\n    q: 13,\r\n    T: 14,\r\n    t: 15,\r\n    A: 16,\r\n    a: 17,\r\n    Z: 18,\r\n    z: 19,\r\n    pairs: 20\r\n}\r\n\r\nfunction getSignedNumber(lex) {\r\n    let mult = 1,\r\n        tx = lex.tx;\r\n    if (tx == \"-\") {\r\n        mult = -1;\r\n        tx = lex.n.tx;\r\n    }\r\n    lex.n;\r\n    return parseFloat(tx) * mult;\r\n}\r\n\r\nfunction getNumberPair(lex, array) {\r\n    let x = getSignedNumber(lex);\r\n    if (lex.ch == ',') lex.n;\r\n    let y = getSignedNumber(lex);\r\n    array.push(x, y);\r\n}\r\n\r\nfunction parseNumberPairs(lex, array) {\r\n    while ((lex.ty == lex.types.num || lex.ch == \"-\") && !lex.END) {    \t\r\n    \tarray.push(PathSym.pairs);\r\n        getNumberPair(lex, array);\r\n    }\r\n}\r\n/**\r\n * @brief An array store of path data in numerical form\r\n */\r\nexport default class CSS_Path extends Array {\r\n    static FromString(string, array) {\r\n        let lex = whind(string);\r\n        while (!lex.END) {\r\n            let relative = false,\r\n                x = 0,\r\n                y = 0;\r\n            switch (lex.ch) {\r\n                //Move to\r\n                case \"m\":\r\n                    relative = true;\r\n                case \"M\":\r\n                    lex.n; //\r\n                    array.push((relative) ? PathSym.m : PathSym.M);\r\n                    getNumberPair(lex, array);\r\n                    parseNumberPairs(lex, array);\r\n                    continue;\r\n                    //Line to\r\n                case \"h\":\r\n                    relative = true;\r\n                case \"H\":\r\n                    lex.n;\r\n                    x = getSignedNumber(lex);\r\n                    array.push((relative) ? PathSym.h : PathSym.H, x);\r\n                    continue;\r\n                case \"v\":\r\n                    relative = true;\r\n                case \"V\":\r\n                    lex.n;\r\n                    y = getSignedNumber(lex);\r\n                    array.push((relative) ? PathSym.v : PathSym.V, y);\r\n                    continue;\r\n                case \"l\":\r\n                    relative = true;\r\n                case \"L\":\r\n                    lex.n;\r\n                    array.push((relative) ? PathSym.l : PathSym.L);\r\n                    getNumberPair(lex, array);\r\n                    parseNumberPairs(lex, array);\r\n                    continue;\r\n                    //Cubic Curve\r\n                case \"c\":\r\n                    relative = true;\r\n                case \"C\":\r\n                    array.push((relative) ? PathSym.c : PathSym.C);\r\n                    getNumberPair(lex, array);\r\n                    getNumberPair(lex, array);\r\n                    getNumberPair(lex, array);\r\n                    parseNumberPairs(lex, array);\r\n                    continue;\r\n                case \"s\":\r\n                    relative = true;\r\n                case \"S\":\r\n                    array.push((relative) ? PathSym.s : PathSym.S);\r\n                    getNumberPair(lex, array);\r\n                    getNumberPair(lex, array);\r\n                    parseNumberPairs(lex, array);\r\n                    continue;\r\n                    //Quadratic Curve0\r\n                case \"q\":\r\n                    relative = true;\r\n                case \"Q\":\r\n                    array.push((relative) ? PathSym.q : PathSym.Q);\r\n                    getNumberPair(lex, array);\r\n                    getNumberPair(lex, array);\r\n                    parseNumberPairs(lex, array);\r\n                    continue;\r\n                case \"t\":\r\n                    relative = true;\r\n                case \"T\":\r\n                    array.push((relative) ? PathSym.t : PathSym.T);\r\n                    getNumberPair(lex, array);\r\n                    parseNumberPairs(lex, array);\r\n                    continue;\r\n                    //Elliptical Arc\r\n                    //Close path:\r\n                case \"z\":\r\n                    relative = true;\r\n                case \"Z\":\r\n                    array.push((relative) ? PathSym.z : PathSym.Z);\r\n            }\r\n            lex.n;\r\n        }\r\n    }\r\n\r\n    static ToString(array) {\r\n    \tlet string = [], l = array.length, i = 0;\r\n    \twhile(i < l){\r\n    \t\tswitch(array[i++]){\r\n    \t\t\tcase PathSym.M:\r\n    \t\t\t\tstring.push(\"M\", array[i++], array[i++]);\r\n    \t\t\t\tbreak;\r\n\t\t\t    case PathSym.m:\r\n\t\t\t    \tstring.push(\"m\", array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.L:\r\n\t\t\t    \tstring.push(\"L\", array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.l:\r\n\t\t\t    \tstring.push(\"l\", array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.h:\r\n\t\t\t    \tstring.push(\"h\", array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.H:\r\n\t\t\t    \tstring.push(\"H\", array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.V:\r\n\t\t\t    \tstring.push(\"V\", array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.v:\r\n\t\t\t    \tstring.push(\"v\", array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.C:\r\n\t\t\t    \tstring.push(\"C\", array[i++], array[i++], array[i++], array[i++], array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.c:\r\n\t\t\t    \tstring.push(\"c\", array[i++], array[i++], array[i++], array[i++], array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.S:\r\n\t\t\t    \tstring.push(\"S\", array[i++], array[i++], array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.s:\r\n\t\t\t    \tstring.push(\"s\", array[i++], array[i++], array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.Q:\r\n\t\t\t    \tstring.push(\"Q\", array[i++], array[i++], array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.q:\r\n\t\t\t    \tstring.push(\"q\", array[i++], array[i++], array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.T:\r\n\t\t\t    \tstring.push(\"T\", array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.t:\r\n\t\t\t    \tstring.push(\"t\", array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.Z:\r\n\t\t\t    \tstring.push(\"Z\");\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.z:\r\n\t\t\t    \tstring.push(\"z\");\r\n\t\t\t    \tbreak;\r\n\t\t\t    case PathSym.pairs:\r\n\t\t\t    \tstring.push(array[i++], array[i++]);\r\n\t\t\t    \tbreak;\r\n\t\t\t \tcase PathSym.A:\r\n\t\t\t    case PathSym.a:\r\n\t\t\t    default:\r\n\t\t\t    \ti++;\r\n    \t\t}\r\n    \t}\r\n\r\n    \treturn string.join(\" \");\r\n    }\r\n\r\n    \r\n    constructor(data) {\r\n        super()\t\r\n\r\n    \tif(typeof(data) == \"string\"){\r\n    \t\tPath.FromString(data, this)\r\n    \t}else if(Array.isArray(data)){\r\n    \t\tfor(let i = 0; i < data.length;i++){\r\n    \t\t\tthis.push(parseFloat(data[i]));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    toString(){\r\n    \treturn Path.ToString(this);\r\n    }\r\n\r\n    lerp(to, t, array = new Path){\r\n    \tlet l = Math.min(this.length, to.length);\r\n\r\n    \tfor(let i = 0; i < l; i++)\r\n    \t\tarray[i] = this[i] + (to[i] - this[i]) * t;\r\n\r\n    \treturn array;\r\n    }\t\r\n}","import CSS_Color from \"../types/color\";\r\nimport CSS_Length from \"../types/length\";\r\nimport CSS_Percentage from \"../types/percentage\";\r\nimport CSS_URL from \"../types/url\";\r\nimport CSS_String from \"../types/string\";\r\nimport CSS_Id from \"../types/id\";\r\nimport CSS_Shape from \"../types/shape\";\r\nimport CSS_Number from \"../types/number\";\r\nimport CSS_Bezier from \"../types/cubic_bezier\";\r\nimport CSS_Gradient from \"../types/gradient\";\r\nimport CSS_Media_handle from \"../types/media\";\r\nimport CSS_Transform2D from \"../types/transform\";\r\nimport CSS_Path from \"../types/path\";\r\n\r\n/**\r\n * CSS Type constructors\r\n * @alias module:wick~internals.css.types.\r\n * @enum {object}\r\n */\r\nexport const types = {\r\n    color: CSS_Color,\r\n    length: CSS_Length,\r\n    time: CSS_Length,\r\n    flex: CSS_Length,\r\n    angle: CSS_Length,\r\n    frequency: CSS_Length,\r\n    resolution: CSS_Length,\r\n    percentage: CSS_Percentage,\r\n    url: CSS_URL,\r\n    uri: CSS_URL,\r\n    number: CSS_Number,\r\n    id: CSS_Id,\r\n    string: CSS_String,\r\n    shape: CSS_Shape,\r\n    cubic_bezier: CSS_Bezier,\r\n    integer: CSS_Number,\r\n    gradient: CSS_Gradient,\r\n    transform2D : CSS_Transform2D,\r\n    path: CSS_Path,\r\n\r\n    /* Media parsers */\r\n    m_width: CSS_Media_handle(\"w\", 0),\r\n    m_min_width: CSS_Media_handle(\"w\", 1),\r\n    m_max_width: CSS_Media_handle(\"w\", 2),\r\n    m_height: CSS_Media_handle(\"h\", 0),\r\n    m_min_height: CSS_Media_handle(\"h\", 1),\r\n    m_max_height: CSS_Media_handle(\"h\", 2),\r\n    m_device_width: CSS_Media_handle(\"dw\", 0),\r\n    m_min_device_width: CSS_Media_handle(\"dw\", 1),\r\n    m_max_device_width: CSS_Media_handle(\"dw\", 2),\r\n    m_device_height: CSS_Media_handle(\"dh\", 0),\r\n    m_min_device_height: CSS_Media_handle(\"dh\", 1),\r\n    m_max_device_height: CSS_Media_handle(\"dh\", 2)\r\n};\r\n\r\n/**\r\n * CSS Property Definitions https://www.w3.org/TR/css3-values/#value-defs\r\n * @alias module:wick~internals.css.property_definitions.\r\n * @enum {string}\r\n */\r\nexport const property_definitions = {\r\n    //https://www.w3.org/TR/2018/REC-css-color-3-20180619//\r\n    \r\n    color: `<color>`,\r\n\r\n    opacity: `<alphavalue>|inherit`,\r\n\r\n\r\n    /*https://www.w3.org/TR/css-backgrounds-3/*/\r\n    /* Background */\r\n    background_color: `<color>`,\r\n    background_image: `<bg_image>#`,\r\n    background_repeat: `<repeat_style>#`,\r\n    background_attachment: `scroll|fixed|local`,\r\n    background_position: `[<percentage>|<length>]{1,2}|[top|center|bottom]||[left|center|right]`,\r\n    background_clip: `<box>#`,\r\n    background_origin: `<box>#`,\r\n    background_size: `<bg_size>#`,\r\n    background: `<bg_layer>#,<final_bg_layer>`,\r\n\r\n    /* Font https://www.w3.org/TR/css-fonts-4*/\r\n    font_family: `[[<family_name>|<generic_family>],]*[<family_name>|<generic_family>]`,\r\n    family_name: `<id>||<string>`,\r\n    generic_name: `serif|sans_serif|cursive|fantasy|monospace`,\r\n    font: `[<font_style>||<font_variant>||<font_weight>]?<font_size>[/<line_height>]?<font_family>`,\r\n    font_variant: `normal|small_caps`,\r\n    font_style: `normal | italic | oblique <angle>?`,\r\n    font_kerning: ` auto | normal | none`,\r\n    font_variant_ligatures:`normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values> ]`,\r\n    font_variant_position:`normal|sub|super`,\r\n    font_variant_caps:`normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps`,\r\n\r\n\r\n    /*CSS Clipping https://www.w3.org/TR/css-masking-1/#clipping `normal|italic|oblique`, */\r\n    font_size: `<absolute_size>|<relative_size>|<length>|<percentage>`,\r\n    absolute_size: `xx_small|x_small|small|medium|large|x_large|xx_large`,\r\n    relative_size: `larger|smaller`,\r\n    font_wight: `normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900`,\r\n\r\n    /* Text */\r\n    word_spacing: `normal|<length>`,\r\n    letter_spacing: `normal|<length>`,\r\n    text_decoration: `none|[underline||overline||line-through||blink]`,\r\n    text_transform: `capitalize|uppercase|lowercase|none`,\r\n    text_align: `left|right|center|justify`,\r\n    text_indent: `<length>|<percentage>`,\r\n\r\n\r\n    /* Border  https://www.w3.org/TR/css-backgrounds-3 */\r\n    border_color: `<color>{1,4}`,\r\n    border_top_color: `<color>`,\r\n    border_right_color: `<color>`,\r\n    border_bottom_color: `<color>`,\r\n    border_left_color: `<color>`,\r\n\r\n    border_width: `<line_width>{1,4}`,\r\n    border_top_width: `<line_width>`,\r\n    border_right_width: `<line_width>`,\r\n    border_bottom_width: `<line_width>`,\r\n    border_left_width: `<line_width>`,\r\n\r\n    border_style: `<line_style>{1,4}`,\r\n    border_top_style: `<line_style>`,\r\n    border_right_style: `<line_style>`,\r\n    border_bottom_style: `<line_style>`,\r\n    border_left_style: `<line_style>`,\r\n\r\n    border_top: `<line_width>||<line_style>||<color>`,\r\n    border_right: `<line_width>||<line_style>||<color>`,\r\n    border_bottom: `<line_width>||<line_style>||<color>`,\r\n    border_left: `<line_width>||<line_style>||<color>`,\r\n\r\n    border_radius: `<length_percentage>{1,4}[/<length_percentage>{1,4}]?`,\r\n    border_top_left_radius: `<length_percentage>{1,2}`,\r\n    border_top_right_radius: `<length_percentage>{1,2}`,\r\n    border_bottom_right_radius: `<length_percentage>{1,2}`,\r\n    border_bottom_left_radius: `<length_percentage>{1,2}`,\r\n\r\n    border_image: `<border_image_source>||<border_image_slice>[/<border_image_width>|/<border_image_width>?/<border_image_outset>]?||<border_image_repeat>`,\r\n    border_image_source: `none|<image>`,\r\n    border_image_slice: `[<number>|<percentage>]{1,4}&&fill?`,\r\n    border_image_width: `[<length_percentage>|<number>|auto]{1,4}`,\r\n    border_image_outset: `[<length>|<number>]{1,4}`,\r\n    border_image_repeat: `[stretch|repeat|round|space]{1,2}`,\r\n\r\n    box_shadow: `none|<shadow>#`,\r\n\r\n    border: `<line_width>||<line_style>||<color>`,\r\n\r\n    width: `<length>|<percentage>|auto|inherit`,\r\n    height: `<length>|<percentage>|auto|inherit`,\r\n    float: `left|right|none`,\r\n    clear: `left|right|both`,\r\n\r\n    /* Classification */\r\n\r\n    display: `[ <display_outside> || <display_inside> ] | <display_listitem> | <display_internal> | <display_box> | <display_legacy>`,\r\n    white_space: `normal|pre|nowrap`,\r\n    list_style_type: `disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none|inherit`,\r\n    list_style_image: `<url>|none`,\r\n    list_style_position: `inside|outside`,\r\n    list_style: `[disc|circle|square|decimal|lower-roman|upper-roman|lower-alpha|upper-alpha|none]||[inside|outside]||[<url>|none]`,\r\n    vertical_align: `baseline|sub|super|top|text-top|middle|bottom|text-bottom|<percentage>|<length>|inherit`,\r\n\r\n    /* Layout https://www.w3.org/TR/css-position-3 */ \r\n    position: \"static|relative|absolute|sticky|fixed\",\r\n    top: `<length>|<percentage>|auto|inherit`,\r\n    left: `<length>|<percentage>|auto|inherit`,\r\n    bottom: `<length>|<percentage>|auto|inherit`,\r\n    right: `<length>|<percentage>|auto|inherit`,\r\n\r\n    \r\n    /* Box Model https://www.w3.org/TR/css-box-3 */\r\n    margin: `[<length>|<percentage>|0|auto]{1,4}`,\r\n    margin_top: `<length>|<percentage>|0|auto`,\r\n    margin_right: `<length>|<percentage>|0|auto`,\r\n    margin_bottom: `<length>|<percentage>|0|auto`,\r\n    margin_left: `<length>|<percentage>|0|auto`,\r\n\r\n    padding: `[<length>|<percentage>|0|auto]{1,4}`,\r\n    padding_top: `<length>|<percentage>|0|auto`,\r\n    padding_right: `<length>|<percentage>|0|auto`,\r\n    padding_bottom: `<length>|<percentage>|0|auto`,\r\n    padding_left: `<length>|<percentage>|0|auto`,\r\n\r\n    min_width: `<length>|<percentage>|inherit`,\r\n    max_width: `<length>|<percentage>|none|inherit`,\r\n    min_height: `<length>|<percentage>|inherit`,\r\n    max_height: `<length>|<percentage>|none|inherit`,\r\n    line_height: `normal|<number>|<length>|<percentage>|inherit`,\r\n    overflow: 'visible|hidden|scroll|auto|inherit',\r\n\r\n\r\n    box_sizing: `content-box | border-box`,\r\n\r\n    /* Visual Effects */\r\n    clip: '<shape>|auto|inherit',\r\n    visibility: `visible|hidden|collapse|inherit`,\r\n    content: `normal|none|[<string>|<uri>|<counter>|attr(<identifier>)|open-quote|close-quote|no-open-quote|no-close-quote]+|inherit`,\r\n    quotas: `[<string><string>]+|none|inherit`,\r\n    counter_reset: `[<identifier><integer>?]+|none|inherit`,\r\n    counter_increment: `[<identifier><integer>?]+|none|inherit`,\r\n\r\n    /* CSS3 Animation https://drafts.csswg.org/css-animations-1/ */\r\n    animation: `<single_animation>#`,\r\n\r\n    animation_name: `[none|<keyframes_name>]#`,\r\n    animation_duration: `<time>#`,\r\n    animation_timing_function: `<timing_function>#`,\r\n    animation_iteration_count: `<single_animation_iteration_count>#`,\r\n    animation_direction: `<single_animation_direction>#`,\r\n    animation_play_state: `<single_animation_play_state>#`,\r\n    animation_delayed: `<time>#`,\r\n    animation_fill_mode: `<single_animation_fill_mode>#`,\r\n\r\n    /* https://drafts.csswg.org/css-transitions-1/ */\r\n\r\n    transition: `<single_transition>#`,\r\n    transition_property: `none|<single_transition_property>#`,\r\n    transition_duration: `<time>#`,\r\n    transition_timing_function: `<timing_function>#`,\r\n    transition_delay: `<time>#`,\r\n};\r\n\r\n/* Properties that are not directly accessible by CSS prop creator */\r\n\r\nexport const virtual_property_definitions = {\r\n\r\n    alphavalue: '<number>',\r\n\r\n    box: `border-box|padding-box|content-box`,\r\n\r\n    /*https://www.w3.org/TR/css-backgrounds-3/*/\r\n\r\n    bg_layer: `<bg_image>||<bg_position>[/<bg_size>]?||<repeat_style>||<attachment>||<box>||<box>`,\r\n    final_bg_layer: `<background_color>||<bg_image>||<bg_position>[/<bg_size>]?||<repeat_style>||<attachment>||<box>||<box>`,\r\n    bg_image: `<url>|<gradient>|none`,\r\n    repeat_style: `repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}`,\r\n    background_attachment: `<attachment>#`,\r\n    bg_size: `<length_percentage>|auto]{1,2}|cover|contain`,\r\n    bg_position: `[[left|center|right|top|bottom|<length_percentage>]|[left|center|right|<length_percentage>][top|center|bottom|<length_percentage>]|[center|[left|right]<length_percentage>?]&&[center|[top|bottom]<length_percentage>?]]`,\r\n    attachment: `scroll|fixed|local`,\r\n    line_style: `none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset`,\r\n    line_width: `thin|medium|thick|<length>`,\r\n\r\n    shadow: `inset?&&<length>{2,4}&&<color>?`,\r\n\r\n    /* Identifier https://drafts.csswg.org/css-values-4/ */\r\n\r\n    identifier: `<id>`,\r\n    custom_ident: `<id>`,\r\n\r\n    /* https://drafts.csswg.org/css-timing-1/#typedef-timing-function */\r\n\r\n    timing_function: `linear|<cubic_bezier_timing_function>|<step_timing_function>|<frames_timing_function>`,\r\n    cubic_bezier_timing_function: `<cubic_bezier>`,\r\n    step_timing_function: `step-start|step-end|'steps()'`,\r\n    frames_timing_function: `'frames()'`,\r\n\r\n    /* https://drafts.csswg.org/css-transitions-1/ */\r\n\r\n    single_animation_fill_mode: `none|forwards|backwards|both`,\r\n    single_animation_play_state: `running|paused`,\r\n    single_animation_direction: `normal|reverse|alternate|alternate-reverse`,\r\n    single_animation_iteration_count: `infinite|<number>`,\r\n    single_transition_property: `all|<custom_ident>`,\r\n    single_transition: `[none|<single_transition_property>]||<time>||<timing_function>||<time>`,\r\n\r\n    /* CSS3 Animation https://drafts.csswg.org/css-animations-1/ */\r\n\r\n    single_animation: `<time>||<timing_function>||<time>||<single_animation_iteration_count>||<single_animation_direction>||<single_animation_fill_mode>||<single_animation_play_state>||[none|<keyframes_name>]`,\r\n    keyframes_name: `<string>`,\r\n\r\n    /* CSS3 Stuff */\r\n    length_percentage: `<length>|<percentage>`,\r\n    frequency_percentage: `<frequency>|<percentage>`,\r\n    angle_percentage: `<angle>|<percentage>`,\r\n    time_percentage: `<time>|<percentage>`,\r\n    number_percentage: `<number>|<percentage>`,\r\n\r\n    /*CSS Clipping https://www.w3.org/TR/css-masking-1/#clipping */\r\n    clip_path: `<clip_source>|[<basic_shape>||<geometry_box>]|none`,\r\n    clip_source: `<url>`,\r\n    shape_box: `<box>|margin-box`,\r\n    geometry_box: `<shape_box>|fill-box|stroke-box|view-box`,\r\n    basic_shape: `<CSS_Shape>`,\r\n    ratio: `<integer>/<integer>`,\r\n\r\n    /* https://www.w3.org/TR/css-fonts-3/*/\r\n    common_lig_values        : `[ common-ligatures | no-common-ligatures ]`,\r\n    discretionary_lig_values : `[ discretionary-ligatures | no-discretionary-ligatures ]`,\r\n    historical_lig_values    : `[ historical-ligatures | no-historical-ligatures ]`,\r\n    contextual_alt_values    : `[ contextual | no-contextual ]`,\r\n\r\n    //Display\r\n    display_outside  : `block | inline | run-in`,\r\n    display_inside   : `flow | flow-root | table | flex | grid | ruby`,\r\n    display_listitem : `<display-outside>? && [ flow | flow-root ]? && list-item`,\r\n    display_internal : `table-row-group | table-header-group | table-footer-group | table-row | table-cell | table-column-group | table-column | table-caption | ruby-base | ruby-text | ruby-base-container | ruby-text-container`,\r\n    display_box      : `contents | none`,\r\n    display_legacy   : `inline-block | inline-table | inline-flex | inline-grid`,\r\n};\r\n\r\nexport const media_feature_definitions = {\r\n    width: \"<m_width>\",\r\n    min_width: \"<m_max_width>\",\r\n    max_width: \"<m_min_width>\",\r\n    height: \"<m_height>\",\r\n    min_height: \"<m_min_height>\",\r\n    max_height: \"<m_max_height>\",\r\n    orientation: \"portrait  | landscape\",\r\n    aspect_ratio: \"<ratio>\",\r\n    min_aspect_ratio: \"<ratio>\",\r\n    max_aspect_ratio: \"<ratio>\",\r\n    resolution: \"<length>\",\r\n    min_resolution: \"<length>\",\r\n    max_resolution: \"<length>\",\r\n    scan: \"progressive|interlace\",\r\n    grid: \"\",\r\n    monochrome: \"\",\r\n    min_monochrome: \"<integer>\",\r\n    max_monochrome: \"<integer>\",\r\n    color: \"\",\r\n    min_color: \"<integer>\",\r\n    max_color: \"<integer>\",\r\n    color_index: \"\",\r\n    min_color_index: \"<integer>\",\r\n    max_color_index: \"<integer>\",\r\n\r\n};\r\n","import whind from \"@candlefw/whind\";\r\n\r\nimport { property_definitions } from \"./properties/property_and_type_definitions\";\r\n\r\n/**\r\n * Used to _bind_ a rule to a CSS selector.\r\n * @param      {string}  selector        The raw selector string value\r\n * @param      {array}  selector_array  An array of selector group identifiers.\r\n * @memberof module:wick~internals.css\r\n * @alias CSSSelector\r\n */\r\nclass CSSSelector {\r\n\r\n    constructor(selectors /* string */ , selectors_arrays /* array */ ) {\r\n\r\n        /**\r\n         * The raw selector string value\r\n         * @package\r\n         */\r\n\r\n        this.v = selectors;\r\n\r\n        /**\r\n         * Array of separated selector strings in reverse order.\r\n         * @package\r\n         */\r\n\r\n        this.a = selectors_arrays;\r\n\r\n        /**\r\n         * The CSSRule.\r\n         * @package\r\n         */\r\n        this.r = null;\r\n    }\r\n\r\n    get id() {\r\n        return this.v.join(\"\");\r\n    }\r\n    /**\r\n     * Returns a string representation of the object.\r\n     * @return     {string}  String representation of the object.\r\n     */\r\n    toString(off = 0) {\r\n        let offset = (\"    \").repeat(off);\r\n\r\n        let str = `${offset}${this.v.join(\", \")} {\\n`;\r\n\r\n        if (this.r)\r\n            str += this.r.toString(off + 1);\r\n\r\n        return str + `${offset}}\\n`;\r\n    }\r\n\r\n    addProp(string) {\r\n        let root = this.r.root;\r\n        if (root) {\r\n            let lex = whind(string);\r\n            while (!lex.END)\r\n                root.parseProperty(lex, this.r, property_definitions);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * Holds a set of rendered CSS properties.\r\n * @memberof module:wick~internals.css\r\n * @alias CSSRule\r\n */\r\nclass CSSRule {\r\n    constructor(root) {\r\n        /**\r\n         * Collection of properties held by this rule.\r\n         * @public\r\n         */\r\n        this.props = {};\r\n        this.LOADED = false;\r\n        this.root = root;\r\n    }\r\n\r\n    addProperty(prop, rule) {\r\n        if (prop)\r\n            this.props[prop.name] = prop.value;\r\n    }\r\n\r\n    toString(off = 0) {\r\n        let str = [],\r\n            offset = (\"    \").repeat(off);\r\n\r\n        for (let a in this.props) {\r\n            if (this.props[a] !== null) {\r\n                if (Array.isArray(this.props[a]))\r\n                    str.push(offset, a.replace(/\\_/g, \"-\"), \":\", this.props[a].join(\" \"), \";\\n\");\r\n                else\r\n                    str.push(offset, a.replace(/\\_/g, \"-\"), \":\", this.props[a].toString(), \";\\n\");\r\n            }\r\n        }\r\n\r\n        return str.join(\"\"); //JSON.stringify(this.props).replace(/\\\"/g, \"\").replace(/\\_/g, \"-\");\r\n    }\r\n\r\n    merge(rule) {\r\n        if (rule.props) {\r\n            for (let n in rule.props)\r\n                this.props[n] = rule.props[n];\r\n            this.LOADED = true;\r\n        }\r\n    }\r\n\r\n    get _wick_type_() { return 0; }\r\n\r\n    set _wick_type_(v) {}\r\n}\r\n\r\nexport { CSSRule, CSSSelector }","import whind from \"@candlefw/whind\";\r\n\r\n/**\r\n * wick internals.\r\n * @class      NR (name)\r\n */\r\nclass NR { //Notation Rule\r\n\r\n    constructor() {\r\n\r\n        this.r = [NaN, NaN];\r\n        this._terms_ = [];\r\n        this._prop_ = null;\r\n        this._virtual_ = false;\r\n    }\r\n\r\n    sp(value, rule) { //Set Property\r\n        if (this._prop_){\r\n            if (value)\r\n                if (Array.isArray(value) && value.length === 1 && Array.isArray(value[0]))\r\n                    rule[this._prop_] = value[0];\r\n                else\r\n                    rule[this._prop_] = value;\r\n        }\r\n    }\r\n\r\n    isRepeating() {\r\n        return !(isNaN(this.r[0]) && isNaN(this.r[1]));\r\n    }\r\n\r\n    parse(lx, rule, out_val) {\r\n        if (typeof(lx) == \"string\")\r\n            lx = whind(lx);\r\n\r\n        let r = out_val || { v: null },\r\n            start = isNaN(this.r[0]) ? 1 : this.r[0],\r\n            end = isNaN(this.r[1]) ? 1 : this.r[1];\r\n\r\n        return this.___(lx, rule, out_val, r, start, end);\r\n    }\r\n\r\n    ___(lx, rule, out_val, r, start, end) {\r\n        let bool = true;\r\n        for (let j = 0; j < end && !lx.END; j++) {\r\n\r\n            for (let i = 0, l = this._terms_.length; i < l; i++) {\r\n                bool = this._terms_[i].parse(lx, rule, r);\r\n                if (!bool) break;\r\n            }\r\n\r\n            if (!bool) {\r\n\r\n                this.sp(r.v, rule);\r\n\r\n                if (j < start)\r\n                    return false;\r\n                else\r\n                    return true;\r\n            }\r\n        }\r\n\r\n        this.sp(r.v, rule);\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nclass AND extends NR {\r\n    ___(lx, rule, out_val, r, start, end) {\r\n\r\n        outer:\r\n            for (let j = 0; j < end && !lx.END; j++) {\r\n                for (let i = 0, l = this._terms_.length; i < l; i++)\r\n                    if (!this._terms_[i].parse(lx, rule, r)) return false;\r\n            }\r\n\r\n        this.sp(r.v, rule);\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nclass OR extends NR {\r\n    ___(lx, rule, out_val, r, start, end) {\r\n        let bool = false;\r\n\r\n        for (let j = 0; j < end && !lx.END; j++) {\r\n            bool = false;\r\n\r\n            for (let i = 0, l = this._terms_.length; i < l; i++)\r\n                if (this._terms_[i].parse(lx, rule, r)) bool = true;\r\n\r\n            if (!bool && j < start) {\r\n                this.sp(r.v, rule);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        this.sp(r.v, rule);\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nclass ONE_OF extends NR {\r\n    ___(lx, rule, out_val, r, start, end) {\r\n        let bool = false;\r\n\r\n        for (let j = 0; j < end && !lx.END; j++) {\r\n            bool = false;\r\n\r\n            for (let i = 0, l = this._terms_.length; i < l; i++) {\r\n                bool = this._terms_[i].parse(lx, rule, r);\r\n                if (bool) break;\r\n            }\r\n\r\n            if (!bool)\r\n                if (j < start) {\r\n                    this.sp(r.v, rule);\r\n                    return false;\r\n                }\r\n        }\r\n\r\n        this.sp(r.v, rule);\r\n\r\n        return bool;\r\n    }\r\n}\r\n\r\nexport { NR, AND, OR, ONE_OF };","import whind from \"@candlefw/whind\";\r\n\r\nimport { NR } from \"./productions\";\r\n\r\nimport { types } from \"./property_and_type_definitions\";\r\n\r\nclass ValueTerm {\r\n\r\n    constructor(value, getPropertyParser, definitions) {\r\n\r\n        this._value_ = null;\r\n\r\n        const IS_VIRTUAL = { is: false };\r\n\r\n        if (!(this._value_ = types[value]))\r\n            this._value_ = getPropertyParser(value, IS_VIRTUAL, definitions);\r\n\r\n        this._prop_ = \"\";\r\n\r\n        if (!this._value_)\r\n            return new LiteralTerm(value);\r\n\r\n        if (this._value_ instanceof NR && IS_VIRTUAL.is)\r\n            this._virtual_ = true;\r\n    }\r\n\r\n    parse(l, rule, r) {\r\n        if (typeof(l) == \"string\")\r\n            l = whind(l);\r\n\r\n        let rn = { v: null };\r\n\r\n        let v = this._value_.parse(l, rule, rn);\r\n\r\n        if (rn.v) {\r\n            if (r)\r\n                if (r.v) {\r\n                    if (Array.isArray(r.v)) {\r\n                        if (Array.isArray(rn.v) && !this._virtual_)\r\n                            r.v = r.v.concat(rn.v);\r\n                        else\r\n                            r.v.push(rn.v);\r\n                    } else {\r\n                        if (Array.isArray(rn.v) && !this._virtual_)\r\n                            r.v = ([r.v]).concat(rn.v);\r\n                        else\r\n                            r.v = [r.v, rn.v];\r\n                    }\r\n                } else\r\n                    r.v = (this._virtual_) ? [rn.v] : rn.v;\r\n\r\n            if (this._prop_)\r\n                rule[this._prop_] = rn.v;\r\n\r\n            return true;\r\n\r\n        } else if (v) {\r\n            if (r)\r\n                if (r.v) {\r\n                    if (Array.isArray(r.v))\r\n                        r.v.push(v);\r\n                    else\r\n                        r.v = [r.v, v];\r\n                } else\r\n                    r.v = v;\r\n\r\n            if (this._prop_)\r\n                rule[this._prop_] = v;\r\n\r\n            return true;\r\n        } else\r\n            return false;\r\n    }\r\n}\r\n\r\nclass LiteralTerm {\r\n\r\n    constructor(value) {\r\n        this._value_ = value;\r\n        this._prop_ = null;\r\n    }\r\n\r\n    parse(l, rule, r) {\r\n\r\n        if (typeof(l) == \"string\")\r\n            l = whind(l);\r\n\r\n        let v = l.tx;\r\n        if (v == this._value_) {\r\n            l.next();\r\n\r\n            if (r)\r\n                if (r.v) {\r\n                    if (Array.isArray(r.v))\r\n                        r.v.push(v);\r\n                    else {\r\n                        let t = r.v;\r\n                        r.v = [t, v];\r\n                    }\r\n                } else\r\n                    r.v = v;\r\n\r\n            if (this._prop_)\r\n                rule[this._prop_] = v;\r\n\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nclass SymbolTerm extends LiteralTerm {\r\n    parse(l, rule, r) {\r\n        if (typeof(l) == \"string\")\r\n            l = whind(l);\r\n\r\n        if (l.tx == this._value_) {\r\n            l.next();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n};\r\n\r\nexport { LiteralTerm, ValueTerm, SymbolTerm }","import whind from \"@candlefw/whind\";\r\nimport { NR, AND, OR, ONE_OF } from \"./productions\";\r\nimport { LiteralTerm, ValueTerm, SymbolTerm } from \"./terms\";\r\nimport {  virtual_property_definitions } from \"./property_and_type_definitions\";\r\n\r\nexport function getPropertyParser(property_name, IS_VIRTUAL = { is: false }, definitions = null) {\r\n\r\n    let prop = definitions[property_name];\r\n\r\n    if (prop) {\r\n\r\n        if (typeof(prop) == \"string\")\r\n            prop = definitions[property_name] = CreatePropertyParser(prop, property_name, definitions);\r\n\r\n        return prop;\r\n    }\r\n\r\n    prop = virtual_property_definitions[property_name];\r\n\r\n    if (prop) {\r\n\r\n        IS_VIRTUAL.is = true;\r\n\r\n        if (typeof(prop) == \"string\")\r\n            prop = virtual_property_definitions[property_name] = CreatePropertyParser(prop, \"\", definitions);\r\n\r\n        return prop;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n\r\nfunction CreatePropertyParser(notation, name, definitions) {\r\n\r\n    const l = whind(notation);\r\n\r\n    const important = { is: false };\r\n\r\n    let n = d(l, definitions);\r\n\r\n    if (n instanceof NR && n._terms_.length == 1)\r\n        n = n._terms_[0];\r\n\r\n    n._prop_ = name;\r\n    n.IMP = important.is;\r\n\r\n    return n;\r\n}\r\n\r\nfunction d(l, definitions, super_term = false, group = false, need_group = false, and_group = false, important = null) {\r\n    let term, nt;\r\n\r\n    while (!l.END) {\r\n        switch (l.ch) {\r\n            case \"]\":\r\n                if (term) return term;\r\n                else \r\n                    throw new Error(\"Expected to have term before \\\"]\\\"\");\r\n            case \"[\":\r\n                if (term) return term;\r\n                term = d(l.next(), definitions);\r\n                l.a(\"]\");\r\n                break;\r\n            case \"&\":\r\n                if (l.pk.ch == \"&\") {\r\n                    if (and_group)\r\n                        return term;\r\n\r\n                    nt = new AND();\r\n\r\n                    nt._terms_.push(term);\r\n\r\n                    l.sync().next();\r\n\r\n                    while (!l.END) {\r\n                        nt._terms_.push(d(l, definitions, super_term, group, need_group, true, important));\r\n                        if (l.ch !== \"&\" || l.pk.ch !== \"&\") break;\r\n                        l.a(\"&\").a(\"&\");\r\n                    }\r\n\r\n                    return nt;\r\n                }\r\n            case \"|\":\r\n                {\r\n                    if (l.pk.ch == \"|\") {\r\n\r\n                        if (need_group)\r\n                            return term;\r\n\r\n                        nt = new OR();\r\n\r\n                        nt._terms_.push(term);\r\n\r\n                        l.sync().next();\r\n\r\n                        while (!l.END) {\r\n                            nt._terms_.push(d(l, definitions, super_term, group, true, and_group, important));\r\n                            if (l.ch !== \"|\" || l.pk.ch !== \"|\") break;\r\n                            l.a(\"|\").a(\"|\");\r\n                        }\r\n\r\n                        return nt;\r\n\r\n                    } else {\r\n                        if (group) {\r\n                            return term;\r\n                        }\r\n\r\n                        nt = new ONE_OF();\r\n\r\n                        nt._terms_.push(term);\r\n\r\n                        l.next();\r\n\r\n                        while (!l.END) {\r\n                            nt._terms_.push(d(l, definitions, super_term, true, need_group, and_group, important));\r\n                            if (l.ch !== \"|\") break;\r\n                            l.a(\"|\");\r\n                        }\r\n\r\n                        return nt;\r\n                    }\r\n                }\r\n                break;\r\n            case \"{\":\r\n                term = _Jux_(term);\r\n                term.r[0] = parseInt(l.next().tx);\r\n                if (l.next().ch == \",\") {\r\n                    l.next();\r\n                    if (l.next().ch == \"}\")\r\n                        term.r[1] = Infinity;\r\n                    else {\r\n                        term.r[1] = parseInt(l.tx);\r\n                        l.next();\r\n                    }\r\n                } else\r\n                    term.r[1] = term.r[0];\r\n                l.a(\"}\");\r\n                if (super_term) return term;\r\n                break;\r\n            case \"*\":\r\n                term = _Jux_(term);\r\n                term.r[0] = 0;\r\n                term.r[1] = Infinity;\r\n                l.next();\r\n                if (super_term) return term;\r\n                break;\r\n            case \"+\":\r\n                term = _Jux_(term);\r\n                term.r[0] = 1;\r\n                term.r[1] = Infinity;\r\n                l.next();\r\n                if (super_term) return term;\r\n                break;\r\n            case \"?\":\r\n                term = _Jux_(term);\r\n                term.r[0] = 0;\r\n                term.r[1] = 1;\r\n                l.next();\r\n                if (super_term) return term;\r\n                break;\r\n            case \"#\":\r\n                term = _Jux_(term);\r\n                term._terms_.push(new SymbolTerm(\",\"));\r\n                term.r[0] = 1;\r\n                term.r[1] = Infinity;\r\n                l.next();\r\n                if (l.ch == \"{\") {\r\n                    term.r[0] = parseInt(l.next().tx);\r\n                    term.r[1] = parseInt(l.next().a(\",\").tx);\r\n                    l.next().a(\"}\");\r\n                }\r\n                if (super_term) return term;\r\n                break;\r\n            case \"<\":\r\n                let v;\r\n\r\n                if (term) {\r\n                    if (term instanceof NR && term.isRepeating()) term = _Jux_(new NR, term);\r\n                    let v = d(l, definitions, true);\r\n                    term = _Jux_(term, v);\r\n                } else {\r\n                    let v = new ValueTerm(l.next().tx, getPropertyParser, definitions);\r\n                    l.next().a(\">\");\r\n                    term = v;\r\n                }\r\n                break;\r\n            case \"!\":\r\n                /* https://www.w3.org/TR/CSS21/cascade.html#important-rules */\r\n\r\n                l.next().a(\"important\");\r\n                important.is = true;\r\n                break;\r\n            default:\r\n                if (term) {\r\n                    if (term instanceof NR && term.isRepeating()) term = _Jux_(new NR, term);\r\n                    let v = d(l, definitions, true);\r\n                    term = _Jux_(term, v);\r\n                } else {\r\n                    let v = (l.ty == l.types.symbol) ? new SymbolTerm(l.tx) : new LiteralTerm(l.tx);\r\n                    l.next();\r\n                    term = v;\r\n                }\r\n        }\r\n    }\r\n    return term;\r\n}\r\n\r\nfunction _Jux_(term, new_term = null) {\r\n    if (term) {\r\n        if (!(term instanceof NR)) {\r\n            let nr = new NR();\r\n            nr._terms_.push(term);\r\n            term = nr;\r\n        }\r\n        if (new_term) term._terms_.push(new_term);\r\n        return term;\r\n    }\r\n    return new_term;\r\n}","import whind from \"@candlefw/whind\";\r\nimport ll from \"@candlefw/ll\";\r\n\r\nimport {\r\n    property_definitions,\r\n    media_feature_definitions,\r\n    types\r\n} from \"./properties/property_and_type_definitions\";\r\nimport { CSSRule as R, CSSSelector as S } from \"./nodes\";\r\nimport { getPropertyParser } from \"./properties/parser\";\r\n\r\nexport { R as CSSRule, S as CSSSelector };\r\n\r\n/**\r\n * Checks to make sure token is an Identifier.\r\n * @param      {Lexer} - A Lexical tokenizing object supporting methods found in {@link Lexer}.\r\n * @alias module:wick~internals.css.elementIsIdentifier\r\n */\r\nfunction _eID_(lexer) {\r\n    if (lexer.ty != lexer.types.id) lexer.throw(\"Expecting Identifier\");\r\n}\r\n\r\n/**\r\n * The empty CSSRule instance\r\n * @alias module:wick~internals.css.empty_rule\r\n */\r\nconst er = Object.freeze(new R());\r\n\r\nclass _selectorPart_ {\r\n    constructor() {\r\n        this.e = \"\";\r\n        this.ss = [];\r\n        this.c = \"\";\r\n    }\r\n}\r\nclass _mediaSelectorPart_ {\r\n    constructor() {\r\n        this.id = \"\";\r\n        this.props = {};\r\n        this.c = \"\";\r\n    }\r\n}\r\n\r\nexport class CSSRuleBody {\r\n    constructor() {\r\n        this.media_selector = null;\r\n        /**\r\n         * All selectors indexed by their value\r\n         */\r\n        this._selectors_ = {};\r\n        /**\r\n         * All selectors in order of appearance\r\n         */\r\n        this._sel_a_ = [];\r\n    }\r\n\r\n    _applyProperties_(lexer, rule) {\r\n        while (!lexer.END && lexer.tx !== \"}\") this.parseProperty(lexer, rule, property_definitions);\r\n        lexer.next();\r\n    }\r\n\r\n    /**\r\n     * Gets the last rule matching the selector\r\n     * @param      {string}  string  The string\r\n     * @return     {CSSRule}  The combined set of rules that match the selector.\r\n     */\r\n    getRule(string, r) {\r\n        let selector = this._selectors_[string];\r\n        if (selector) return selector.r;\r\n        return r;\r\n    }\r\n\r\n\r\n    /**\r\n     * Hook method for hijacking the property parsing function. Return true if default property parsing should not take place\r\n     * @param      {Lexer}   value_lexer    The value lexer\r\n     * @param      {<type>}   property_name  The property name\r\n     * @param      {<type>}   rule           The rule\r\n     * @return     {boolean}  The property hook.\r\n     */\r\n    _getPropertyHook_(value_lexer, property_name, rule) {\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Used to match selectors to elements\r\n     * @param      {ele}   ele       The ele\r\n     * @param      {string}   criteria  The criteria\r\n     * @return     {boolean}  { description_of_the_return_value }\r\n     * @private\r\n     */\r\n    matchCriteria(ele, criteria) {\r\n        if (criteria.e && ele.tagName !== criteria.e.toUpperCase()) return false;\r\n        outer: for (let i = 0, l = criteria.ss.length; i < l; i++) {\r\n            let ss = criteria.ss[i];\r\n            switch (ss.t) {\r\n                case \"attribute\":\r\n                    let lex = whind(ss.v);\r\n                    if (lex.ch == \"[\" && lex.pk.ty == lex.types.id) {\r\n                        let id = lex.sync().tx;\r\n                        let attrib = ele.getAttribute(id);\r\n                        if (!attrib) return;\r\n                        if (lex.next().ch == \"=\") {\r\n                            let value = lex.next().tx;\r\n                            if (attrib !== value) return false;\r\n                        }\r\n                    }\r\n                    break;\r\n                case \"pseudo\":\r\n                    debugger;\r\n                    break;\r\n                case \"class\":\r\n                    let class_list = ele.classList;\r\n                    for (let j = 0, jl = class_list.length; j < jl; j++) {\r\n                        if (class_list[j] == ss.v) continue outer;\r\n                    }\r\n                    return false;\r\n                case \"id\":\r\n                    if (ele.id !== ss.v) return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    matchMedia(win = window) {\r\n\r\n        if (this.media_selector) {\r\n            for (let i = 0; i < this.media_selector.length; i++) {\r\n                let m = this.media_selector[i];\r\n                let props = m.props;\r\n                for (let a in props) {\r\n                    let prop = props[a];\r\n                    if (!prop(win))\r\n                        return false;\r\n                }\r\n            };\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Retrieves the set of rules from all matching selectors for an element.\r\n     * @param      {HTMLElement}  element - An element to retrieve CSS rules.\r\n     * @public\r\n     */\r\n    getApplicableRules(element, rule = new R(), win = window) {\r\n\r\n        if (!this.matchMedia(win)) return;\r\n\r\n        let gen = this.getApplicableSelectors(element),\r\n            sel = null;\r\n\r\n        while (sel = gen.next().value) rule.merge(sel.r);\r\n    }\r\n\r\n    * getApplicableSelectors(element) {\r\n        for (let j = 0, jl = this._sel_a_.length; j < jl; j++) {\r\n            let ancestor = element;\r\n            let selector = this._sel_a_[j];\r\n            let sn = selector.a;\r\n            let criteria = null;\r\n            outer: for (let x = 0; x < sn.length; x++) {\r\n\r\n                let sa = sn[x];\r\n\r\n                inner: for (let i = 0, l = sa.length; i < l; i++) {\r\n                    criteria = sa[i];\r\n                    switch (criteria.c) {\r\n                        case \"child\":\r\n                            if (!(ancestor = ancestor.parentElement) || !this.matchCriteria(ancestor, criteria)) continue outer;\r\n                            break;\r\n                        case \"preceded\":\r\n                            while ((ancestor = ancestor.previousElementSibling))\r\n                                if (this.matchCriteria(ancestor, criteria)) continue inner;\r\n                            continue outer;\r\n                        case \"immediately preceded\":\r\n                            if (!(ancestor = ancestor.previousElementSibling) || !this.matchCriteria(ancestor, criteria)) continue outer;\r\n                            break;\r\n                        case \"descendant\":\r\n                            while ((ancestor = ancestor.parentElement))\r\n                                if (this.matchCriteria(ancestor, criteria)) continue inner;\r\n                            continue outer;\r\n                        default:\r\n                            if (!this.matchCriteria(ancestor, criteria)) continue outer;\r\n                    }\r\n                }\r\n                yield selector;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Parses properties\r\n     * @param      {Lexer}  lexer        The lexer\r\n     * @param      {<type>}  rule         The rule\r\n     * @param      {<type>}  definitions  The definitions\r\n     */\r\n    parseProperty(lexer, rule, definitions) {\r\n        const name = lexer.tx.replace(/\\-/g, \"_\");\r\n\r\n        //Catch any comments\r\n        if (lexer.ch == \"/\") {\r\n            lexer.comment(true);\r\n            return this.parseProperty(lexer, rule, definitions);\r\n        }\r\n        lexer.next().a(\":\");\r\n        //allow for short circuit < | > | =\r\n        const p = lexer.pk;\r\n        while ((p.ch !== \"}\" && p.ch !== \";\") && !p.END) {\r\n            //look for end of property;\r\n            p.next();\r\n        }\r\n        const out_lex = lexer.copy();\r\n        lexer.sync();\r\n        out_lex.fence(p);\r\n        if (!this._getPropertyHook_(out_lex, name, rule)) {\r\n            try {\r\n                const IS_VIRTUAL = {\r\n                    is: false\r\n                };\r\n                const parser = getPropertyParser(name, IS_VIRTUAL, definitions);\r\n                if (parser && !IS_VIRTUAL.is) {\r\n                    if (!rule.props) rule.props = {};\r\n                    parser.parse(out_lex, rule.props);\r\n                } else\r\n                    //Need to know what properties have not been defined\r\n                    console.warn(`Unable to get parser for css property ${name}`);\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n        if (lexer.ch == \";\") lexer.next();\r\n    }\r\n\r\n    /** \r\n    Parses a selector up to a token '{', creating or accessing necessary rules as it progresses. \r\n\r\n    Reference: https://www.w3.org/TR/selectors-3/ \r\n    https://www.w3.org/TR/css3-mediaqueries/\r\n    https://www.w3.org/TR/selectors-3/\r\n\r\n    @param {Lexer} - A Lexical tokenizing object supporting methods found in {@link Lexer}.\r\n\r\n    @protected\r\n\r\n    */\r\n    parseSelector(lexer) {\r\n        let rule = this,\r\n            id = \"\",\r\n            selector_array = [],\r\n            selectors_array = [];\r\n        let start = lexer.pos;\r\n        let selectors = [];\r\n        let sel = new _selectorPart_(),\r\n            RETURN = false;\r\n        while (!lexer.END) {\r\n            if (!sel) sel = new _selectorPart_();\r\n            switch (lexer.tx) {\r\n                case \"{\":\r\n                    RETURN = true;\r\n                case \",\":\r\n                    selector_array.unshift(sel);\r\n                    selectors_array.push(selector_array);\r\n                    selector_array = [];\r\n                    selectors.push(lexer.s(start).trim().slice(0));\r\n                    sel = new _selectorPart_();\r\n                    if (RETURN) return new S(selectors, selectors_array, this);\r\n                    lexer.next();\r\n                    start = lexer.pos;\r\n                    break;\r\n                case \"[\":\r\n                    let p = lexer.pk;\r\n                    while (!p.END && p.next().tx !== \"]\") {};\r\n                    p.a(\"]\");\r\n                    if (p.END) throw new _Error_(\"Unexpected end of input.\");\r\n                    sel.ss.push({\r\n                        t: \"attribute\",\r\n                        v: p.s(lexer)\r\n                    });\r\n                    lexer.sync();\r\n                    break;\r\n                case \":\":\r\n                    sel.ss.push({\r\n                        t: \"pseudo\",\r\n                        v: lexer.next().tx\r\n                    });\r\n                    _eID_(lexer);\r\n                    lexer.next();\r\n                    break;\r\n                case \".\":\r\n                    sel.ss.push({\r\n                        t: \"class\",\r\n                        v: lexer.next().tx\r\n                    });\r\n                    _eID_(lexer);\r\n                    lexer.next();\r\n                    break;\r\n                case \"#\":\r\n                    sel.ss.push({\r\n                        t: \"id\",\r\n                        v: lexer.next().tx\r\n                    });\r\n                    _eID_(lexer);\r\n                    lexer.next();\r\n                    break;\r\n                case \"*\":\r\n                    lexer.next();\r\n                    break;\r\n                case \">\":\r\n                    sel.c = \"child\";\r\n                    selector_array.unshift(sel);\r\n                    sel = null;\r\n                    lexer.next();\r\n                    break;\r\n                case \"~\":\r\n                    sel.c = \"preceded\";\r\n                    selector_array.unshift(sel);\r\n                    sel = null;\r\n                    lexer.next();\r\n                    break;\r\n                case \"+\":\r\n                    sel.c = \"immediately preceded\";\r\n                    selector_array.unshift(sel);\r\n                    sel = null;\r\n                    lexer.next();\r\n                    break;\r\n                default:\r\n                    if (sel.e) {\r\n                        sel.c = \"descendant\";\r\n                        selector_array.unshift(sel);\r\n                        sel = null;\r\n                    } else {\r\n                        sel.e = lexer.tx;\r\n\r\n                        _eID_(lexer);\r\n                        lexer.next();\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        selector_array.unshift(sel);\r\n        selectors_array.push(selector_array);\r\n        selectors.push(lexer.s(start).trim().slice(0));\r\n        return new S(selectors, selectors_array, this);\r\n    }\r\n\r\n    /**\r\n     * Parses CSS string\r\n     * @param      {Lexer} - A Lexical tokenizing object supporting methods found in {@link Lexer}\r\n     * @param      {(Array|CSSRuleBody|Object|_mediaSelectorPart_)}  root    The root\r\n     * @return     {Promise}  A promise which will resolve to a CSSRuleBody\r\n     * @private\r\n     */\r\n    parse(lexer, root, res = null, rej = null) {\r\n\r\n        if (root && !this.par) root.push(this);\r\n\r\n        return new Promise((res, rej) => {\r\n            let selectors = [],\r\n                l = 0;\r\n            while (!lexer.END) {\r\n                switch (lexer.ch) {\r\n                    case \"@\":\r\n                        lexer.next();\r\n                        switch (lexer.tx) {\r\n                            case \"media\": //Ignored at this iteration /* https://drafts.csswg.org/mediaqueries/ */\r\n                                //create media query selectors\r\n                                let _med_ = [],\r\n                                    sel = null;\r\n                                while (!lexer.END && lexer.next().ch !== \"{\") {\r\n                                    if (!sel) sel = new _mediaSelectorPart_();\r\n                                    if (lexer.ch == \",\") _med_.push(sel), sel = null;\r\n                                    else if (lexer.ch == \"(\") {\r\n                                        let start = lexer.next().off;\r\n                                        while (!lexer.END && lexer.ch !== \")\") lexer.next();\r\n                                        let out_lex = lexer.copy();\r\n                                        out_lex.off = start;\r\n                                        out_lex.tl = 0;\r\n                                        out_lex.next().fence(lexer);\r\n                                        this.parseProperty(out_lex, sel, media_feature_definitions);\r\n                                        if (lexer.pk.tx.toLowerCase() == \"and\") lexer.sync();\r\n                                    } else {\r\n                                        let id = lexer.tx.toLowerCase(),\r\n                                            condition = \"\";\r\n                                        if (id === \"only\" || id === \"not\")\r\n                                            (condition = id, id = lexer.next().tx);\r\n                                        sel.c = condition;\r\n                                        sel.id = id;\r\n                                        if (lexer.pk.tx.toLowerCase() == \"and\") lexer.sync();\r\n                                    }\r\n                                }\r\n                                //debugger\r\n                                lexer.a(\"{\");\r\n                                if (sel)\r\n                                    _med_.push(sel);\r\n\r\n                                if (_med_.length == 0)\r\n                                    this.parse(lexer, null); // discard results\r\n                                else {\r\n                                    let media_root = new this.constructor();\r\n                                    media_root.media_selector = _med_;\r\n                                    res(media_root.parse(lexer, root).then(b => {\r\n                                        let body = new this.constructor();\r\n                                        return body.parse(lexer, root);\r\n                                    }));\r\n                                }\r\n                                continue;\r\n                            case \"import\":\r\n                                /* https://drafts.csswg.org/css-cascade/#at-ruledef-import */\r\n                                let type;\r\n                                if (type = types.url.parse(lexer.next())) {\r\n                                    lexer.a(\";\");\r\n                                    /**\r\n                                     * The {@link CSS_URL} incorporates a fetch mechanism that returns a Promise instance.\r\n                                     * We use that promise to hook into the existing promise returned by CSSRoot#parse,\r\n                                     * executing a new parse sequence on the fetched string data using the existing CSSRoot instance,\r\n                                     * and then resume the current parse sequence.\r\n                                     * @todo Conform to CSS spec and only parse if @import is at the top of the CSS string.\r\n                                     */\r\n                                    return type.fetchText().then((str) =>\r\n                                        //Successfully fetched content, proceed to parse in the current root.\r\n                                        //let import_lexer = ;\r\n                                        res(this.parse(whind(str), this).then((r) => this.parse(lexer, r)))\r\n                                        //parse returns Promise. \r\n                                        // return;\r\n                                    ).catch((e) => res(this.parse(lexer)));\r\n                                } else {\r\n                                    //Failed to fetch resource, attempt to find the end to of the import clause.\r\n                                    while (!lexer.END && lexer.next().tx !== \";\") {};\r\n                                    lexer.next();\r\n                                }\r\n                        }\r\n                        break;\r\n                    case \"/\":\r\n                        lexer.comment(true);\r\n                        break;\r\n                    case \"}\":\r\n                        lexer.next();\r\n                        return res(this);\r\n                    case \"{\":\r\n                        let rule = new R(this);\r\n                        this._applyProperties_(lexer.next(), rule);\r\n                        for (let i = -1, sel = null; sel = selectors[++i];)\r\n                            if (sel.r) sel.r.merge(rule);\r\n                            else sel.r = rule;\r\n                        selectors.length = l = 0;\r\n                        continue;\r\n                }\r\n\r\n                let selector = this.parseSelector(lexer, this);\r\n\r\n                if (selector) {\r\n                    if (!this._selectors_[selector.id]) {\r\n                        l = selectors.push(selector);\r\n                        this._selectors_[selector.id] = selector;\r\n                        this._sel_a_.push(selector);\r\n                    } else l = selectors.push(this._selectors_[selector.id]);\r\n                }\r\n            }\r\n\r\n            return res(this);\r\n        });\r\n\r\n    }\r\n\r\n    isSame(inCSSRuleBody) {\r\n        if (inCSSRuleBody instanceof CSSRuleBody) {\r\n            if (this.media_selector) {\r\n                if (inCSSRuleBody.media_selector) {\r\n                    //TODO compare media selectors;\r\n                }\r\n            } else if (!inCSSRuleBody.media_selector)\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    merge(inCSSRuleBody) {\r\n        this.parse(whind(inCSSRuleBody + \"\"));\r\n    }\r\n\r\n    /**\r\n     * Gets the media.\r\n     * @return     {Object}  The media.\r\n     * @public\r\n     */\r\n    getMedia(win = window) {\r\n        let start = this;\r\n        this._media_.forEach((m) => {\r\n            if (m._med_) {\r\n                let accept = true;\r\n                for (let i = 0, l = m._med_.length; i < l; i++) {\r\n                    let ms = m._med_[i];\r\n                    if (ms.props) {\r\n                        for (let n in ms.props) {\r\n                            if (!ms.props[n](win)) accept = false;\r\n                        }\r\n                    }\r\n                    //if(not)\r\n                    //    accept = !accept;\r\n                    if (accept)\r\n                        (m._next_ = start, start = m);\r\n                }\r\n            }\r\n        });\r\n        return start;\r\n    }\r\n\r\n    updated() {\r\n        this.par.updated();\r\n    }\r\n\r\n    toString(off = 0) {\r\n        let str = \"\";\r\n        for (let i = 0; i < this._sel_a_.length; i++) {\r\n            str += this._sel_a_[i].toString(off);\r\n        }\r\n        return str;\r\n    }\r\n\r\n    createSelector(selector_value) {\r\n        let selector = this.parseSelector(whind(selector_value));\r\n\r\n        if (selector)\r\n            if (!this._selectors_[selector.id]) {\r\n                this._selectors_[selector.id] = selector;\r\n                this._sel_a_.push(selector);\r\n                selector.r = new R(this);\r\n            } else\r\n                selector = this._selectors_[selector.id];\r\n\r\n        return selector;\r\n    }\r\n}\r\n\r\nll.mixinTree(CSSRuleBody);","import  ll  from \"@candlefw/ll\";\r\nimport  whind from \"@candlefw/whind\";\r\n\r\nimport { CSSRule as R, CSSSelector as S } from \"./nodes\";\r\nimport { types } from \"./properties/property_and_type_definitions\";\r\nimport { CSSRuleBody } from \"./body\";\r\n\r\nexport { R as CSSRule, S as CSSSelector };\r\n\r\n\r\n\r\n/**\r\n * Container for all rules found in a CSS string or strings.\r\n *\r\n * @memberof module:wick~internals.css\r\n * @alias CSSRootNode\r\n */\r\nclass CSSRootNode {\r\n    constructor() {\r\n        this.promise = null;\r\n        /**\r\n         * Media query selector\r\n         */\r\n        this.pending_build = 0;\r\n        this.resolves = [];\r\n        this.res = null;\r\n        this.observers = [];\r\n        \r\n        this.addChild(new CSSRuleBody());\r\n    }\r\n\r\n    _resolveReady_(res, rej) {\r\n        if (this.pending_build > 0) this.resolves.push(res);\r\n        res(this);\r\n    }\r\n\r\n    _setREADY_() {\r\n        if (this.pending_build < 1) {\r\n            for (let i = 0, l = this.resolves; i < l; i++) this.resolves[i](this);\r\n            this.resolves.length = 0;\r\n            this.res = null;\r\n        }\r\n    }\r\n\r\n    READY() {\r\n        if (!this.res) this.res = this._resolveReady_.bind(this);\r\n        return new Promise(this.res);\r\n    }\r\n    /**\r\n     * Creates a new instance of the object with same properties as the original.\r\n     * @return     {CSSRootNode}  Copy of this object.\r\n     * @public\r\n     */\r\n    clone() {\r\n        let rn = new this.constructor();\r\n        rn._selectors_ = this._selectors_;\r\n        rn._sel_a_ = this._sel_a_;\r\n        rn._media_ = this._media_;\r\n        return rn;\r\n    }\r\n\r\n    * getApplicableSelectors(element, win = window) {\r\n\r\n        for (let node = this.fch; node; node = this.getNextChild(node)) {\r\n\r\n            if(node.matchMedia(win)){\r\n                let gen = node.getApplicableSelectors(element, win);\r\n                let v = null;\r\n                while ((v = gen.next().value))\r\n                    yield v;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Retrieves the set of rules from all matching selectors for an element.\r\n     * @param      {HTMLElement}  element - An element to retrieve CSS rules.\r\n     * @public\r\n     */\r\n    getApplicableRules(element, rule = new R(), win = window) {\r\n        for (let node = this.fch; node; node = this.getNextChild(node))\r\n            node.getApplicableRules(element, rule, win);\r\n        return rule;\r\n    }\r\n\r\n    /**\r\n     * Gets the last rule matching the selector\r\n     * @param      {string}  string  The string\r\n     * @return     {CSSRule}  The combined set of rules that match the selector.\r\n     */\r\n    getRule(string) {\r\n        let r = null;\r\n        for (let node = this.fch; node; node = this.getNextChild(node))\r\n            r = node.getRule(string, r);\r\n        return r;\r\n    }\r\n\r\n    toString(off = 0) {\r\n        let str = \"\";\r\n        for (let node = this.fch; node; node = this.getNextChild(node))\r\n            str += node.toString(off);\r\n        return str;\r\n    }\r\n\r\n    addObserver(observer) {\r\n        this.observers.push(observer);\r\n    }\r\n\r\n    removeObserver(observer) {\r\n        for (let i = 0; i < this.observers.length; i++)\r\n            if (this.observers[i] == observer) return this.observers.splice(i, 1);\r\n    }\r\n\r\n    updated() {\r\n        if (this.observers.length > 0)\r\n            for (let i = 0; i < this.observers.length; i++) this.observers[i].updatedCSS(this);\r\n    }\r\n\r\n    parse(lex, root) {\r\n        if (lex.sl > 0) {\r\n\r\n            if (!root && root !== null) {\r\n                root = this;\r\n                this.pending_build++;\r\n            }\r\n\r\n            return this.fch.parse(lex, this).then(e => {\r\n                this._setREADY_();\r\n                return this;\r\n            });\r\n        }\r\n    }\r\n\r\n    merge(inCSSRootNode){\r\n        if(inCSSRootNode instanceof CSSRootNode){\r\n            \r\n            let children = inCSSRootNode.children;\r\n            outer:\r\n            for(let i = 0; i < children.length; i++){\r\n                //determine if this child matches any existing selectors\r\n                let child = children[i];\r\n                \r\n                for(let i = 0; i < this.children.length; i++){\r\n                    let own_child = this.children[i];\r\n\r\n                    if(own_child.isSame(child)){\r\n                        own_child.merge(child);\r\n                        continue outer;\r\n                    }\r\n                }\r\n\r\n                this.children.push(child);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * CSSRootNode implements all of ll\r\n * @extends ll\r\n * @memberof  module:wick~internals.html.CSSRootNode\r\n * @private\r\n */\r\nll.mixinTree(CSSRootNode);\r\n\r\nexport { CSSRootNode };\r\n/*\r\n * Expecting ID error check.\r\n */\r\nconst _err_ = \"Expecting Identifier\";\r\n\r\n/**\r\n * Builds a CSS object graph that stores `selectors` and `rules` pulled from a CSS string. \r\n * @function\r\n * @param {string} css_string - A string containing CSS data.\r\n * @param {string} css_string - An existing CSSRootNode to merge with new `selectors` and `rules`.\r\n * @return {Promise} A `Promise` that will return a new or existing CSSRootNode.\r\n * @memberof module:wick.core\r\n * @alias css\r\n */\r\nexport const CSSParser = (css_string, root = null) => (root = (!root || !(root instanceof CSSRootNode)) ? new CSSRootNode() : root, root.parse(whind(css_string)));\r\n\r\nCSSParser.types = types;\r\n\r\nexport default CSSParser;\r\n\r\n","let cache_de_cache = null;\r\n\r\nfunction getApplicableRules(system, component, element) {\r\n    return system.css.aquireCSS(component, element);\r\n}\r\n\r\nexport function getUniqueRule(system, component, element) {\r\n    return system.css.getUnique(component, element);\r\n}\r\n\r\nfunction mergeRules(system, css) {\r\n    return system.css.mergeRules(css);\r\n}\r\n\r\nclass ComputedStyle{\r\n    constructor(component, element, cache){\r\n        this.cache = cache;\r\n        this._computed = component.window.getComputedStyle(element);\r\n        this.brect = element.getBoundingClientRect()\r\n    }\r\n\r\n    get width(){\r\n        return this.brect.width;\r\n    }\r\n\r\n    get hight(){\r\n        return this.brect.height;\r\n    }\r\n\r\n    get(value){\r\n\r\n        const internal_value = this.cache.rules.props[value];\r\n\r\n        if(internal_value)\r\n            return internal_value.toString();\r\n        \r\n        return this._computed.getPropertyValue(value);\r\n    }\r\n}\r\n\r\nclass Cache {\r\n\r\n    constructor() {\r\n        this.rules = null;\r\n        this.element = null;\r\n        this.component = null;\r\n        this.cssflagsA = 0;\r\n        this.cssflagsB = 0;\r\n        this.next = null;\r\n        this.valueA = 0;\r\n        this.valueB = 0;\r\n        this.valueC = 0;\r\n        this.valueD = 0;\r\n        this.move_vert_type = \"\";\r\n        this.move_hori_type = \"\";\r\n        this.unique = null;\r\n        this._computed = null;\r\n    }\r\n\r\n    destroy() {\r\n        this.rules = null;\r\n        this.element = null;\r\n        this._computed = null;\r\n        this.cssflagsA = 0;\r\n        this.cssflagsB = 0;\r\n        this.move_type = \"\";\r\n        this.valueA = 0;\r\n        this.valueB = 0;\r\n        this.valueC = 0;\r\n        this.valueD = 0;\r\n        this.next = cache_de_cache;\r\n        cache_de_cache = this;\r\n    }\r\n\r\n    get computed () {\r\n        if(!this._computed)\r\n            this._computed = new ComputedStyle(this.component, this.element, this);\r\n        return this._computed; \r\n    }\r\n\r\n    update(system){\r\n        if(!system)\r\n            return\r\n\r\n        this.generateMovementCache(system, this.element, this.component);\r\n    }\r\n\r\n    generateMovementCache(system, component, element) {\r\n\r\n        let move_type = system.project.components.move_type;\r\n\r\n        let unique_rule = getUniqueRule(system, component, element),\r\n            css_r = getApplicableRules(system, component, element),\r\n            css = mergeRules(system, css_r);\r\n\r\n        //test for presence of rules. \r\n        let POS_R = false,\r\n            POS_A = false,\r\n            HT = false,\r\n            HL = false,\r\n            HB = false,\r\n            HR = false,\r\n            HM = false,\r\n            HMR = false,\r\n            HMT = false,\r\n            HMB = false,\r\n            HML = false,\r\n            W = false,\r\n            H = false;\r\n\r\n        if (css.props.position) {\r\n            if (css.props.position == \"relative\")\r\n                POS_R = true;\r\n            else\r\n                POS_A = true;\r\n        }\r\n\r\n        if (css.props.left)\r\n            HL = true;\r\n        if (css.props.right)\r\n            HR = true;\r\n        if (css.props.top)\r\n            HT = true;\r\n        if (css.props.bottom)\r\n            HB = true;\r\n\r\n        if (css.props.margin_left)\r\n            HML = true;\r\n        if (css.props.margin_right)\r\n            HMR = true;\r\n        if (css.props.margin_top)\r\n            HMT = true;\r\n        if (css.props.margin_bottom)\r\n            HMB = true;\r\n        if (css.props.margin)\r\n            HM = true;\r\n\r\n        if (css.props.width)\r\n            W = true;\r\n        if (css.props.height)\r\n            H = true;\r\n\r\n        //      1                     2                   4                 8                 16                \r\n        let v = ((POS_R | 0) << 0) | ((POS_A | 0) << 1) | ((HT | 0) << 2) | ((HR | 0) << 3) | ((HB | 0) << 4) |\r\n            //32                64                 128                256                512                1024              2048            4096\r\n            ((HL | 0) << 5) | ((HMT | 0) << 6) | ((HMR | 0) << 7) | ((HMB | 0) << 8) | ((HML | 0) << 9) | ((W | 0) << 10) | ((H | 0) << 11) | ((HM | 0) << 12);\r\n\r\n\r\n        if ((60 & v) > 0) { //\r\n\r\n            if ((v & 40) == 0) { // HT + HL\r\n                //missing left / right position value.\r\n                //Add left\r\n                unique_rule.addProp(`left:0px`);\r\n                v |= 1 << 5;\r\n            }\r\n\r\n            if ((v & 20) == 0) { // HT + HR\r\n                //missing top / bottom position value\r\n                //Add top\r\n                unique_rule.addProp(`top:0px`);\r\n                v |= 1 << 2;\r\n            }\r\n        } else if ((960 & v) > 0) {\r\n            //using margin\r\n        } else {\r\n\r\n            //Create left and top positions or us margin depending on current user preferences.\r\n            unique_rule.addProp(`left:0px;top:0px`);\r\n            v |= 4 | 32;\r\n        }\r\n\r\n        if ((v & 3) == 0) {\r\n\r\n            if (move_type == \"absolute\") {\r\n                v |= 2;\r\n                unique_rule.addProp('position:absolute');\r\n            } else if (move_type == \"relative\") {\r\n                v |= 1;\r\n                unique_rule.addProp('position:relative;');\r\n            }\r\n        }\r\n\r\n\r\n        //Setup move systems. \r\n        while (true) {\r\n\r\n            let p = [];\r\n\r\n            if ((32 & v))\r\n                p.push(\"left\");\r\n            if ((8 & v))\r\n                p.push(\"right\");\r\n\r\n            if ((v & 1024) && css.props.width !== \"auto\") {\r\n                if ((v & (128 + 512 + 4096))) {\r\n                    if ((css.props.margin_left == \"auto\" && css.props.margin_left == \"auto\") || css.props.margin == \"auto\")\r\n                        p.push(\"margin\");\r\n                }\r\n            }\r\n\r\n            if (p.length > 0)\r\n                this.move_hori_type = p.join(\" \");\r\n\r\n            p = [];\r\n\r\n\r\n            //vertical types\r\n            if (2 & v) {\r\n                let p = [];\r\n\r\n                if ((4 & v))\r\n                    p.push(\"top\");\r\n                if ((16 & v) && (p.length < 1) || !(v & 2048))\r\n                    p.push(\"bottom\");\r\n\r\n                if (p.length > 0)\r\n                    this.move_vert_type = p.join(\" \");\r\n            }\r\n\r\n            if (1 & v) {\r\n                let p = [];\r\n\r\n                if ((4 & v))\r\n                    p.push(\"top\");\r\n                if ((16 & v) && (p.length < 1))\r\n                    p.push(\"bottom\");\r\n\r\n                if (p.length > 0)\r\n                    this.move_vert_type = p.join(\" \");\r\n            }\r\n\r\n            break;\r\n        }\r\n\r\n        this.unique = unique_rule;\r\n        css_r = getApplicableRules(system, component, element);\r\n        this.rules = mergeRules(system, css_r);\r\n        this.cssflagsA = v;\r\n        this.original_rules =css_r;\r\n        //calculate horizontal and vertical rations. also width and height ratios.  \r\n    }\r\n\r\n    get position(){\r\n        if(this.cssflagsA & Cache.relative)\r\n            return \"relative\";\r\n        if(this.cssflagsA & Cache.absolute)\r\n            return \"absolute\";\r\n        return \"auto\";\r\n\r\n    }\r\n}\r\n\r\n//Flags\r\nCache.relative = 1;\r\nCache.absolute = 2;\r\n\r\nexport function CacheFactory(system, component, element) {\r\n\r\n    if (element.flame_cache)\r\n        return element.flame_cache;\r\n\r\n    let cache;\r\n\r\n    if (cache_de_cache) {\r\n        cache = cache_de_cache;\r\n        cache_de_cache = cache_de_cache.next;\r\n    } else\r\n        cache = new Cache();\r\n\r\n    cache.component = component;\r\n    cache.element = element;\r\n\r\n    cache.generateMovementCache(system, component, element);\r\n\r\n    element.flame_cache = cache;\r\n\r\n    return cache;\r\n}\r\n\r\nCacheFactory.clear = function(element){\r\n    \r\n    if(element.flame_cache){\r\n        element.flame_cache.destroy();\r\n    }\r\n\r\n    element.flame_cache = null;\r\n}\r\n","\r\nexport function TEXTEDITOR(system, component, element, x, y){}\r\n\r\nexport function TEXT(system, component, element, dx, dy) {\r\n    let pos = event.cursor;\r\n    let data = event.text_data;\r\n    let text = system.html.aquireTextData(element);\r\n    text.update(pos, data);\r\n}\r\n","import css from \"@candlefw/css\";\r\nlet types = css.types;\r\n\r\nimport { CacheFactory } from \"./cache\";\r\n\r\nfunction getContentBox(ele, win = window) {\r\n\r\n    let rect = ele.getBoundingClientRect();\r\n    let par_prop = win.getComputedStyle(ele);\r\n\r\n    let border_l = parseFloat(par_prop.getPropertyValue(\"border-left\"));\r\n    let border_r = parseFloat(par_prop.getPropertyValue(\"border-right\"));\r\n    let border_t = parseFloat(par_prop.getPropertyValue(\"border-top\"));\r\n    let border_b = parseFloat(par_prop.getPropertyValue(\"border-bottom\"));\r\n\r\n    let top = rect.top + border_t;\r\n    let left = rect.left + border_l;\r\n    let width = rect.width - border_l - border_r;\r\n    let height = rect.height - border_t - border_b;\r\n\r\n    return { top, left, width, height };\r\n}\r\n\r\n/** \r\n    Handles the rbuild routine of wick elements \r\n*/\r\nexport function prepRebuild(element, LINKED = false) {\r\n    element.wick_node.prepRebuild();\r\n    if (!LINKED) element.wick_node.rebuild();\r\n}\r\n\r\n/** \r\n    Ensures the element has a compatible `display` value border-box properties\r\n*/\r\nexport function ensureBlocklike(system, component, element) {\r\n    const cache = CacheFactory(system, component, element);\r\n    const display = cache.computed.get(\"display\");\r\n    //Make sure we have an element that's prepared to change it's shape. If it's display type is inline, it needs to be changed to inline block.\r\n    switch (display) {\r\n        case \"inline\":\r\n            cache.unique.addProp(\"display:inline-block\");\r\n            cache.update(system);\r\n            break;\r\n        default:\r\n            //do nothing\r\n            break;\r\n\r\n    }\r\n}\r\n\r\nexport function getFirstPositionedAncestor(ele) {\r\n    let element = null;\r\n\r\n    while (ele.parentElement) {\r\n        ele = ele.parentElement;\r\n        let pos = window.getComputedStyle(ele).getPropertyValue(\"position\");\r\n\r\n        if (pos && pos !== \"sticky\" && pos !== \"static\") {\r\n            break;\r\n        }\r\n    }\r\n\r\n    return ele;\r\n}\r\n\r\nexport function setNumericalValue(propname, system, component, element, value, relative_type = 0) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    let props = css.props;\r\n    let prop = props[propname];\r\n    let css_name = propname.replace(/_/g, \"-\");\r\n\r\n    if (!prop) {\r\n        if (cache.unique.r.props[propname]) {\r\n            props = cache.unique.r.props;\r\n            prop = props[propname];\r\n        }\r\n        if (!KEEP_UNIQUE) {\r\n            let type = (system.project.components.default_unit || \"px\");\r\n            let value = (type == \"%\") ? new types.percentage(0) : new types.length(0, type);\r\n            cache.unique.addProp(`${css_name}:${value}`);\r\n            props = cache.unique.r.props;\r\n            prop = props[propname];\r\n        } else {\r\n            let type = (system.project.components.default_unit || \"px\");\r\n            let value = (type == \"%\") ? new types.percentage(0) : new types.length(0, type);\r\n            cache.unique.addProp(`${css_name}:${value}`);\r\n            props = cache.unique.r.props;\r\n            prop = props[propname];\r\n        }\r\n    }\r\n\r\n\r\n    if (prop == \"auto\") {\r\n        //convert to numerical form;\r\n        props[propname] = new types.length(value, \"px\");\r\n    } else if (prop instanceof types.percentage) {\r\n        //get the nearest positioned ancestor\r\n\r\n        let denominator = 0,\r\n            ele;\r\n\r\n        switch (relative_type) {\r\n            case setNumericalValue.parent_width:\r\n                ele = element.parentElement; //getFirstPositionedAncestor(element);\r\n                if (ele) denominator = getContentBox(ele, component.window).width;\r\n                break;\r\n            case setNumericalValue.parent_height:\r\n                ele = element.parentElement; //getFirstPositionedAncestor(element);\r\n                if (ele) denominator = getContentBox(ele, component.window).height;\r\n                break;\r\n            case setNumericalValue.positioned_ancestor_width:\r\n                ele = getFirstPositionedAncestor(element);\r\n                if (ele) denominator = getContentBox(ele, component.window).width;\r\n                break;\r\n            case setNumericalValue.positioned_ancestor_height:\r\n                ele = getFirstPositionedAncestor(element);\r\n                if (ele) denominator = getContentBox(ele, component.window).height;\r\n                break;\r\n            case setNumericalValue.height:\r\n                denominator = getContentBox(component, element.window).width;\r\n                break;\r\n            case setNumericalValue.width:\r\n                denominator = getContentBox(component, element.window).width;\r\n                break;\r\n        }\r\n\r\n        let np = value / denominator;\r\n\r\n        props[propname] = prop.copy(np * 100);\r\n    } else {\r\n        if (prop.copy)\r\n            props[propname] = prop.copy(value);\r\n        else {\r\n            if (value !== 0)\r\n                props[propname] = new types.length(value, \"px\");\r\n            else\r\n                props[propname] = 0;\r\n        }\r\n    }\r\n}\r\n\r\nsetNumericalValue.parent_width = 0;\r\nsetNumericalValue.parent_height = 1;\r\nsetNumericalValue.positioned_ancestor_width = 2;\r\nsetNumericalValue.positioned_ancestor_height = 3;\r\nsetNumericalValue.height = 4;\r\nsetNumericalValue.width = 5;\r\n\r\n\r\n\r\nexport function getRatio(system, component, element, funct, original_value, delta_value, css_name) {\r\n    let ratio = 0;\r\n    funct(system, component, element, original_value + delta_value);\r\n    let end_x = parseFloat(component.window.getComputedStyle(element)[css_name]);\r\n    let diff_x = end_x - original_value;\r\n    if (false && Math.abs(diff_x - delta_value) > 0.0005 && delta_value !== 0) {\r\n        ratio = (diff_x / delta_value);\r\n        let diff = delta_value / ratio;\r\n        if (diff !== 0) {\r\n            funct(system, component, element, original_value + diff, true);\r\n        }\r\n    }\r\n    return ratio;\r\n}\r\n\r\nexport function setValue(system, component, element, value_name, value) {\r\n    let cache = CacheFactory(system, component, element);\r\n\r\n    let props = cache.rules.props;\r\n\r\n    if (props[value_name]) {\r\n        props[value_name] = value;\r\n    } else {\r\n        cache.unique.addProp(`${value_name.replace(/\\_/g,\"-\")}:${value}`);\r\n    }\r\n}\r\n","import { setNumericalValue, getRatio, ensureBlocklike, prepRebuild} from \"./common\";\r\n\r\nexport function SETWIDTH(system, component, element, x, LINKED = false) {\r\n\r\n    ensureBlocklike(system, component, element);\r\n    setNumericalValue(\"width\", system, component, element, x, setNumericalValue.parent_width);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function SETHEIGHT(system, component, element, x, LINKED = false) {\r\n\r\n    ensureBlocklike(system, component, element);\r\n    setNumericalValue(\"height\", system, component, element, x, setNumericalValue.parent_height);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function SETDELTAWIDTH(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element).width);\r\n\r\n    if (ratio > 0)\r\n        SETWIDTH(system, component, element, start_x + dx / ratio, true);\r\n    else {\r\n        ensureBlocklike(system, component, element);\r\n        ratio = getRatio(system, component, element, SETWIDTH, start_x, dx, \"width\");\r\n    }\r\n    prepRebuild(element, LINKED);\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETDELTAHEIGHT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element).height);\r\n    \r\n    if (ratio > 0)\r\n        SETHEIGHT(system, component, element, start_x + dx / ratio, true);\r\n    else {\r\n        ensureBlocklike(system, component, element);\r\n        ratio = getRatio(system, component, element, SETHEIGHT, start_x, dx, \"height\");\r\n    }\r\n    \r\n    prepRebuild(element, LINKED);\r\n    return ratio;\r\n}\r\n","import {\r\n    setNumericalValue,\r\n    getRatio,\r\n    prepRebuild\r\n} from \"./common\";\r\nimport {\r\n    CacheFactory\r\n} from \"./cache\";\r\nimport {\r\n    SETDELTAWIDTH,\r\n    SETDELTAHEIGHT\r\n} from \"./dimensions\";\r\nimport css from \"@candlefw/css\";\r\n\r\n\r\nconst types = css.types;\r\n\r\nexport function SETLEFT(system, component, element, x, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n\r\n    if (x.type) {\r\n        cache.rules.props.left = x;\r\n    } else {\r\n        if (cache.cssflagsA & 1)\r\n            setNumericalValue(\"left\", system, component, element, x, setNumericalValue.parent_width);\r\n        else\r\n            setNumericalValue(\"left\", system, component, element, x, setNumericalValue.positioned_ancestor_width);\r\n    }\r\n\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function SETTOP(system, component, element, x, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n\r\n    if (x.type) {\r\n        cache.rules.props.top = x;\r\n    } else {\r\n        if (cache.cssflagsA & 1)\r\n            setNumericalValue(\"top\", system, component, element, x, setNumericalValue.parent_height);\r\n        else\r\n            setNumericalValue(\"top\", system, component, element, x, setNumericalValue.positioned_ancestor_height);\r\n    }\r\n\r\n    prepRebuild(element, LINKED);\r\n}\r\nexport function SETRIGHT(system, component, element, x, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n\r\n    if (cache.cssflagsA & 1)\r\n        setNumericalValue(\"right\", system, component, element, x, setNumericalValue.parent_width);\r\n    else\r\n        setNumericalValue(\"right\", system, component, element, x, setNumericalValue.positioned_ancestor_width);\r\n\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function SETBOTTOM(system, component, element, x, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n\r\n    if (cache.cssflagsA & 1)\r\n        setNumericalValue(\"bottom\", system, component, element, x, setNumericalValue.parent_height);\r\n    else\r\n        setNumericalValue(\"bottom\", system, component, element, x, setNumericalValue.positioned_ancestor_height);\r\n\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function SETDELTALEFT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element).left);\r\n\r\n    start_x = isNaN(start_x) ? 0 : start_x;\r\n\r\n    if (ratio > 0)\r\n        SETLEFT(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETLEFT, start_x, dx, \"left\");\r\n\r\n    prepRebuild(element, LINKED);\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETDELTATOP(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element).top);\r\n\r\n    start_x = isNaN(start_x) ? 0 : start_x;\r\n\r\n    if (ratio > 0)\r\n        SETTOP(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETTOP, start_x, dx, \"top\");\r\n\r\n    prepRebuild(element, LINKED);\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETDELTARIGHT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element).right);\r\n\r\n    start_x = isNaN(start_x) ? 0 : start_x;\r\n\r\n    if (ratio > 0)\r\n        SETRIGHT(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETRIGHT, start_x, dx, \"right\");\r\n\r\n    prepRebuild(element, LINKED);\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETDELTABOTTOM(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element).bottom);\r\n\r\n    start_x = isNaN(start_x) ? 0 : start_x;\r\n    \r\n    if (ratio > 0)\r\n        SETBOTTOM(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETBOTTOM, start_x, dx, \"bottom\");\r\n\r\n\r\n    prepRebuild(element, LINKED);\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function RESIZET(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return (component.y += dy, component.height -= dy);\r\n    let cache = CacheFactory(system, component, element);\r\n    switch (cache.move_vert_type) {\r\n        case \"top bottom\":\r\n            SETDELTATOP(system, component, element, dy, 0, true);\r\n        case \"top\":\r\n            SETDELTATOP(system, component, element, dy, 0, true);\r\n            SETDELTAHEIGHT(system, component, element, -dy, 0, true);\r\n            break;\r\n        case \"bottom\":\r\n            SETDELTAHEIGHT(system, component, element, -dy, 0, true);\r\n            break;\r\n    }\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZER(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return (component.width += dx);\r\n    let cache = CacheFactory(system, component, element);\r\n    switch (cache.move_hori_type) {\r\n        case \"left right\":\r\n            SETDELTARIGHT(system, component, element, -dx, 0, true);\r\n            break;\r\n        case \"left\":\r\n            SETDELTAWIDTH(system, component, element, dx, 0, true);\r\n            break;\r\n        case \"right\":\r\n            SETDELTARIGHT(system, component, element, -dx, 0, true);\r\n            SETDELTAWIDTH(system, component, element, -dx, 0, true);\r\n            break;\r\n    }\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return (component.x += dx, component.width -= dx);\r\n    let cache = CacheFactory(system, component, element);\r\n    switch (cache.move_hori_type) {\r\n        case \"left right\":\r\n            SETDELTALEFT(system, component, element, dx, 0, true);\r\n            break;\r\n        case \"left\":\r\n            SETDELTALEFT(system, component, element, dx, 0, true);\r\n            SETDELTAWIDTH(system, component, element, -dx, 0, true);\r\n            break;\r\n        case \"right\":\r\n            SETDELTAWIDTH(system, component, element, -dx, 0, true);\r\n            break;\r\n    }\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nfunction SUBRESIZEB(system, component, element, dx, dy, ratio){\r\n    let cache = CacheFactory(system, component, element);\r\n    switch (cache.move_vert_type) {\r\n        case \"top bottom\":\r\n            SETDELTABOTTOM(system, component, element, -dy, ratio * 0.5, true);\r\n            SETDELTAHEIGHT(system, component, element, dy, ratio * 0.5, true);\r\n            break;\r\n        case \"top\":\r\n            SETDELTAHEIGHT(system, component, element, dy, ratio, true);\r\n            break;\r\n        case \"bottom\":\r\n            SETDELTABOTTOM(system, component, element, -dy, ratio * 0.5, true);\r\n            SETDELTAHEIGHT(system, component, element, dy, ratio * 0.5, true);\r\n            break;\r\n    }\r\n\r\n    element.wick_node.prepRebuild();\r\n    element.wick_node.rebuild();\r\n}\r\n\r\nexport function RESIZEB(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return (component.height += dy);\r\n    let cache = CacheFactory(system, component, element);\r\n    //get the bottom value of the element;\r\n\r\n    if (cache.valueB == 0) {\r\n        let rect = element.getBoundingClientRect();\r\n        let bottom = rect.y + rect.height;\r\n        SUBRESIZEB(system, component, element, dx, dy, 1)\r\n        rect = element.getBoundingClientRect();\r\n        let bottom2 = rect.y + rect.height;\r\n        if (bottom2 - bottom !== dy) {\r\n            let ratio = ((bottom2 - bottom) / dy);\r\n            let diff = dy / ratio;\r\n            if (diff !== 0) {\r\n                SUBRESIZEB(system, component, element, dx, -diff, ratio);\r\n                cache.valueB = ratio;\r\n            }\r\n        }\r\n    } else\r\n        SUBRESIZEB(system, component, element, dx, dy, cache.valueB);\r\n}\r\n\r\nexport function RESIZETL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    RESIZEL(system, component, element, dx, dy, IS_COMPONENT);\r\n    RESIZET(system, component, element, dx, dy, IS_COMPONENT);\r\n    if (IS_COMPONENT) return;\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZETR(system, component, element, dx, dy, IS_COMPONENT) {\r\n    RESIZER(system, component, element, dx, dy, IS_COMPONENT);\r\n    RESIZET(system, component, element, dx, dy, IS_COMPONENT);\r\n    if (IS_COMPONENT) return;\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    RESIZEL(system, component, element, dx, dy, IS_COMPONENT);\r\n    RESIZEB(system, component, element, dx, dy, IS_COMPONENT);\r\n    if (IS_COMPONENT) return;\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBR(system, component, element, dx, dy, IS_COMPONENT) {\r\n    RESIZER(system, component, element, dx, dy, IS_COMPONENT);\r\n    RESIZEB(system, component, element, dx, dy, IS_COMPONENT);\r\n    if (IS_COMPONENT) return;\r\n    element.wick_node.prepRebuild();\r\n}\r\n","import css from \"@candlefw/css\";\r\n\r\n\r\nimport { CacheFactory } from \"./cache\";\r\nimport { getFirstPositionedAncestor, prepRebuild } from \"./common\";\r\nimport {\r\n    SETDELTALEFT,\r\n    SETDELTATOP,\r\n    SETDELTARIGHT,\r\n    SETDELTABOTTOM\r\n} from \"./position\";\r\n\r\nconst types = css.types;\r\n\r\n/**\r\n * Actions provide mechanisms for updating an element, document, and component through user input. \r\n */\r\nexport function MOVE(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) {\r\n        component.x += dx;\r\n        component.y += dy;\r\n    } else {\r\n\r\n        // Get CSS information on element and update appropriate records\r\n        let cache = CacheFactory(system, component, element);\r\n\r\n        let css = cache.rules;\r\n\r\n        if (css.props.position && css.props.position !== \"static\") {\r\n            switch (cache.move_hori_type) {\r\n                case \"left right margin\":\r\n                    //in cases of absolute\r\n                    cache.valueB = SETDELTARIGHT(system, component, element, -dx, cache.valueB);\r\n                    cache.valueA = SETDELTALEFT(system, component, element, dx, cache.valueA);\r\n                    break;\r\n                case \"left right\":\r\n                    cache.valueB = SETDELTARIGHT(system, component, element, -dx, cache.valueB);\r\n                case \"left\":\r\n                    cache.valueA = SETDELTALEFT(system, component, element, dx, cache.valueA);\r\n                    break;\r\n                case \"right\":\r\n                    cache.valueB = SETDELTARIGHT(system, component, element, -dx, cache.valueB);\r\n                    break;\r\n            }\r\n\r\n            switch (cache.move_vert_type) {\r\n                case \"top bottom\":\r\n                    cache.valueC = SETDELTABOTTOM(system, component, element, -dy, cache.valueC);\r\n                case \"top\":\r\n                    cache.valueD = SETDELTATOP(system, component, element, dy, cache.valueD);\r\n                    break;\r\n                case \"bottom\":\r\n                    cache.valueC = SETDELTABOTTOM(system, component, element, -dy, cache.valueC);\r\n                    break;\r\n            }\r\n        }\r\n                \r\n        prepRebuild(element, LINKED)\r\n    }\r\n}\r\n\r\nexport function CENTER(system, component, element, HORIZONTAL = true, VERTICAL = true, LINKED = false) {\r\n    // Get CSS information on element and update appropriate records\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n\r\n    let ancestor = getFirstPositionedAncestor(element);\r\n\r\n    let ancestor_box = ancestor.getBoundingClientRect();\r\n\r\n    let own_box = element.getBoundingClientRect();\r\n\r\n    let w = own_box.width;\r\n    let diff = (ancestor_box.width - w) / 2;\r\n\r\n    switch (cache.move_hori_type) {\r\n        case \"left right\":\r\n            //get the width of the parent element\r\n            css.props.left = new types.length(diff, \"px\");\r\n            css.props.right = new types.length(diff, \"px\");\r\n            cache.unique.addProp(`margin-left:auto; margin-right:auto`);\r\n            break;\r\n        case \"left\":\r\n            cache.unique.addProp(`margin-left:auto; margin-right:auto;left:0px;right:0px`);\r\n            break;\r\n        case \"right\":\r\n            break;\r\n        case \"margin-left\":\r\n            break;\r\n        case \"margin-left margin-right\":\r\n            break;\r\n        case \"margin\":\r\n            break;\r\n    }\r\n\r\n    /*\r\n    switch (cache.move_vert_type) {\r\n        case \"top bottom\":\r\n            cache.valueC = setBottom(element, -dy, css, cache.valueC);\r\n        case \"top\":\r\n            cache.valueD = setDeltaTop(element, dy, css, cache.valueD);\r\n            break;\r\n        case \"bottom\":\r\n            cache.valueC = setBottom(element, -dy, css, cache.valueC);\r\n            break;\r\n    }\r\n    */\r\n                \r\n    prepRebuild(element, LINKED)\r\n}\r\n","import { CacheFactory } from \"./cache\";\n\nexport function COMPLETE(system, element) {\n\t\n\t//Diff changed documents, clear caches, close opened dialogs if necessary\n\tif(element)\n\t\tCacheFactory.clear(element);\n\n\tsystem.docs.seal();\n\tsystem.history.seal();\n}","/**\r\n * Global Document instance short name\r\n * @property DOC\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type \t{Document}\r\n */\r\nexport const DOC = (typeof(document) !== \"undefined\") ? document : ()=>{};\r\n\r\n/**\r\n * Global Window Instance short name\r\n * @property WIN\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type \t{Window}\r\n */\r\nexport const WIN = (typeof(window) !== \"undefined\") ? window : ()=>{};\r\n\r\n/**\r\n * Global HTMLElement class short name\r\n * @property EL\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type \t{HTMLElement}\r\n */\r\nexport const EL = (typeof(HTMLElement) !== \"undefined\") ? HTMLElement : ()=>{};\r\n\r\n/**\r\n * Global Object class short name\r\n * @property OB\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type Object\r\n */\r\nexport const OB = Object;\r\n\r\n/**\r\n * Global String class short name\r\n * @property STR\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type String\r\n */\r\nexport const STR = String;\r\n\r\n/**\r\n * Global Array class short name\r\n * @property AR\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type \t{Array}\r\n */\r\nexport const AR = Array;\r\n\r\n/**\r\n * Global Number class short name\r\n * @property NUM\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type \t{Number}\r\n */\r\nexport const NUM = Number;\r\n\r\n/**\r\n * Global Date class short name\r\n * @property DT\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type \t{Date}\r\n */\r\nexport const DT = Date;\r\n\r\n/**\r\n * Global Boolean class short name\r\n * @property BO\r\n * @package\r\n * @memberof module:wick~internals\r\n * @type \t{Boolean}\r\n */\r\nexport const BO = Boolean;\r\n\r\n/***************** Functions ********************/\r\n\r\n/**\r\n *  Global document.createElement short name function.\r\n * @method DOC\r\n * @package\r\n * @memberof module:wick~internals\r\n * @param \t{String}  \t\te   - tagname of element to create. \r\n * @return  {HTMLElement}  \t\t- HTMLElement instance generated by the document. \r\n */\r\nexport const createElement = (e) => document.createElement(e);\r\n\r\n/**\r\n *  Element.prototype.appendChild short name wrapper.\r\n * @method appendChild\r\n * @package\r\n * @memberof module:wick~internals\r\n * @param \t{HTMLElement}  \t\tel  \t- parent HTMLElement.\r\n * @return  {HTMLElement | HTMLNode}  \t\tch_el \t- child HTMLElement or HTMLNode. \r\n */\r\nexport const appendChild = (el, ch_el) => el.appendChild(ch_el);\r\n\r\n/**\r\n *  Element.prototype.cloneNode short name wrapper.\r\n * @method cloneNode\r\n * @package\r\n * @memberof module:wick~internals\r\n * @param \t{HTMLElement}  \t\tel   - HTMLElement to clone.\r\n * @return  {Boolean}  \t\t\tbool - Switch for deep clone\r\n */\r\nexport const cloneNode = (el, bool) => el.cloneNode(bool);\r\n\r\n/**\r\n *  Element.prototype.getElementsByTagName short name wrapper.\r\n * @method _getElementByTag_\r\n * @package\r\n * @memberof module:wick~internals\r\n * @param \t{HTMLElement}  \t\tel   - HTMLElement to find tags on.\r\n * @return  {String}  \t\t\ttag - tagnames of elements to find.\r\n */\r\nexport const _getElementByTag_ = (el, tag) => el.getElementsByTagName(tag);\r\n\r\n/**\r\n *  Shortname for `instanceof` expression\r\n * @method _instanceOf_\r\n * @package\r\n * @param      {object}  inst    The instance\r\n * @param      {object}  constr  The constructor\r\n * @return     {boolean}  the result of `inst instanceof constr`\r\n */\r\nexport const _instanceOf_ = (inst, constr) => inst instanceof constr;\r\n\r\nexport const _SealedProperty_ = (object, name, value) => OB.defineProperty(object, name, {value, configurable: false, enumerable: false, writable: true});\r\nexport const _FrozenProperty_ = (object, name, value) => OB.defineProperty(object, name, {value, configurable: false, enumerable: false, writable: false});","/**\r\n * Used to call the Scheduler after a JavaScript runtime tick.\r\n *\r\n * Depending on the platform, caller will either map to requestAnimationFrame or it will be a setTimout.\r\n */\r\n \r\nconst caller = (typeof(window) == \"object\" && window.requestAnimationFrame) ? window.requestAnimationFrame : (f) => {\r\n    setTimeout(f, 1);\r\n};\r\n\r\nconst perf = (typeof(performance) == \"undefined\") ? { now: () => Date.now() } : performance;\r\n\r\n\r\n/**\r\n * Handles updating objects. It does this by splitting up update cycles, to respect the browser event model. \r\n *    \r\n * If any object is scheduled to be updated, it will be blocked from scheduling more updates until the next ES VM tick.\r\n */\r\nclass Spark {\r\n    /**\r\n     * Constructs the object.\r\n     */\r\n    constructor() {\r\n\r\n        this.update_queue_a = [];\r\n        this.update_queue_b = [];\r\n\r\n        this.update_queue = this.update_queue_a;\r\n\r\n        this.queue_switch = 0;\r\n\r\n        this.callback = () => this.update();\r\n\r\n        this.frame_time = perf.now();\r\n\r\n        this.SCHEDULE_PENDING = false;\r\n    }\r\n\r\n    /**\r\n     * Given an object that has a _SCHD_ Boolean property, the Scheduler will queue the object and call its .update function \r\n     * the following tick. If the object does not have a _SCHD_ property, the Scheduler will persuade the object to have such a property.\r\n     * \r\n     * If there are currently no queued objects when this is called, then the Scheduler will user caller to schedule an update.\r\n     */\r\n    queueUpdate(object, timestart = 1, timeend = 0) {\r\n\r\n        if (object._SCHD_ || object._SCHD_ > 0) {\r\n            if (this.SCHEDULE_PENDING)\r\n                return;\r\n            else\r\n                return caller(this.callback);\r\n        }\r\n\r\n        object._SCHD_ = ((timestart & 0xFFFF) | ((timeend) << 16));\r\n\r\n        this.update_queue.push(object);\r\n\r\n        if (this._SCHD_)\r\n            return;\r\n\r\n        this.frame_time = perf.now() | 0;\r\n\r\n        this.SCHEDULE_PENDING = true;\r\n\r\n        caller(this.callback);\r\n    }\r\n\r\n    removeFromQueue(object){\r\n\r\n        if(object._SCHD_)\r\n            for(let i = 0, l = this.update_queue.length; i < l; i++)\r\n                if(this.update_queue[i] === object){\r\n                    this.update_queue.splice(i,1);\r\n                    object._SCHD_ = 0;\r\n\r\n                    if(l == 1)\r\n                        this.SCHEDULE_PENDING = false;\r\n\r\n                    return;\r\n                }\r\n    }\r\n\r\n    /**\r\n     * Called by the caller function every tick. Calls .update on any object queued for an update. \r\n     */\r\n    update() {\r\n\r\n        this.SCHEDULE_PENDING = false;\r\n\r\n        const uq = this.update_queue;\r\n        const time = perf.now() | 0;\r\n        const diff = Math.ceil(time - this.frame_time) | 1;\r\n        const step_ratio = (diff * 0.06); //  step_ratio of 1 = 16.66666666 or 1000 / 60 for 60 FPS\r\n\r\n        this.frame_time = time;\r\n        \r\n        if (this.queue_switch == 0)\r\n            (this.update_queue = this.update_queue_b, this.queue_switch = 1);\r\n        else\r\n            (this.update_queue = this.update_queue_a, this.queue_switch = 0);\r\n\r\n        for (let i = 0, l = uq.length, o = uq[0]; i < l; o = uq[++i]) {\r\n            let timestart = ((o._SCHD_ & 0xFFFF)) - diff;\r\n            let timeend = ((o._SCHD_ >> 16) & 0xFFFF);\r\n\r\n            o._SCHD_ = 0;\r\n            \r\n            if (timestart > 0) {\r\n                this.queueUpdate(o, timestart, timeend);\r\n                continue;\r\n            }\r\n\r\n            timestart = 0;\r\n\r\n            if (timeend > 0) \r\n                this.queueUpdate(o, timestart, timeend - diff);\r\n\r\n            /** \r\n                To ensure on code path doesn't block any others, \r\n                scheduledUpdate methods are called within a try catch block. \r\n                Errors by default are printed to console. \r\n            **/\r\n            try {\r\n                o.scheduledUpdate(step_ratio, diff);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n\r\n        uq.length = 0;\r\n    }\r\n}\r\n\r\nconst spark = new Spark();\r\n\r\nexport { Spark as SparkConstructor };\r\n\r\nexport default spark;","import spark from \"@candlefw/spark\";\r\n\r\nimport { _SealedProperty_ } from \"../short_names\";\r\n\r\n/**\r\n * The base class which all Model classes extend.\r\n * @memberof module:wick~internal .model\r\n * @alias ModelBase\r\n */\r\nclass ModelBase {\r\n    constructor(root = null, address = []) {\r\n        _SealedProperty_(this, \"_cv_\", []);\r\n        _SealedProperty_(this, \"fv\", null);\r\n        _SealedProperty_(this, \"par\", null);\r\n        _SealedProperty_(this, \"MUTATION_ID\", 0);\r\n        _SealedProperty_(this, \"address\", address);\r\n        _SealedProperty_(this, \"root\", root || this);\r\n        _SealedProperty_(this, \"prop_name\", \"\");\r\n    }\r\n\r\n\r\n    /**\r\n     *   Remove all references to any objects still held by this object.\r\n     *   @protected\r\n     *   @instance\r\n     */\r\n    destroy() {\r\n\r\n        //inform views of the models demise\r\n        var view = this.fv;\r\n\r\n        while (view) {\r\n            let nx = view.nx;\r\n            view.unsetModel();\r\n            view = nx;\r\n        }\r\n\r\n        this._cv_ = null;\r\n    }\r\n\r\n    setHook(prop_name, data) { return data; }\r\n\r\n    getHook(prop_name, data) { return data; }\r\n\r\n\r\n    /**\r\n     * Called by a class that extends ModelBase when on of its property values changes.\r\n     * @param      {string}  changed_value  The changed value\r\n     * @private\r\n     */\r\n    scheduleUpdate(changed_value) {\r\n        if (!this.fv)\r\n            return;\r\n\r\n\r\n        this._cv_.push(changed_value);\r\n\r\n        spark.queueUpdate(this);\r\n    }\r\n\r\n\r\n    getChanged(prop_name) {\r\n\r\n\r\n        for (let i = 0, l = this._cv_.length; i < l; i++)\r\n            if (this._cv_[i] == prop_name)\r\n                return this[prop_name];\r\n\r\n        return null;\r\n    }\r\n\r\n    addListener(listener) {\r\n        return this.addView(listener);\r\n    }\r\n\r\n\r\n    /**\r\n     * Adds a view to the linked list of views on the model. argument view MUST be an instance of View. \r\n     * @param {View} view - The view to _bind_ to the ModelBase\r\n     * @throws {Error} throws an error if the value of `view` is not an instance of {@link View}.\r\n     */\r\n    addView(view) {\r\n        if (view.model)\r\n            if (view.model !== this) {\r\n                view.model.removeView(view);\r\n            } else return;\r\n\r\n        if (this.fv) this.fv.pv = view;\r\n        view.nx = this.fv;\r\n        this.fv = view;\r\n\r\n        view.pv = null;\r\n        view.model = this;\r\n        view.update(this);\r\n    }\r\n\r\n    /**\r\n     * Removes view from set of views if the passed in view is a member of model. \r\n     * @param {View} view - The view to unbind from ModelBase\r\n     */\r\n    removeView(view) {\r\n        \r\n\r\n        if (view.model == this) {\r\n            if (view == this.fv)\r\n                this.fv = view.nx;\r\n\r\n            if (view.nx)\r\n                view.nx.pv = view.pv;\r\n            if (view.pv)\r\n                view.pv.nx = view.nx;\r\n\r\n            view.nx = null;\r\n            view.pv = null;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n        Should return the value of the property if it is in the model and has been updated since the last cycle. Null otherwise.\r\n        This should be overridden by a more efficient version by inheriting objects\r\n    */\r\n    isUpdated(prop_name) {\r\n\r\n        let changed_properties = this._cv_;\r\n\r\n        for (var i = 0, l = changed_properties.length; i < l; i++)\r\n            if (changed_properties[i] == prop_name)\r\n                if (this[prop_name] !== undefined)\r\n                    return this[prop_name];\r\n\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Called by the {@link spark} when if the ModelBase is scheduled for an update\r\n     * @param      {number}  step    The step\r\n     */\r\n    scheduledUpdate(step) { this.updateViews(); }\r\n\r\n\r\n\r\n    /**\r\n     * Calls View#update on every bound View, passing the current state of the ModelBase.\r\n     */\r\n    updateViews() {\r\n\r\n        let o = {};\r\n\r\n        for (let p = null, i = 0, l = this._cv_.length; i < l; i++)\r\n            (p = this._cv_[i], o[p] = this[p]);\r\n\r\n        this._cv_.length = 0;\r\n\r\n        var view = this.fv;\r\n\r\n        while (view) {\r\n\r\n            view.update(this, o);\r\n            view = view.nx;\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Updates views with a list of models that have been removed. \r\n     * Primarily used in conjunction with container based views, such as Templates.\r\n     * @private\r\n     */\r\n    updateViewsRemoved(data) {\r\n\r\n        var view = this.fv;\r\n\r\n        while (view) {\r\n\r\n            view.removed(data);\r\n\r\n            view = view.nx;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /** MUTATION FUNCTIONS **************************************************************************************/\r\n\r\n\r\n\r\n    _deferUpdateToRoot_(data, MUTATION_ID = this.MUTATION_ID) {\r\n        return this.root._setThroughRoot_(data, this.address, 0, this.address.length, MUTATION_ID);\r\n    }\r\n\r\n\r\n\r\n    _setThroughRoot_(data, address, index, len, m_id) {\r\n\r\n        if (index >= len) {\r\n\r\n            if (m_id !== this.MUTATION_ID) {\r\n                let clone = this.clone();\r\n                clone.set(data, true);\r\n                clone.MUTATION_ID = (this.par) ? this.par.MUTATION_ID : this.MUTATION_ID + 1;\r\n                return clone;\r\n            }\r\n\r\n            this.set(data, true);\r\n            return this;\r\n        }\r\n\r\n        let i = address[index++];\r\n\r\n        let model_prop = this.prop_array[i];\r\n\r\n        if (model_prop.MUTATION_ID !== this.MUTATION_ID) {\r\n\r\n            model_prop = model_prop.clone();\r\n\r\n            model_prop.MUTATION_ID = this.MUTATION_ID;\r\n        }\r\n\r\n        this.prop_array[i] = model_prop;\r\n\r\n        return model_prop._setThroughRoot_(data, address, index, len, model_prop.MUTATION_ID);\r\n    }\r\n\r\n    seal() {\r\n\r\n        let clone = this._deferUpdateToRoot_(null, this.MUTATION_ID + 1);\r\n\r\n        return clone;\r\n    }\r\n\r\n    clone() {\r\n\r\n        let clone = new this.constructor(this);\r\n\r\n        clone.prop_name = this.prop_name;\r\n        clone._cv_ = this._cv_;\r\n        clone.fv = this.fv;\r\n        clone.par = this.par;\r\n        clone.MUTATION_ID = this.MUTATION_ID;\r\n        clone.address = this.address;\r\n        clone.prop_name = this.prop_name;\r\n\r\n        clone.root = (this.root == this) ? clone : this.root;\r\n\r\n        return clone;\r\n    }\r\n\r\n    /**\r\n     * Updates views with a list of models that have been added. \r\n     * Primarily used in conjunction with container based views, such as Templates.\r\n     * @private\r\n     */\r\n    updateViewsAdded(data) {\r\n\r\n        var view = this.fv;\r\n\r\n        while (view) {\r\n\r\n            view.added(data);\r\n\r\n            view = view.nx;\r\n        }\r\n    }\r\n\r\n    toJSON() { return JSON.stringify(this, null, '\\t'); }\r\n\r\n\r\n    /**\r\n     * This will update the branch state of the data tree with a new branch if the MUTATION_ID is higher or lower than the current branch's parent level.\r\n     * In this case, the new branch will stem from the root node, and all ancestor nodes from the originating child will be cloned.\r\n     *\r\n     * @param      {Object}         child_obj    The child object\r\n     * @param      {(Object|number)}  MUTATION_ID  The mutation id\r\n     * @return     {Object}         { description_of_the_return_value }\r\n     */\r\n    setMutation(child_obj, MUTATION_ID = child_obj.MUTATION_ID) {\r\n        let clone = child_obj,\r\n            result = this;\r\n\r\n        if (MUTATION_ID == this.MUTATION_ID) return child_obj;\r\n\r\n        if (this.par)\r\n            result = this.par.setMutation(this, MUTATION_ID);\r\n\r\n        if (MUTATION_ID > this.MUTATION_ID) {\r\n            result = this.clone();\r\n            result.MUTATION_ID = this.MUTATION_ID + 1;\r\n        }\r\n\r\n        clone = child_obj.clone();\r\n        clone.MUTATION_ID = result.MUTATION_ID;\r\n        result[clone.prop_name] = clone;\r\n\r\n        return clone;\r\n    }\r\n}\r\n\r\nexport { ModelBase };","/**\r\n    Schema type. Handles the parsing, validation, and filtering of Model data properties. \r\n*/\r\nclass SchemeConstructor {\r\n\r\n    constructor() {\r\n\r\n        this.start_value = undefined;\r\n    }\r\n\r\n    /**\r\n        Parses value returns an appropriate transformed value\r\n    */\r\n    parse(value) {\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n\r\n    */\r\n    verify(value, result) {\r\n\r\n        result.valid = true;\r\n    }\r\n\r\n    filter(id, filters) {\r\n        for (let i = 0, l = filters.length; i < l; i++)\r\n            if (id === filters[i]) return true;\r\n        return false;\r\n    }\r\n\r\n    string(value) {\r\n\r\n        return value + \"\";\r\n    }\r\n}\r\n\r\nexport { SchemeConstructor };","import { ModelBase } from \"../base\";\r\nimport { _SealedProperty_ } from \"../../short_names\";\r\nimport { SchemeConstructor } from \"../../schema/constructor\";\r\n\r\nexport class MCArray extends Array {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    push(item) {\r\n        if (item instanceof Array)\r\n            item.forEach((i) => {\r\n                this.push(i);\r\n            });\r\n        else\r\n            super.push(item);\r\n    }\r\n\r\n    //For compatibility\r\n    __setFilters__() {\r\n\r\n    }\r\n\r\n    getChanged() {\r\n\r\n    }\r\n\r\n    toJSON() { return this; }\r\n\r\n    toJson() { return JSON.stringify(this, null, '\\t'); }\r\n}\r\n\r\n// A no op function\r\nlet EmptyFunction = () => {};\r\nlet EmptyArray = [];\r\n\r\nexport class ModelContainerBase extends ModelBase {\r\n\r\n    constructor(root = null, address = []) {\r\n\r\n        super(root, address);\r\n\r\n        _SealedProperty_(this, \"source\", null);\r\n        _SealedProperty_(this, \"first_link\", null);\r\n\r\n        //For keeping the container from garbage collection.\r\n        _SealedProperty_(this, \"pin\", EmptyFunction);\r\n\r\n        //For Linking to original \r\n        _SealedProperty_(this, \"next\", null);\r\n        _SealedProperty_(this, \"prev\", null);\r\n\r\n        //Filters are a series of strings or number selectors used to determine if a model should be inserted into or retrieved from the container.\r\n        _SealedProperty_(this, \"_filters_\", null);\r\n\r\n        this.validator = new SchemeConstructor();\r\n\r\n        return this;\r\n    }\r\n\r\n    setByIndex(index) { /* NO OP **/ }\r\n\r\n    getByIndex(index, value) { /* NO OP **/ }\r\n\r\n    destroy() {\r\n\r\n\r\n        this._filters_ = null;\r\n\r\n        if (this.source) {\r\n            this.source.__unlink__(this);\r\n        }\r\n\r\n        super.destroy();\r\n    }\r\n\r\n    /**\r\n        Get the number of Models held in this._mContainerBase\r\n\r\n        @returns {Number}\r\n    */\r\n    get length() { return 0; }\r\n\r\n    set length(e) { /* NO OP */ }\r\n\r\n    /** \r\n        Returns a ModelContainerBase type to store the results of a get().\r\n    */\r\n    __defaultReturn__(USE_ARRAY) {\r\n        if (USE_ARRAY) return new MCArray;\r\n\r\n        let n = new this.constructor();\r\n\r\n        n.key = this.key;\r\n        n.validator = this.validator;\r\n        n.model = this.model;\r\n\r\n        this.__link__(n);\r\n\r\n        return n;\r\n    }\r\n\r\n    /**\r\n        Array emulating kludge\r\n\r\n        @returns The result of calling this.insert\r\n    */\r\n    push(item) { return this.insert(item, false, true); }\r\n\r\n    /**\r\n        Retrieves a list of items that match the term/terms. \r\n\r\n        @param {(Array|SearchTerm)} term - A single term or a set of terms to look for in the ModelContainerBase. \r\n        @param {Array} __return_data__ - Set to true by a source Container if it is calling a SubContainer insert function. \r\n\r\n        @returns {(ModelContainerBase|Array)} Returns a Model container or an Array of Models matching the search terms. \r\n    */\r\n    get(term, __return_data__) {\r\n\r\n        let out = null;\r\n\r\n        term = this.getHook(\"term\", term);\r\n\r\n        let USE_ARRAY = (__return_data__ === null) ? false : true;\r\n\r\n        if (term) {\r\n\r\n            if (__return_data__) {\r\n                out = __return_data__;\r\n            } else {\r\n\r\n                if (!this.source)\r\n                    USE_ARRAY = false;\r\n\r\n                out = this.__defaultReturn__(USE_ARRAY);\r\n                out.__setFilters__(term);\r\n            }\r\n        } else\r\n            out = (__return_data__) ? __return_data__ : this.__defaultReturn__(USE_ARRAY);\r\n\r\n        if (!term)\r\n            this.__getAll__(out);\r\n        else {\r\n\r\n            let terms = term;\r\n\r\n            if (!Array.isArray(term))\r\n                terms = [term];\r\n\r\n            //Need to convert terms into a form that will work for the identifier type\r\n            terms = terms.map(t => this.validator.parse(t));\r\n\r\n            this.__get__(terms, out);\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    set(item, from_root = false) {\r\n        if (!from_root)\r\n            return this._deferUpdateToRoot_(item).insert(item, true);\r\n        else\r\n            this.insert(item, true);\r\n    }\r\n\r\n    /**\r\n        Inserts an item into the container. If the item is not a {Model}, an attempt will be made to convert the data in the Object into a Model.\r\n        If the item is an array of objects, each object in the array will be considered separately. \r\n\r\n        @param {Object} item - An Object to insert into the container. On of the properties of the object MUST have the same name as the ModelContainerBase's \r\n        @param {Array} item - An array of Objects to insert into the container.\r\n        @param {Boolean} __FROM_SOURCE__ - Set to true by a source Container if it is calling a SubContainer insert function. \r\n\r\n        @returns {Boolean} Returns true if an insertion into the ModelContainerBase occurred, false otherwise.\r\n    */\r\n    insert(item, from_root = false, __FROM_SOURCE__ = false) {\r\n\r\n        item = this.setHook(\"\", item);\r\n\r\n        if (!from_root)\r\n            return this._deferUpdateToRoot_(item).insert(item, true);\r\n\r\n        let add_list = (this.fv) ? [] : null;\r\n\r\n        let out_data = false;\r\n\r\n        if (!__FROM_SOURCE__ && this.source)\r\n            return this.source.insert(item);\r\n\r\n\r\n        if (item instanceof Array) {\r\n            for (var i = 0; i < item.length; i++)\r\n                if (this.__insertSub__(item[i], out_data, add_list))\r\n                    out_data = true;\r\n        } else if (item)\r\n            out_data = this.__insertSub__(item, out_data, add_list);\r\n\r\n\r\n        if (out_data) {\r\n            if (this.par)\r\n                this.par.scheduleUpdate(this.prop_name);\r\n\r\n\r\n            if (add_list && add_list.length > 0) {\r\n                this.updateViewsAdded(add_list);\r\n                this.scheduleUpdate();\r\n            }\r\n        }\r\n\r\n        return out_data;\r\n    }\r\n\r\n    /**\r\n        A subset of the insert function. Handles the testing of presence of an identifier value, the conversion of an Object into a Model, and the calling of the implementation specific __insert__ function.\r\n    */\r\n    __insertSub__(item, out, add_list) {\r\n\r\n        let model = item;\r\n\r\n        var identifier = this._gI_(item);\r\n\r\n        if (identifier !== undefined) {\r\n\r\n            if (!(model instanceof ModelBase)) {\r\n                model = new this.model(item);\r\n                model.MUTATION_ID = this.MUTATION_ID;\r\n            }\r\n\r\n            identifier = this._gI_(model, this._filters_);\r\n\r\n            if (identifier !== undefined) {\r\n                out = this.__insert__(model, add_list, identifier);\r\n                this.__linksInsert__(model);\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    delete(term, from_root = false) {\r\n        if (!from_root)\r\n            return this._deferUpdateToRoot_(term).remove(term);\r\n        else\r\n            this.remove(term);\r\n    }\r\n\r\n    /**\r\n        Removes an item from the container. \r\n    */\r\n    remove(term, from_root = false, __FROM_SOURCE__ = false) {\r\n\r\n        if (!from_root)\r\n            return this._deferUpdateToRoot_(term).remove(term, true);\r\n\r\n        //term = this.getHook(\"term\", term);\r\n\r\n        if (!__FROM_SOURCE__ && this.source) {\r\n\r\n            if (!term)\r\n                return this.source.remove(this._filters_);\r\n            else\r\n                return this.source.remove(term);\r\n        }\r\n\r\n        let out_container = [];\r\n\r\n        if (!term)\r\n            this.__removeAll__();\r\n\r\n        else {\r\n\r\n            let terms = (Array.isArray(term)) ? term : [term];\r\n\r\n            //Need to convert terms into a form that will work for the identifier type\r\n            terms = terms.map(t => (t instanceof ModelBase) ? t : this.validator.parse(t));\r\n\r\n            this.__remove__(terms, out_container);\r\n        }\r\n\r\n        if (out_container.length > 0) {\r\n            if (this.par)\r\n                this.par.scheduleUpdate(this.prop_name);\r\n\r\n\r\n            if (out_container && out_container.length > 0) {\r\n                this.updateViewsRemoved(out_container);\r\n                this.scheduleUpdate();\r\n            }\r\n        }\r\n\r\n        return out_container;\r\n    }\r\n\r\n    /**\r\n        Removes a ModelContainerBase from list of linked containers. \r\n\r\n        @param {ModelContainerBase} container - The ModelContainerBase instance to remove from the set of linked containers. Must be a member of the linked containers. \r\n    */\r\n    __unlink__(container) {\r\n\r\n        if (container instanceof ModelContainerBase && container.source == this) {\r\n\r\n            if (container == this.first_link)\r\n                this.first_link = container.next;\r\n\r\n            if (container.next)\r\n                container.next.prev = container.prev;\r\n\r\n            if (container.prev)\r\n                container.prev.next = container.next;\r\n\r\n            container.source = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n        Adds a container to the list of tracked containers. \r\n\r\n        @param {ModelContainerBase} container - The ModelContainerBase instance to add the set of linked containers.\r\n    */\r\n    __link__(container) {\r\n        if (container instanceof ModelContainerBase && !container.source) {\r\n\r\n            container.source = this;\r\n\r\n            container.next = this.first_link;\r\n\r\n            if (this.first_link)\r\n                this.first_link.prev = container;\r\n\r\n            this.first_link = container;\r\n\r\n            container.pin = ((container) => {\r\n                let id = setTimeout(() => {\r\n                    container.__unlink__();\r\n                }, 50);\r\n\r\n                return () => {\r\n                    clearTimeout(id);\r\n                    if (!container.source)\r\n                        console.warn(\"failed to clear the destruction of container in time!\");\r\n                };\r\n            })(container);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove items from linked ModelContainers according to the terms provided.\r\n     * @param      {Array}  terms   Array of terms.\r\n     * @private\r\n     */\r\n    __linksRemove__(item) {\r\n        let a = this.first_link;\r\n        while (a) {\r\n            for (let i = 0; i < item.length; i++)\r\n                if (a._gI_(item[i], a._filters_)) {\r\n                    a.scheduleUpdate();\r\n                    a.__linksRemove__(item);\r\n                    break;\r\n                }\r\n\r\n            a = a.next;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add items to linked ModelContainers.\r\n     * @param      {Model}  item   Item to add.\r\n     * @private\r\n     */\r\n    __linksInsert__(item) {\r\n        let a = this.first_link;\r\n        while (a) {\r\n            if (a._gI_(item, a._filters_))\r\n                a.scheduleUpdate();\r\n            a = a.next;\r\n        }\r\n    }\r\n\r\n    /**\r\n        Removes any items in the ModelConatiner not included in the array \"items\", and adds any item in `items` not already in the ModelContainerBase.\r\n        @param {Array} items - An array of identifiable Models or objects. \r\n    */\r\n    cull(items) {\r\n\r\n        let hash_table = {};\r\n        let existing_items = __getAll__([], true);\r\n\r\n        let loadHash = (item) => {\r\n            if (item instanceof Array)\r\n                return item.forEach((e) => loadHash(e));\r\n\r\n            let identifier = this._gI_(item);\r\n\r\n            if (identifier !== undefined)\r\n                hash_table[identifier] = item;\r\n\r\n        };\r\n\r\n        loadHash(items);\r\n\r\n        for (let i = 0; i < existing_items.lenth; i++) {\r\n            let e_item = existing_items[i];\r\n            if (!existing_items[this._gI_(e_item)])\r\n                this.__remove__(e_item);\r\n        }\r\n\r\n        this.insert(items);\r\n    }\r\n\r\n    __setFilters__(term) {\r\n\r\n        if (!this._filters_) this._filters_ = [];\r\n\r\n        if (Array.isArray(term))\r\n            this._filters_ = this._filters_.concat(term.map(t => this.validator.parse(t)));\r\n        else\r\n            this._filters_.push(this.validator.parse(term));\r\n\r\n    }\r\n\r\n    /**\r\n        Returns true if the identifier matches a predefined filter pattern, which is evaluated by this.parser. If a \r\n        parser was not present the ModelContainers schema, then the function will return true upon every evaluation.\r\n    */\r\n    __filterIdentifier__(identifier, filters) {\r\n        if (filters.length > 0) {\r\n            return this.validator.filter(identifier, filters);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _gIf_(item, term) {\r\n        let t = this._gI_(item, this.filters);\r\n    }\r\n\r\n    /**\r\n        Returns the Identifier property value if it exists in the item. If an array value for filters is passed, then undefined is returned if the identifier value does not pass filtering criteria.\r\n        @param {(Object|Model)} item\r\n        @param {Array} filters - An array of filter terms to test whether the identifier meets the criteria to be handled by the ModelContainerBase.\r\n    */\r\n    _gI_(item, filters = null) {\r\n\r\n        let identifier;\r\n\r\n        if (typeof(item) == \"object\" && this.key)\r\n            identifier = item[this.key];\r\n        else\r\n            identifier = item;\r\n\r\n        if (identifier && this.validator)\r\n            identifier = this.validator.parse(identifier);\r\n\r\n        if (filters && identifier)\r\n            return (this.__filterIdentifier__(identifier, filters)) ? identifier : undefined;\r\n\r\n        return identifier;\r\n    }\r\n\r\n    /** \r\n        OVERRIDE SECTION ********************************************************************\r\n        \r\n        All of these functions should be overridden by inheriting classes\r\n    */\r\n\r\n    __insert__() { return this; }\r\n\r\n    __get__(item, __return_data__) { return __return_data__; }\r\n\r\n    __getAll__(__return_data__) { return __return_data__; }\r\n\r\n    __removeAll__() { return []; }\r\n\r\n    __remove__() { return []; }\r\n\r\n    clone() {\r\n        let clone = super.clone();\r\n        clone.key = this.key;\r\n        clone.model = this.model;\r\n        clone.validator = this.validator;\r\n        clone.first_link = this.first_link;\r\n        return clone;\r\n    }\r\n\r\n    // END OVERRIDE *************************************************************************\r\n}\r\n\r\nconst proto = ModelContainerBase.prototype;\r\n_SealedProperty_(proto, \"model\", null);\r\n_SealedProperty_(proto, \"key\", \"\");\r\n_SealedProperty_(proto, \"validator\", null);","import { ModelContainerBase } from \"./base\";\r\n\r\nexport class MultiIndexedContainer extends ModelContainerBase {\r\n\r\n    constructor(data = [], root = null, address = []) {\r\n\r\n        super(root, address);\r\n\r\n        this.secondary_indexes = {};\r\n        this.primary_index = null;\r\n        this.primary_key = \"\";\r\n\r\n        if (data[0] && data[0].key) {\r\n\r\n            let key = data[0].key;\r\n\r\n            if (data[0].model)\r\n                this.model = data[0].model;\r\n\r\n            if (Array.isArray(key))\r\n                key.forEach((k) => (this.addKey(k)));\r\n\r\n            data = data.slice(1);\r\n        }\r\n\r\n        if (Array.isArray(data) && data.length > 0)\r\n            this.insert(data);\r\n    }\r\n\r\n    /**\r\n        Returns the length of the first index in this container. \r\n    */\r\n    get length() { return this.primary_index.length; }\r\n\r\n    /**\r\n        Insert a new ModelContainerBase into the index through the key.  \r\n    */\r\n    addKey(key) {\r\n        let name = key.name;\r\n\r\n        let container = new MultiIndexedContainer.array([{ key, model: this.model }]);\r\n\r\n        if (this.primary_index) {\r\n            this.secondary_indexes[name] = container;\r\n            this.secondary_indexes[name].insert(this.primary_index.__getAll__());\r\n        } else {\r\n            this.primary_key = name;\r\n            this.primary_index = container;\r\n        }\r\n    }\r\n\r\n    get(item, __return_data__) {\r\n        \r\n        item = this.getHook(\"query\", item);\r\n\r\n        if (item) {\r\n            for (let name in item) {\r\n                if (name == this.primary_key)\r\n                    return this.primary_index.get(item[name], __return_data__);\r\n\r\n                else if (this.secondary_indexes[name])\r\n                    return this.secondary_indexes[name].get(item[name], __return_data__);\r\n\r\n            }\r\n        } else\r\n            return this.primary_index.get(null, __return_data__);\r\n    }\r\n\r\n    __insert__(model, add_list, identifier) {\r\n\r\n        let out = false;\r\n\r\n        model.par = this;\r\n\r\n        if ((out = this.primary_index.insert(model))) {\r\n            for (let name in this.secondary_indexes) {\r\n\r\n                let index = this.secondary_indexes[name];\r\n\r\n                index.insert(model);\r\n            }\r\n        }\r\n\r\n        if (out)\r\n            this.updateViews(this.primary_index.get());\r\n\r\n        return out;\r\n    }\r\n    /**\r\n        @private \r\n    */\r\n    __remove__(term, out_container) {\r\n\r\n        let out = false;\r\n\r\n        if ((out = this.primary_index.__remove__(term, out_container))) {\r\n\r\n            for (let name in this.secondary_indexes) {\r\n\r\n                let index = this.secondary_indexes[name];\r\n\r\n                index.__remove__(out_container);\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    __removeAll__() {\r\n\r\n        let out = false;\r\n\r\n        out = this.primary_index.__removeAll__(term, out_container);\r\n\r\n        for (let name in this.secondary_indexes) {\r\n\r\n            let index = this.secondary_indexes[name];\r\n\r\n            if (index.__removeAll__(model))\r\n                out = true;\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n\r\n    /**\r\n        Overrides Model container default _gI_ to force item to pass.\r\n        @private \r\n    */\r\n    _gI_(item, filters = null) {\r\n        return true;\r\n    }\r\n\r\n    toJSON() {\r\n        return this.primary_index.toJSON();\r\n    }\r\n\r\n    clone() {\r\n        let clone = super.clone();\r\n        clone.secondary_indexes = this.secondary_indexes;\r\n        clone.primary_index = this.primary_index;\r\n        return clone;\r\n    }\r\n}","import { SchemeConstructor } from \"../constructor\";\r\n\r\nclass NumberSchemeConstructor extends SchemeConstructor {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n\r\n        this.start_value = 0;\r\n    }\r\n\r\n    parse(value) {\r\n\r\n        return parseFloat(value);\r\n    }\r\n\r\n    verify(value, result) {\r\n\r\n        result.valid = true;\r\n\r\n        if (value == NaN || value == undefined) {\r\n            result.valid = false;\r\n            result.reason = \"Invalid number type.\";\r\n        }\r\n    }\r\n\r\n    filter(identifier, filters) {\r\n\r\n        for (let i = 0, l = filters.length; i < l; i++)\r\n            if (identifier == filters[i])\r\n                return true;\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nlet number = new NumberSchemeConstructor()\r\n\r\nexport { number, NumberSchemeConstructor };","import whind from \"@candlefw/whind\";\r\n\r\nimport { NumberSchemeConstructor } from \"./number\";\r\n\r\nlet scape_date = new Date();\r\nscape_date.setHours(0);\r\nscape_date.setMilliseconds(0);\r\nscape_date.setSeconds(0);\r\nscape_date.setTime(0);\r\n\r\nclass DateSchemeConstructor extends NumberSchemeConstructor {\r\n\r\n    parse(value) {\r\n\r\n        if(!value)\r\n            return undefined;\r\n\r\n        if(value instanceof Date)\r\n            return value.valueOf();\r\n\r\n        if (!isNaN(value))\r\n            return parseInt(value);\r\n\r\n        let date = (new Date(value)).valueOf();\r\n\r\n        if(date) return date;\r\n\r\n        let lex = whind(value);\r\n\r\n        let year = parseInt(lex.text);\r\n\r\n        if (year) {\r\n\r\n            scape_date.setHours(0);\r\n            scape_date.setMilliseconds(0);\r\n            scape_date.setSeconds(0);\r\n            scape_date.setTime(0);\r\n\r\n            lex.next();\r\n            lex.next();\r\n            let month = parseInt(lex.text) - 1;\r\n            lex.next();\r\n            lex.next();\r\n            let day = parseInt(lex.text);\r\n            scape_date.setFullYear(year);\r\n            scape_date.setDate(day);\r\n            scape_date.setMonth(month);\r\n\r\n            lex.next();\r\n\r\n            if (lex.pos > -1) {\r\n\r\n                let hours = parseInt(lex.text);\r\n                lex.next();\r\n                lex.next();\r\n                let minutes = parseInt(lex.text);\r\n\r\n                scape_date.setHours(hours);\r\n                scape_date.setMinutes(minutes);\r\n            }\r\n\r\n\r\n\r\n            return scape_date.valueOf();\r\n        } \r\n    }\r\n\r\n    /**\r\n     \r\n     */\r\n    verify(value, result) {\r\n\r\n        value = this.parse(value);\r\n\r\n        super.verify(value, result);\r\n    }\r\n\r\n    filter(identifier, filters) {\r\n\r\n        if (filters.length > 1) {\r\n\r\n            for (let i = 0, l = filters.length - 1; i < l; i += 2) {\r\n                let start = filters[i];\r\n                let end = filters[i + 1];\r\n\r\n                if (start <= identifier && identifier <= end) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    string(value) {\r\n        \r\n        return (new Date(value)) + \"\";\r\n    }\r\n}\r\n\r\nlet date = new DateSchemeConstructor();\r\n\r\nexport { date, DateSchemeConstructor };","import { NumberSchemeConstructor } from \"./number\";\r\n\r\nclass TimeSchemeConstructor extends NumberSchemeConstructor {\r\n\r\n    parse(value) {\r\n        if (!isNaN(value))\r\n            return parseFloat(value);\r\n        try {\r\n            var hour = parseInt(value.split(\":\")[0]);\r\n            var min = parseInt(value.split(\":\")[1].split(\" \")[0]);\r\n            if (value.split(\":\")[1].split(\" \")[1])\r\n                half = (value.split(\":\")[1].split(\" \")[1].toLowerCase() == \"pm\");\r\n            else\r\n                half = 0\r\n        } catch (e) {\r\n            var hour = 0;\r\n            var min = 0;\r\n            var half = 0;\r\n        }\r\n        \r\n        return parseFloat((hour + ((half) ? 12 : 0) + (min / 60)));\r\n    }\r\n\r\n    verify(value, result) {\r\n        this.parse(value);\r\n        super.verify(value, result);\r\n    }\r\n\r\n    filter(identifier, filters) {\r\n        return true\r\n    }\r\n\r\n    string(value) {\r\n        return (new Date(value)) + \"\";\r\n    }\r\n}\r\n\r\nlet time = new TimeSchemeConstructor()\r\n\r\nexport { time, TimeSchemeConstructor }","import { SchemeConstructor } from \"../constructor\";\r\n\r\nclass StringSchemeConstructor extends SchemeConstructor {\r\n    \r\n    constructor() {\r\n\r\n        super();\r\n\r\n        this.start_value = \"\";\r\n    }\r\n    parse(value) {\r\n\r\n        return value + \"\";\r\n    }\r\n\r\n    verify(value, result) {\r\n        result.valid = true;\r\n\r\n        if (value === undefined) {\r\n            result.valid = false;\r\n            result.reason = \" value is undefined\"\r\n        } else if (!value instanceof String) {\r\n            result.valid = false;\r\n            result.reason = \" value is not a string.\"\r\n        }\r\n    }\r\n\r\n    filter(identifier, filters) {\r\n\r\n        for (let i = 0, l = filters.length; i < l; i++)\r\n            if (identifier.match(filters[i] + \"\"))\r\n                return true;\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nlet string = new StringSchemeConstructor()\r\n\r\nexport { string, StringSchemeConstructor };","import { SchemeConstructor } from \"../constructor\";\r\n\r\nclass BoolSchemeConstructor extends SchemeConstructor {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n\r\n        this.start_value = false;\r\n    }\r\n\r\n    parse(value) {\r\n\r\n        return (value) ? true : false;\r\n    }\r\n\r\n    verify(value, result) {\r\n\r\n        result.valid = true;\r\n\r\n        if (value === undefined) {\r\n            result.valid = false;\r\n            result.reason = \" value is undefined\"\r\n        } else if (!value instanceof Boolean) {\r\n            result.valid = false;\r\n            result.reason = \" value is not a Boolean.\"\r\n        }\r\n    }\r\n\r\n    filter(identifier, filters) {\r\n\r\n        if (value instanceof Boolean)\r\n            return true;\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nlet bool = new BoolSchemeConstructor()\r\n\r\nexport {\r\n    bool,\r\n    BoolSchemeConstructor\r\n};","import { OB } from \"../short_names\";\r\n\r\nimport { SchemeConstructor } from \"./constructor\";\r\n\r\nimport { date, DateSchemeConstructor } from \"./types/date\";\r\n\r\nimport { time, TimeSchemeConstructor } from \"./types/time\";\r\n\r\nimport { string, StringSchemeConstructor } from \"./types/string\";\r\n\r\nimport { number, NumberSchemeConstructor } from \"./types/number\";\r\n\r\nimport { bool, BoolSchemeConstructor } from \"./types/bool\";\r\n\r\nlet schemes = { date, string, number, bool, time };\r\n\r\n\r\n/**\r\n * Used by Models to ensure conformance to a predefined data structure. Becomes immutable once created.\r\n * @param {Object} data - An Object of `key`:`value` pairs used to define the Scheme. `value`s must be instances of or SchemeConstructor or classes that extend SchemeConstructor.\r\n * @readonly\r\n */\r\nclass Schema {}\r\n\r\nexport { SchemeConstructor, DateSchemeConstructor, TimeSchemeConstructor, StringSchemeConstructor, NumberSchemeConstructor, BoolSchemeConstructor, schemes };","import { ModelBase } from \"../base\";\r\n\r\nimport { ModelContainerBase, MCArray } from \"./base\";\r\n\r\nimport { MultiIndexedContainer } from \"./multi\";\r\n\r\nimport { NumberSchemeConstructor, schemes } from \"../../schema/schemas\";\r\n\r\nexport class BTreeModelContainer extends ModelContainerBase {\r\n\r\n    constructor(data = [], root = null, address = []) {\r\n\r\n        super(root, address);\r\n\r\n        this.validator = schemes.number;\r\n\r\n        if (data[0] && data[0].key) {\r\n\r\n            let key = data[0].key;\r\n\r\n            if (typeof key == \"object\") {\r\n\r\n                if (key.type)\r\n                    this.validator = (key.type instanceof NumberSchemeConstructor) ? key.type : this.validator;\r\n\r\n                if (key.name)\r\n                    this.key = key.name;\r\n\r\n                if (key.unique_key)\r\n                    this.unique_key = key.unique_key;\r\n            } else\r\n                this.key = key;\r\n\r\n            if (data[0].model)\r\n                this.model = data[0].model;\r\n\r\n            data = data.slice(1);\r\n        }\r\n\r\n        this.min = 10;\r\n        this.max = 20;\r\n        this.size = 0;\r\n        this.btree = null;\r\n\r\n        if (Array.isArray(data) && data.length > 0)\r\n            this.insert(data);\r\n    }\r\n\r\n    destroy() {\r\n        if (this.btree)\r\n            this.btree.destroy();\r\n\r\n        super.destroy();\r\n    }\r\n\r\n    get length() {\r\n        return this.size;\r\n    }\r\n\r\n    __insert__(model, add_list, identifier) {\r\n\r\n        let result = {\r\n            added: false\r\n        };\r\n\r\n        if (!this.btree)\r\n            this.btree = new BtreeNode(true);\r\n\r\n        this.btree = this.btree.insert(identifier, model, this.unique_key, this.max, true, result).newnode;\r\n\r\n        if (add_list) add_list.push(model);\r\n\r\n        if (result.added) {\r\n            this.size++;\r\n            this.__updateLinks__();\r\n        }\r\n\r\n        return result.added;\r\n    }\r\n\r\n    __get__(terms, __return_data__) {\r\n\r\n        if(!this.btree) return __return_data__;\r\n\r\n        if (__return_data__ instanceof BTreeModelContainer){\r\n            __return_data__.btree = this.btree;\r\n            return __return_data__;\r\n        }\r\n\r\n        let out = [];\r\n\r\n        for (let i = 0, l = terms.length; i < l; i++) {\r\n            let b, a = terms[i];\r\n\r\n            if (a instanceof ModelBase)\r\n                continue;\r\n\r\n            if (i < l-1 && !(terms[i + 1] instanceof ModelBase)) {\r\n                b = terms[++i];\r\n            } else\r\n                b = a;\r\n\r\n            this.btree.get(a, b, out);\r\n        }\r\n\r\n        if (this._filters_) {\r\n            for (let i = 0, l = out.length; i < l; i++) {\r\n                let model = out[i];\r\n\r\n                if (this._gI_(model, this._filters_))\r\n                    __return_data__.push(model);\r\n            }\r\n        } else\r\n            for (let i = 0, l = out.length; i < l; i++)\r\n                __return_data__.push(out[i]);\r\n\r\n\r\n\r\n        return __return_data__;\r\n    }\r\n\r\n    __remove__(terms, out_container = []) {\r\n\r\n        if(!this.btree) return false;\r\n\r\n        let result = 0;\r\n\r\n        for (let i = 0, l = terms.length; i < l; i++) {\r\n            let b, a = terms[i];\r\n\r\n            if ((a instanceof ModelBase)) {\r\n                let v = this._gI_(a);\r\n                let o = this.btree.remove(v, v, this.unique_key, this.unique_key ? a[this.unique_key] : \"\", true, this.min, out_container);\r\n                result += o.out;\r\n                this.btree = o.out_node;\r\n                continue;\r\n            }\r\n\r\n            if (i < l-1 && !(terms[i + 1] instanceof ModelBase)) {\r\n                b = terms[++i];\r\n            } else\r\n                b = a;\r\n\r\n            let o = this.btree.remove(a, b, \"\", \"\", true, this.min, out_container);\r\n            result += o.out;\r\n            this.btree = o.out_node;\r\n        }\r\n\r\n        if (result > 0) {\r\n            this.size -= result;\r\n            this.__updateLinks__();\r\n            this.__linksRemove__(out_container);\r\n        }\r\n\r\n\r\n        return result !== 0;\r\n    }\r\n\r\n    __updateLinks__() {\r\n        let a = this.first_link;\r\n        while (a) {\r\n            a.btree = this.btree;\r\n            a = a.next;\r\n        }\r\n    }\r\n\r\n    __getAll__(__return_data__) {\r\n\r\n        if (this._filters_) {\r\n            this.__get__(this._filters_, __return_data__);\r\n        } else if (this.btree)\r\n            this.btree.get(-Infinity, Infinity, __return_data__);\r\n\r\n        return __return_data__;\r\n    }\r\n\r\n    __removeAll__() {\r\n        if (this.btree)\r\n            this.btree.destroy();\r\n        this.btree = null;\r\n    }\r\n\r\n    toJSON() {\r\n        let out_data = [];\r\n\r\n        if (this.btree) {\r\n\r\n            this.btree.get(this.min, this.max, out_data);\r\n        }\r\n\r\n        return out_data;\r\n    }\r\n\r\n    clone() {\r\n        let clone = super.clone();\r\n        clone.btree = this.btree;\r\n        return clone;\r\n    }\r\n}\r\n\r\nclass BtreeNode {\r\n    constructor(IS_LEAF = false) {\r\n        this.LEAF = IS_LEAF;\r\n        this.nodes = [];\r\n        this.keys = [];\r\n        this.items = 0;\r\n    }\r\n\r\n    destroy() {\r\n\r\n        this.nodes = null;\r\n        this.keys = null;\r\n\r\n        if (!this.LEAF) {\r\n            for (let i = 0, l = this.nodes.length; i < l; i++)\r\n                this.nodes[i].destroy();\r\n        }\r\n\r\n    }\r\n\r\n    balanceInsert(max_size, IS_ROOT = false) {\r\n        if (this.keys.length >= max_size) {\r\n            //need to split this up!\r\n\r\n            let newnode = new BtreeNode(this.LEAF);\r\n\r\n            let split = (max_size >> 1) | 0;\r\n\r\n            let key = this.keys[split];\r\n\r\n            let left_keys = this.keys.slice(0, split);\r\n            let left_nodes = this.nodes.slice(0, (this.LEAF) ? split : split + 1)\r\n\r\n            let right_keys = this.keys.slice((this.LEAF) ? split : split + 1);\r\n            let right_nodes = this.nodes.slice((this.LEAF) ? split : split + 1);\r\n\r\n            newnode.keys = right_keys;\r\n            newnode.nodes = right_nodes;\r\n\r\n            this.keys = left_keys;\r\n            this.nodes = left_nodes;\r\n\r\n            if (IS_ROOT) {\r\n\r\n                let root = new BtreeNode();\r\n\r\n                root.keys.push(key);\r\n                root.nodes.push(this, newnode);\r\n\r\n                return {\r\n                    newnode: root,\r\n                    key: key\r\n                };\r\n            }\r\n\r\n            return {\r\n                newnode: newnode,\r\n                key: key\r\n            };\r\n        }\r\n\r\n        return {\r\n            newnode: this,\r\n            key: 0\r\n        };\r\n    }\r\n\r\n    /**\r\n        Inserts model into the tree, sorted by identifier. \r\n    */\r\n    insert(identifier, model, unique_key, max_size, IS_ROOT = false, result) {\r\n\r\n        let l = this.keys.length;\r\n\r\n        if (!this.LEAF) {\r\n\r\n            for (var i = 0; i < l; i++) {\r\n\r\n                let key = this.keys[i];\r\n\r\n                if (identifier < key) {\r\n                    let node = this.nodes[i];\r\n\r\n                    let o = node.insert(identifier, model, unique_key, max_size, false, result);\r\n                    let keyr = o.key;\r\n                    let newnode = o.newnode;\r\n\r\n                    if (keyr == undefined) debugger\r\n\r\n                    if (newnode != node) {\r\n                        this.keys.splice(i, 0, keyr);\r\n                        this.nodes.splice(i + 1, 0, newnode);\r\n                    }\r\n\r\n                    return this.balanceInsert(max_size, IS_ROOT);\r\n                }\r\n            }\r\n\r\n            let node = this.nodes[i];\r\n\r\n            let {\r\n                newnode,\r\n                key\r\n            } = node.insert(identifier, model, unique_key, max_size, false, result);\r\n\r\n            if (key == undefined) debugger\r\n\r\n            if (newnode != node) {\r\n                this.keys.push(key);\r\n                this.nodes.push(newnode);\r\n            }\r\n\r\n            return this.balanceInsert(max_size, IS_ROOT);\r\n\r\n        } else {\r\n\r\n            for (let i = 0, l = this.keys.length; i < l; i++) {\r\n                let key = this.keys[i];\r\n\r\n                if (identifier == key) {\r\n\r\n                    if (unique_key) {\r\n                        if (this.nodes[i][unique_key] !== model[unique_key]) { continue; }\r\n                    } else\r\n                        this.nodes[i].set(model);\r\n                    \r\n\r\n                    result.added = false;\r\n\r\n                    return {\r\n                        newnode: this,\r\n                        key: identifier\r\n                    };\r\n                } else if (identifier < key) {\r\n\r\n                    this.keys.splice(i, 0, identifier);\r\n                    this.nodes.splice(i, 0, model);\r\n\r\n                    result.added = true;\r\n\r\n                    return this.balanceInsert(max_size, IS_ROOT);\r\n                }\r\n            }\r\n\r\n            this.keys.push(identifier);\r\n            this.nodes.push(model);\r\n\r\n            result.added = true;\r\n\r\n            return this.balanceInsert(max_size, IS_ROOT);\r\n        }\r\n\r\n        return {\r\n            newnode: this,\r\n            key: identifier,\r\n        };\r\n    }\r\n\r\n    balanceRemove(index, min_size) {\r\n        let left = this.nodes[index - 1];\r\n        let right = this.nodes[index + 1];\r\n        let node = this.nodes[index];\r\n\r\n        //Left rotate\r\n        if (left && left.keys.length > min_size) {\r\n\r\n            let lk = left.keys.length;\r\n            let ln = left.nodes.length;\r\n\r\n            node.keys.unshift((node.LEAF) ? left.keys[lk - 1] : this.keys[index - 1]);\r\n            node.nodes.unshift(left.nodes[ln - 1]);\r\n\r\n            this.keys[index - 1] = left.keys[lk - 1];\r\n\r\n            left.keys.length = lk - 1;\r\n            left.nodes.length = ln - 1;\r\n\r\n            return false;\r\n        } else\r\n            //Right rotate\r\n            if (right && right.keys.length > min_size) {\r\n\r\n                node.keys.push((node.LEAF) ? right.keys[0] : this.keys[index]);\r\n                node.nodes.push(right.nodes[0]);\r\n\r\n                right.keys.splice(0, 1);\r\n                right.nodes.splice(0, 1);\r\n\r\n                this.keys[index] = (node.LEAF) ? right.keys[1] : right.keys[0];\r\n\r\n                return false;\r\n\r\n            } else {\r\n\r\n                //Left or Right Merge\r\n                if (!left) {\r\n                    index++;\r\n                    left = node;\r\n                    node = right;\r\n                }\r\n\r\n                let key = this.keys[index - 1];\r\n                this.keys.splice(index - 1, 1);\r\n                this.nodes.splice(index, 1);\r\n\r\n                left.nodes = left.nodes.concat(node.nodes);\r\n                if (!left.LEAF) left.keys.push(key)\r\n                left.keys = left.keys.concat(node.keys);\r\n\r\n\r\n                if (left.LEAF)\r\n                    for (let i = 0; i < left.keys.length; i++)\r\n                        if (left.keys[i] != left.nodes[i].id)\r\n                            {/*debugger*/};\r\n\r\n                return true;\r\n            }\r\n\r\n    }\r\n\r\n    remove(start, end, unique_key, unique_id, IS_ROOT = false, min_size, out_container) {\r\n        let l = this.keys.length,\r\n            out = 0,\r\n            out_node = this;\r\n\r\n        if (!this.LEAF) {\r\n\r\n            for (var i = 0; i < l; i++) {\r\n\r\n                let key = this.keys[i];\r\n\r\n                if (start <= key)\r\n                    out += this.nodes[i].remove(start, end, unique_key, unique_id, false, min_size, out_container).out;\r\n            }\r\n\r\n            out += this.nodes[i].remove(start, end, unique_key, unique_id, false, min_size, out_container).out;\r\n\r\n            for (var i = 0; i < this.nodes.length; i++) {\r\n                if (this.nodes[i].keys.length < min_size) {\r\n                    if (this.balanceRemove(i, min_size)) {\r\n                        l--;\r\n                        i--;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.nodes.length == 1)\r\n                out_node = this.nodes[0];\r\n\r\n        } else {\r\n\r\n            for (let i = 0, l = this.keys.length; i < l; i++) {\r\n                let key = this.keys[i];\r\n\r\n                if (key <= end && key >= start) {\r\n                    if (unique_key, unique_id && this.nodes[i][unique_key] !== unique_id) continue;\r\n                    out_container.push(this.nodes[i]);\r\n                    out++;\r\n                    this.keys.splice(i, 1);\r\n                    this.nodes.splice(i, 1);\r\n                    l--;\r\n                    i--;\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            out_node,\r\n            out\r\n        };\r\n    }\r\n\r\n    get(start, end, out_container) {\r\n\r\n        if (!start || !end)\r\n            return false;\r\n\r\n        if (!this.LEAF) {\r\n\r\n            for (var i = 0, l = this.keys.length; i < l; i++) {\r\n\r\n                let key = this.keys[i];\r\n\r\n                if (start <= key)\r\n                    this.nodes[i].get(start, end, out_container);\r\n            }\r\n\r\n            this.nodes[i].get(start, end, out_container);\r\n\r\n        } else {\r\n\r\n            let out = false;\r\n\r\n            for (let i = 0, l = this.keys.length; i < l; i++) {\r\n                let key = this.keys[i];\r\n\r\n                if (key <= end && key >= start)\r\n                    out_container.push(this.nodes[i]);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nMultiIndexedContainer.btree = BTreeModelContainer;","import { ModelBase } from \"../base\";\r\n\r\nimport { ModelContainerBase, MCArray } from \"./base\";\r\n\r\nimport { MultiIndexedContainer } from \"./multi\";\r\n\r\nimport { BTreeModelContainer } from \"./btree\";\r\n\r\nimport { NumberSchemeConstructor, SchemeConstructor } from \"../../schema/schemas\";\r\n\r\nconst ArrayContainerProxySettings = {\r\n\r\n    set: function(obj, prop, val) {\r\n\r\n        if (prop in obj && obj[prop] == val)\r\n            return true;\r\n\r\n        let property = obj[prop];\r\n\r\n        if (property && typeof(property) == \"object\")\r\n            property.set(val);\r\n        else\r\n            obj[prop] = val;\r\n\r\n        obj.scheduleUpdate(prop);\r\n\r\n        return true;\r\n    },\r\n\r\n    get: function(obj, prop, val) {\r\n\r\n        if (prop in obj)\r\n            return obj[prop];\r\n\r\n        if (!isNaN(prop))\r\n            return obj.data[prop];\r\n\r\n        let term = {};\r\n\r\n        term[obj.key] = prop;\r\n\r\n        return obj.get(prop, [])[0];\r\n    }\r\n};\r\n\r\n/**\r\n    Stores models in random order inside an internal array object. \r\n */\r\n\r\nexport class ArrayModelContainer extends ModelContainerBase {\r\n\r\n    constructor(data = [], root = null, address = []) {\r\n\r\n        super(root, address);\r\n\r\n        if (data[0] && data[0].key) {\r\n\r\n            let key = data[0].key;\r\n\r\n            /* Custom selection of container types happens here. \r\n             * If there are multiple keys present, then a MultiIndexedContainer is used.\r\n             * If the value of the key is a Numerical type, then a BtreeModelContainer is used.\r\n             **/\r\n            if (typeof(key) == \"object\") {\r\n\r\n                if (Array.isArray(key))\r\n                    return new MultiIndexedContainer(data, root, address);\r\n\r\n                if (key.type) {\r\n                    if (key.type instanceof NumberSchemeConstructor)\r\n                        return new BTreeModelContainer(data, root, address);\r\n                    this.validator = (key.type instanceof SchemeConstructor) ? key.type : this.validator;\r\n                }\r\n\r\n                if (key.name)\r\n                    this.key = key.name;\r\n            } else\r\n                this.key = key;\r\n\r\n            if (data[0].model)\r\n                this.model = data[0].model;\r\n\r\n            data = data.slice(1);\r\n        }\r\n\r\n        this.data = [];\r\n\r\n        if (Array.isArray(data) && data.length > 0)\r\n            this.insert(data, true);\r\n    }\r\n\r\n    destroy() {\r\n\r\n        this.data = null;\r\n\r\n        super.destroy();\r\n    }\r\n\r\n    get proxy() { return new Proxy(this, ArrayContainerProxySettings); }\r\n\r\n    set proxy(v) {}\r\n\r\n    get length() { return this.data.length; }\r\n\r\n    __defaultReturn__(USE_ARRAY) {\r\n\r\n        if (USE_ARRAY) return new MCArray();\r\n\r\n        let n = this.clone();\r\n\r\n        this.__link__(n);\r\n\r\n        return n;\r\n    }\r\n\r\n    __insert__(model, add_list, identifier) {\r\n\r\n        for (var i = 0, l = this.data.length; i < l; i++) {\r\n\r\n            var obj = this.data[i];\r\n\r\n            if (this._gI_(obj) == identifier) {\r\n\r\n                if (obj.MUTATION_ID !== this.MUTATION_ID) {\r\n                    obj = obj.clone();\r\n                    obj.MUTATION_ID = this.MUTATION_ID;\r\n                }\r\n\r\n                obj.set(model, true);\r\n\r\n                this.data[i] = obj;\r\n\r\n                return false; //Model not added to Container. Model just updated.\r\n            }\r\n        }\r\n\r\n        this.data.push(model);\r\n\r\n        model.address = this.address.slice();\r\n        model.address.push(this.data.length - 1);\r\n\r\n        model.root = this.root;\r\n\r\n        if (add_list) add_list.push(model);\r\n\r\n        return true; // Model added to Container.\r\n    }\r\n\r\n    getByIndex(i) {\r\n        return this.data[i];\r\n    }\r\n\r\n    setByIndex(i, m) {\r\n        this.data[i] = m;\r\n    }\r\n\r\n    __get__(term, return_data) {\r\n\r\n        let terms = null;\r\n\r\n        if (term)\r\n            if (term instanceof Array)\r\n                terms = term;\r\n            else\r\n                terms = [term];\r\n\r\n        for (let i = 0, l = this.data.length; i < l; i++) {\r\n            let obj = this.data[i];\r\n            if (this._gI_(obj, terms)) {\r\n                return_data.push(obj);\r\n            }\r\n        }\r\n\r\n        return return_data;\r\n    }\r\n\r\n    __getAll__(return_data) {\r\n\r\n        this.data.forEach((m) => {\r\n            return_data.push(m);\r\n        });\r\n\r\n        return return_data;\r\n    }\r\n\r\n    __removeAll__() {\r\n        let items = this.data.map(d => d) || [];\r\n\r\n        this.data.length = 0;\r\n\r\n        return items;\r\n    }\r\n\r\n    _setThroughRoot_(data, address, index, len, m_id) {\r\n\r\n        if (index >= len)\r\n            return this;\r\n\r\n        let i = address[index++];\r\n\r\n        let model_prop = this.data[i];\r\n\r\n        if (model_prop.MUTATION_ID !== this.MUTATION_ID) {\r\n            model_prop = model_prop.clone();\r\n            model_prop.MUTATION_ID = this.MUTATION_ID;\r\n        }\r\n\r\n        this.data[i] = model_prop;\r\n\r\n        return model_prop._setThroughRoot_(data, address, index, len, model_prop.MUTATION_ID);\r\n    }\r\n\r\n    __remove__(term, out_container) {\r\n\r\n        let result = false;\r\n\r\n        term = term.map(t => (t instanceof ModelBase) ? this._gI_(t) : t);\r\n        \r\n        for (var i = 0, l = this.data.length; i < l; i++) {\r\n            var obj = this.data[i];\r\n\r\n            if (this._gI_(obj, term)) {\r\n\r\n                result = true;\r\n\r\n                this.data.splice(i, 1);\r\n\r\n                l--;\r\n                i--;\r\n\r\n                out_container.push(obj);\r\n\r\n                break;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    toJSON() { return this.data; }\r\n\r\n    clone() {\r\n        let clone = super.clone();\r\n        clone.data = this.data.slice();\r\n        return clone;\r\n    }\r\n}\r\n\r\nMultiIndexedContainer.array = ArrayModelContainer;\r\n\r\nObject.freeze(ArrayModelContainer);","import { ModelBase } from \"./base\";\r\nimport { ArrayModelContainer } from \"./container/array\";\r\nimport { ModelContainerBase } from \"./container/base\";\r\nimport { _SealedProperty_ } from \"../short_names\";\r\n\r\nclass Model extends ModelBase {\r\n\r\n    constructor(data, root = null, address = []) {\r\n\r\n        super(root, address);\r\n\r\n        _SealedProperty_(this, \"prop_array\", []);\r\n        _SealedProperty_(this, \"prop_offset\", 0);\r\n        _SealedProperty_(this, \"look_up\", {});\r\n\r\n        if (data)\r\n            for (let name in data)\r\n                this.createProp(name, data[name]);\r\n\r\n    }\r\n\r\n    get proxy() { return this;}\r\n\r\n    set(data, FROM_ROOT = false) {\r\n\r\n        if (!FROM_ROOT)\r\n            return this._deferUpdateToRoot_(data).set(data, true);\r\n\r\n        if (!data)\r\n            return false;\r\n\r\n        let out = false;\r\n\r\n        for (let prop_name in data) {\r\n\r\n            let index = this.look_up[prop_name];\r\n\r\n            if (index !== undefined) {\r\n\r\n                let prop = this.prop_array[index];\r\n\r\n                if (typeof(prop) == \"object\") {\r\n\r\n                    if (prop.MUTATION_ID !== this.MUTATION_ID) {\r\n                        prop = prop.clone();\r\n                        prop.MUTATION_ID = this.MUTATION_ID;\r\n                        this.prop_array[index] = prop;\r\n                    }\r\n\r\n                    if (prop.set(data[prop_name], true)){\r\n                        this.scheduleUpdate(prop_name);\r\n                        out = true;\r\n                    }\r\n\r\n                } else if (prop !== data[prop_name]) {\r\n                    this.prop_array[index] = data[prop_name];\r\n                     this.scheduleUpdate(prop_name);\r\n                     out = true;\r\n                }\r\n            } else{\r\n                this.createProp(prop_name, data[prop_name]);\r\n                out = true;\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n    createProp(name, value) {\r\n\r\n        let index = this.prop_offset++;\r\n\r\n        this.look_up[name] = index;\r\n        var address = this.address.slice();\r\n        address.push(index);\r\n\r\n        switch (typeof(value)) {\r\n\r\n            case \"object\":\r\n                if (Array.isArray(value))\r\n                    this.prop_array.push(new ArrayModelContainer(value, this.root, address));\r\n                else {\r\n                    if (value instanceof ModelBase) {\r\n                        value.address = address;\r\n                        this.prop_array.push(value);\r\n                    } else\r\n                        this.prop_array.push(new Model(value, this.root, address));\r\n                }\r\n\r\n                this.prop_array[index].prop_name = name;\r\n                this.prop_array[index].par = this;\r\n\r\n                Object.defineProperty(this, name, {\r\n\r\n                    configurable: false,\r\n\r\n                    enumerable: true,\r\n\r\n                    get: function() { return this.getHook(name, this.prop_array[index]); },\r\n\r\n                    set: (v) => {}\r\n                });\r\n\r\n                break;\r\n\r\n            case \"function\":\r\n\r\n                let object = new value(null, this.root, address);\r\n\r\n                object.par = this;\r\n                object.prop_name = name;\r\n\r\n                this.prop_array.push(object);\r\n\r\n                Object.defineProperty(this, name, {\r\n\r\n                    configurable: false,\r\n\r\n                    enumerable: true,\r\n\r\n                    get: function() { return this.getHook(name, this.prop_array[index]); },\r\n\r\n                    set: (v) => {}\r\n                });\r\n\r\n                break;\r\n\r\n            default:\r\n                this.prop_array.push(value);\r\n\r\n                Object.defineProperty(this, name, {\r\n\r\n                    configurable: false,\r\n\r\n                    enumerable: true,\r\n\r\n                    get: function() { return this.getHook(name, this.prop_array[index]); },\r\n\r\n                    set: function(value) {\r\n\r\n                        let val = this.prop_array[index];\r\n\r\n                        if (val !== value) {\r\n                            this.prop_array[index] = this.setHook(name, value);\r\n                            this.scheduleUpdate(name);\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n\r\n        this.scheduleUpdate(name);\r\n    }\r\n\r\n    toJSON(HOST = true){\r\n        let data = {};\r\n\r\n        for(let name in this.look_up){\r\n            let index = this.look_up[name];\r\n            let prop = this.prop_array[index];\r\n\r\n            if(prop){\r\n                if(prop instanceof ModelBase)\r\n                    data[name] = prop.toJSON(false);\r\n                else\r\n                    data[name] = prop;\r\n            }\r\n        }\r\n\r\n        return HOST ? JSON.stringify(data) : data;    \r\n    }\r\n}\r\n\r\nModelContainerBase.prototype.model = Model;\r\n\r\nexport { Model };","import { Model } from \"./model\";\r\n\r\nclass Store {\r\n    constructor(data) {\r\n\r\n        this.history = [{ model: new Model(data, this), actions: [{ d: data, a: null }] }];\r\n        this.MUTATION_ID = 0;\r\n    }\r\n\r\n    seal() { this.MUTATION_ID++; }\r\n\r\n    getHistory(index) { return (this.history[index]) ? this.history[index].model : null; }\r\n\r\n    get current() { return this.history[this.history.length - 1].model; }\r\n\r\n    set current(v) {}\r\n\r\n    get(data){\r\n        return this.current.get(data);\r\n    }\r\n\r\n    set(data){\r\n        return this.current.set(data);\r\n    }\r\n\r\n    _getParentMutationID_() { return this.MUTATION_ID; }\r\n\r\n    _setThroughRoot_(data, address, index, len_minus_1, m_id) {\r\n\r\n        let model_prop = this.current;\r\n\r\n        if (m_id !== this.MUTATION_ID) {\r\n\r\n            if (m_id > this.MUTATION_ID)\r\n                this.MUTATION_ID = this.MUTATION_ID + 1;\r\n            else\r\n                this.MUTATION_ID = this.MUTATION_ID;\r\n\r\n            model_prop = model_prop.clone();\r\n\r\n            model_prop.MUTATION_ID = this.MUTATION_ID;\r\n\r\n            this.history.push({ model: model_prop, actions: [] });\r\n        }\r\n\r\n        if (data)\r\n            this.history[this.history.length - 1].actions.push({ d: data, a: address });\r\n\r\n        return model_prop._setThroughRoot_(data, address, index, len_minus_1, this.MUTATION_ID);\r\n    }\r\n}\r\n\r\nexport { Store };","//import { CustomComponent } from \"../page/component\"\r\nimport { DOC } from \"./short_names\";\r\nimport { ModelBase } from \"./model/base\";\r\nimport { Model } from \"./model/model\";\r\nimport { Store } from \"./model/store\";\r\n\r\n/**\r\n * There are a number of configurable options and global objects that can be passed to wick to be used throughout the PWA. The instances of the Presets class are objects that hosts all these global properties. \r\n * \r\n * Presets are designed to be created once, upfront, and not changed once defined. This reinforces a holistic design for a PWA should have in terms of the types of Schemas, global Models, and overall form the PWA takes, e.g whether to use the ShadowDOM or not.\r\n * \r\n * Note: *This object is made immutable once created.*\r\n * \r\n * @param      {Object | Presets}  preset_options  An Object containing configuration data to be used by Wick.\r\n * @memberof module:wick\r\n * @alias Presets\r\n */\r\nclass Presets {\r\n    constructor(preset_options = {}) {\r\n\r\n        this.store = (preset_options.store instanceof Store) ? preset_options.store : null;\r\n        \r\n        /**\r\n         * {Object} Store for optional parameters used in the app\r\n         */\r\n        this.options = {\r\n            USE_SECURE:true,\r\n            USE_SHADOW:false,\r\n        };\r\n\r\n        //Declaring the properties upfront to give the VM a chance to build an appropriate virtual class.\r\n        this.components = {};\r\n\r\n        this.custom_components = {};\r\n\r\n        /** \r\n         * Store of user defined CustomSourcePackage factories that can be used in place of the components built by the Wick templating system. Accepts any class extending the CustomComponent class. Adds these classes from preset_options.custom_sources or preset_options.components. \r\n         * \r\n         * In routing mode, a HTML `<component>` tag whose first classname matches a property name of a member of presets.custom_sources will be assigned to an instance of that member.\r\n         * \r\n         * ### Example\r\n         * In HTML:\r\n         * ```html\r\n         * <component class=\"my_source class_style\">\r\n         * \r\n         * ```\r\n         * In JavaScript:\r\n         * ```javascript\r\n         * let MySource = CustomSourcePackage( ele =>{\r\n         *      ele.append\r\n         * }, {});\r\n         * \r\n         * preset_options.custom_componets = {\r\n         *      my_source : MySource\r\n         * }\r\n         * ```\r\n         * @instance\r\n         * @readonly\r\n         */\r\n        this.custom_sources = {};\r\n\r\n        /**\r\n         * { Object } Store of user defined classes that extend the Model or Model classes. `<w-source>` tags in templates that have a value set for the  `schema` attribute, e.g. `<w-s schema=\"my_favorite_model_type\">...</w-s>`, will be bound to a new instance of the class in presets.schema whose property name matches the \"schema\" attribute.\r\n         * \r\n         * Assign classes that extend Model or SchemedModel to preset_options.schemas to have them available to Wick.\r\n         * \r\n         * In JavaScript:\r\n         * ```javascript\r\n         * class MyFavoriteModelType extends Model {};\r\n         * preset_options.custom_componets = {\r\n         *      my_favorite_model_type : MyFavoriteModelType\r\n         * }\r\n         * ```\r\n         * note: presets.schema.any is always assigned to the Model class.\r\n         * @instance\r\n         * @readonly\r\n         */\r\n        this.schemas = { any: Model };\r\n\r\n        /**\r\n         * { Object } Store of user defined Model instances that serve as global models, which are available to the whole application. Multiple Sources will be able to _bind_ to the Models. `<w-source>` tags in templates that have a value set for the  `model` attribute, e.g. `<w-s model=\"my_global_model\">...</w-s>`, will be bound to the model in presets .model whose property name matches the \"model\" attribute.\r\n         * \r\n         * Assign instances of Model or Model or any class that extends these to preset_options.models to have them used by Wick.\r\n         * \r\n         * In JavaScript:\r\n         * ```javascript\r\n         * const MyGlobalModel = new Model({global_data: \"This is global!\"});\r\n         * preset_options.custom_componets = {\r\n         *      my_global_model : MyGlobalModel\r\n         * }\r\n         * ```\r\n         * @instance\r\n         * @readonly\r\n         */\r\n        this.models = {};\r\n\r\n        /**\r\n         * Configured by `preset_options.USE_SHADOW`. If set to true, and if the browser supports it, compiled and rendered template elements will be bound to a `<component>` shadow DOM, instead being appended as a child node.\r\n         * @instance\r\n         * @readonly\r\n         */\r\n        this.USE_SHADOW = false;\r\n\r\n        /**\r\n         * { Object } Contains all user defined HTMLElement templates \r\n         */\r\n        this.templates = {};\r\n\r\n        /**\r\n         * Custom objects that can be used throughout component scripts. User defined. \r\n         */\r\n        this.custom = preset_options.custom;\r\n\r\n        let c = preset_options.options;\r\n        if (c)\r\n            for (let cn in c)\r\n                this.options[cn] = c[cn];\r\n\r\n\r\n        c = preset_options.components;\r\n        if (c)\r\n            for (let cn in c)\r\n                this.components[cn] = c[cn];\r\n\r\n        c = preset_options.custom_sources;\r\n        if (c)\r\n            for (let cn in c)\r\n                if (cn instanceof CustomComponent)\r\n                    this.custom_sources[cn] = c[cn];\r\n\r\n        c = preset_options.custom_components;\r\n        if (c)\r\n            for (let cn in c)\r\n                    this.custom_components[cn] = c[cn];\r\n\r\n        c = preset_options.models;\r\n        \r\n        if (c)\r\n            for (let cn in c)\r\n                if (c[cn] instanceof ModelBase)\r\n                    this.models[cn] = c[cn];\r\n\r\n        c = preset_options.schemas;\r\n        if (c)\r\n            for (let cn in c)\r\n                if (ModelBase.isPrototypeOf(c[cn]))\r\n                    this.schemas[cn] = c[cn];\r\n\r\n        this.options.USE_SHADOW = (this.options.USE_SHADOW) ? (DOC.head.createShadowRoot || DOC.head.attachShadow) : false;\r\n\r\n        Object.freeze(this.options);\r\n        Object.freeze(this.custom_sources);\r\n        Object.freeze(this.schemas);\r\n        Object.freeze(this.models);\r\n\r\n\r\n        //Object.freeze(this);\r\n    }\r\n\r\n    processLink(link){}\r\n}\r\n\r\nexport { Presets };","import { ArrayModelContainer } from \"./container/array\";\r\nimport { ModelContainerBase } from \"./container/base\";\r\nimport { SchemeConstructor } from \"../schema/schemas\";\r\nimport { Model } from \"./model\";\r\nimport { ModelBase } from \"./base\";\r\nimport { _SealedProperty_, _FrozenProperty_ } from \"../short_names\";\r\n\r\n/**\r\n *   This is used by Model to create custom property getter and setters on non-ModelContainerBase and non-Model properties of the Model constructor.\r\n *   @protected\r\n *   @memberof module:wick~internals.model\r\n */\r\nfunction CreateSchemedProperty(object, scheme, schema_name, index) {\r\n    if (object[schema_name])\r\n        return;\r\n\r\n    Object.defineProperty(object, schema_name, {\r\n        configurable: false,\r\n        enumerable: true,\r\n        get: function() {\r\n            return this.getHook(schema_name, this.prop_array[index]);\r\n        },\r\n        set: function(value) {\r\n\r\n            let result = { valid: false };\r\n\r\n            let val = scheme.parse(value);\r\n\r\n            scheme.verify(val, result);\r\n\r\n            if (result.valid && this.prop_array[index] != val) {\r\n                this.prop_array[index] = this.setHook(schema_name, val);\r\n                this.scheduleUpdate(schema_name);\r\n                this._changed_ = true;\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n    This is used by Model to create custom property getter and setters on Model properties of the Model constructor.\r\n    @protected\r\n    @memberof module:wick~internals.model\r\n*/\r\nfunction CreateModelProperty(object, model, schema_name, index) {\r\n\r\n    Object.defineProperty(object, schema_name, {\r\n        configurable: false,\r\n        enumerable: true,\r\n        get: function() {\r\n\r\n            let m = this.prop_array[index];\r\n\r\n            if (!m) {\r\n                let address = this.address.slice();\r\n                address.push(index);\r\n                m = new model(null, this.root, address);\r\n                m.par = this;\r\n                m.prop_name = schema_name;\r\n                m.MUTATION_ID = this.MUTATION_ID;\r\n                this.prop_array[index] = m;\r\n            }\r\n\r\n            return this.getHook(schema_name, m);\r\n        }\r\n    });\r\n}\r\n\r\nclass SchemedModel extends ModelBase {\r\n\r\n    constructor(data, root = null, address = [], _schema_ = null) {\r\n\r\n        super(root, address);\r\n\r\n        if (this.constructor === SchemedModel)\r\n            this.constructor = (class extends SchemedModel {});\r\n\r\n        if (!this.schema) {\r\n\r\n            let schema = this.constructor.schema || _schema_;\r\n\r\n            this.constructor.schema = schema;\r\n\r\n            if (schema) {\r\n\r\n                let __FinalConstructor__ = schema.__FinalConstructor__;\r\n\r\n                let constructor = this.constructor;\r\n                let prototype = constructor.prototype;\r\n\r\n                if (!__FinalConstructor__) {\r\n                    let count = 0;\r\n                    let look_up = {};\r\n\r\n                    for (let schema_name in schema) {\r\n                        let scheme = schema[schema_name];\r\n\r\n                        if (schema_name == \"self\" && Array.isArray(scheme)) \r\n                            return new SchemedContainer(schema, root, address);\r\n                        \r\n\r\n                        if (schema_name == \"getHook\") {\r\n                            prototype.getHook = scheme;\r\n                            continue;\r\n                        }\r\n\r\n                        if (schema_name == \"setHook\") {\r\n                            prototype.setHook = scheme;\r\n                            continue;\r\n                        }\r\n\r\n                        if (schema_name == \"proto\") {\r\n                            for (let name in schema.proto)\r\n                                _SealedProperty_(prototype, name, schema.proto[name]);\r\n                            continue;\r\n                        }\r\n\r\n                        if (typeof(scheme) == \"function\") {\r\n                            CreateModelProperty(prototype, scheme, schema_name, count);\r\n                        } else if (typeof(scheme) == \"object\") {\r\n                            if (Array.isArray(scheme)) {\r\n                                if (scheme[0] && scheme[0].container && scheme[0].schema)\r\n                                    CreateModelProperty(prototype, scheme[0], schema_name, count);\r\n                                else if (scheme[0] instanceof ModelContainerBase)\r\n                                    CreateModelProperty(prototype, scheme[0].constructor, schema_name, count);\r\n                                else\r\n                                    CreateModelProperty(prototype, Model, schema_name, count);\r\n                            } else if (scheme instanceof SchemeConstructor)\r\n                                CreateSchemedProperty(prototype, scheme, schema_name, count);\r\n                            else {\r\n                                CreateModelProperty(prototype, scheme.constructor, schema_name, count);\r\n                            }\r\n                        } else {\r\n                            console.warn(`Could not create property ${schema_name}.`);\r\n\r\n                            continue;\r\n                        }\r\n\r\n                        look_up[schema_name] = count;\r\n                        count++;\r\n                    }\r\n\r\n                    _SealedProperty_(prototype, \"prop_offset\", count);\r\n                    _SealedProperty_(prototype, \"look_up\", look_up);\r\n                    _SealedProperty_(prototype, \"changed\", false);\r\n\r\n                    Object.seal(constructor);\r\n\r\n                    schema.__FinalConstructor__ = constructor;\r\n                    //_FrozenProperty_(schema, \"__FinalConstructor__\", constructor);\r\n\r\n                    //Start the process over with a newly minted Model that has the properties defined in the Schema\r\n                    return new schema.__FinalConstructor__(data, root, address);\r\n                }\r\n\r\n                _FrozenProperty_(prototype, \"schema\", schema);\r\n            } else\r\n                return new Model(data, root, address);\r\n        }\r\n\r\n        Object.defineProperty(this, \"prop_array\", { value: new Array(this.prop_offset), enumerable: false, configurable: false, writable: true });\r\n\r\n        if (data)\r\n            this.set(data, true);\r\n    }\r\n\r\n    destroy() { this.root = null; }\r\n\r\n    set(data, FROM_ROOT = false) {\r\n\r\n        if (!FROM_ROOT)\r\n            return this._deferUpdateToRoot_(data).set(data, true);\r\n\r\n        if (!data)\r\n            return false;\r\n\r\n        this._changed_ = false;\r\n\r\n        for (let prop_name in data) {\r\n\r\n            let data_prop = data[prop_name];\r\n\r\n            let index = this.look_up[prop_name];\r\n\r\n            if (index !== undefined) {\r\n\r\n                let prop = this[prop_name];\r\n\r\n                if (typeof(prop) == \"object\") {\r\n\r\n                    if (prop.MUTATION_ID !== this.MUTATION_ID) {\r\n                        prop = prop.clone();\r\n                        prop.MUTATION_ID = this.MUTATION_ID;\r\n                        this.prop_array[index] = prop;\r\n                    }\r\n\r\n                    if (prop.set(data_prop, true))\r\n                        this.scheduleUpdate(prop_name);\r\n\r\n                } else {\r\n                    this[prop_name] = data_prop;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this._changed_;\r\n    }\r\n\r\n    createProp() {}\r\n}\r\nSchemedModel.prototype.toJSON = Model.prototype.toJSON;\r\n\r\nclass SchemedContainer extends ArrayModelContainer {\r\n    \r\n    constructor(schema, root, address) {\r\n\r\n        super(schema.self, root, address);\r\n\r\n        if (schema.proto)\r\n            for (let name in schema.proto)\r\n                _SealedProperty_(this, name, schema.proto[name]);\r\n    }\r\n}\r\n\r\nexport { SchemedModel };","/**\r\n * Base class for an object that binds to and observes a Model.\r\n *@alias module:wick.core.view\r\n */\r\nexport class View{\r\n\r\n\tconstructor(){\r\n\t\t/**\r\n\t\t * property\r\n\t\t */\r\n\t\tthis.nx = null;\r\n\t\tthis.pv = null;\r\n\t\tthis .model = null;\r\n\t}\r\n\r\n\t/**\r\n     * Unbinds the View from its Model and sets all properties to undefined. Should be called by any class extending View\r\n\t * ``` js\r\n\t * class ExtendingView extends wick.core.view.View{\r\n\t * \t\tdestroy(){\r\n\t * \t\t\t//... do some stuff ...\r\n\t * \t\t\tsuper.destroy();\r\n\t * \t\t}\r\n\t * }\r\n\t * ```\r\n     * @protected\r\n     */\r\n\tdestroy(){\r\n\r\n\t\tif(this .model)\r\n\t\t\tthis .model.removeView(this);\r\n\t\r\n\t\tthis .model = undefined;\r\n\t\tthis.nx = undefined;\r\n\t}\t\r\n\t/**\r\n\t\tCalled by a Model when its data has changed.\r\n\t*/\r\n\tupdate(data){\r\n\r\n\t}\r\n\t/**\r\n\t\tCalled by a ModelContainerBase when an item has been removed.\r\n\t*/\r\n\tremoved(data){\r\n\r\n\t}\r\n\r\n\t/**\r\n\t\tCalled by a ModelContainerBase when an item has been added.\r\n\t*/\r\n\tadded(data){\r\n\r\n\t}\r\n\tsetModel(model){\r\n\t}\r\n\r\n\treset(){\r\n\t\t\r\n\t}\r\n\tunsetModel(){\r\n\r\n\t\tthis.nx = null;\r\n\t\tthis .model = null;\r\n\t}\r\n}","export class SourceManager {\r\n\r\n    constructor(model, element) {\r\n        this.sources = [];\r\n        this.model = model;\r\n        this.ele = element;\r\n        this.index = -1;\r\n        this._APPEND_STATE_ = false;\r\n        this._TRANSITION_STATE_ = false;\r\n        this._DESTROYED_ = false;\r\n        this.parent = null;\r\n    }\r\n\r\n    get element() {\r\n        if (!this.ele)\r\n            this.ele = this.sources[0].ele;\r\n        return this.ele;\r\n    }\r\n\r\n    destroy() {\r\n        for (let i = 0; i < this.sources.length; i++)\r\n            this.sources[i].destroy();\r\n        this.source = null;\r\n        this.model = null;\r\n        this.ele = null;\r\n        this._DESTROYED_ = true;\r\n        this.parent = null;\r\n    }\r\n\r\n    emit(name, value) {\r\n        for (let i = 0; i < this.sources.length; i++)\r\n            this.sources[i].upImport(name, value, {\r\n                event: {}\r\n            });\r\n    }\r\n\r\n    appendToDOM(element, before_element) {\r\n        this._APPEND_STATE_ = true;\r\n        if (before_element)\r\n            element.insertBefore(this.element, before_element);\r\n        else\r\n            element.appendChild(this.element);\r\n    }\r\n\r\n    _removeFromDOM_() {\r\n\r\n        if (this._APPEND_STATE_ == true) return;\r\n\r\n        if (this.ele && this.ele.parentElement)\r\n            this.ele.parentElement.removeChild(this.ele);\r\n    }\r\n\r\n    transitionIn(transition, transition_name = \"trs_in\") {\r\n\r\n        if (transition) {\r\n            let data = {};\r\n\r\n            data[transition_name] = transition;\r\n\r\n            this.update(data);\r\n        }\r\n\r\n        this._TRANSITION_STATE_ = true;\r\n    }\r\n\r\n    transitionOut(transition, transition_name = \"trs_out\", DESTROY_ON_REMOVE = false) {\r\n\r\n        this._APPEND_STATE_ = false;\r\n\r\n        if (this._TRANSITION_STATE_ === false) {\r\n            // if (DESTROY_ON_REMOVE && !this._DESTROYED_) this.destroy();\r\n            this._removeFromDOM_();\r\n            return;\r\n        }\r\n\r\n        let transition_time = 0;\r\n\r\n        if (transition) {\r\n            let data = {};\r\n\r\n            data[transition_name] = transition;\r\n\r\n            this.update(data);\r\n\r\n            if (transition.trs)\r\n                transition_time = transition.trs.out_duration;\r\n            else\r\n                transition_time = transition.out_duration;\r\n        }\r\n\r\n\r\n        this._TRANSITION_STATE_ = false;\r\n\r\n\r\n        /*\r\n        for (let i = 0, l = this.sources.length; i < l; i++) {\r\n\r\n            let ast = this.sources[i].ast;\r\n\r\n            let css = ast.css;\r\n\r\n            let hooks = this.sources[i].hooks;\r\n\r\n            for (let i = 0, l = hooks.length; i < l; i++) {\r\n\r\n                let hook = hooks[i];\r\n\r\n                if (!hook) continue;\r\n                let ele = hook.ele;\r\n\r\n                if (ele.getAttribute(\"trs\") == \"out\") continue;\r\n                ele.setAttribute(\"trs\", \"out\");\r\n\r\n                if (css) {\r\n                    let rule = css.getApplicableRules(ele);\r\n\r\n                    for (let name in rule.props)\r\n                        if (name == \"transition\")\r\n                            for (let i = 0, prop = rule.props[name]; i < prop.length; i++) {\r\n                                let sub_prop = prop[i];\r\n                                if (!isNaN(sub_prop))\r\n                                    transition_time = Math.max(transition_time, sub_prop.milliseconds);\r\n\r\n                            }\r\n\r\n                    if (hook.style)\r\n                        hook.style._setRule_(rule);\r\n                    else {\r\n                        //ele.style = rule + \"\";\r\n                    }\r\n                }\r\n            }\r\n        }*/\r\n\r\n        if (transition_time > 0)\r\n            setTimeout(() => {\r\n                this._removeFromDOM_();\r\n                if (DESTROY_ON_REMOVE) this.destroy();\r\n            }, transition_time + 2);\r\n        else {\r\n            this._removeFromDOM_();\r\n            if (DESTROY_ON_REMOVE) this.destroy();\r\n        }\r\n\r\n        return transition_time;\r\n    }\r\n\r\n    upImport(prop_name, data, meta) {\r\n        if (this.parent)\r\n            this.parent.up(prop_name, data, meta, this);\r\n    }\r\n\r\n    down(data, changed_values) {\r\n        for (let i = 0, l = this.sources.length; i < l; i++)\r\n            this.sources[i].down(data, changed_values);\r\n    }\r\n\r\n    update(data, changed_values) {\r\n        for (let i = 0, l = this.sources.length; i < l; i++)\r\n            this.sources[i].update(data, changed_values);\r\n    }\r\n\r\n    bubbleLink() {\r\n        if (this.parent && this.parent.bubbleLink)\r\n            this.parent.bubbleLink(this);\r\n        else\r\n            debugger\r\n    }\r\n}","import whind from \"@candlefw/whind\";\r\nimport URL from \"@candlefw/url\";\r\nimport ll from \"@candlefw/ll\";\r\n\r\n/** NODE TYPE IDENTIFIERS **/\r\nconst HTML = 0;\r\nconst TEXT = 1;\r\nconst offset = \"    \";\r\n\r\n/**\r\n * A node for text data.\r\n * @param  {string}  str     The text value of the node.\r\n */\r\nclass TextNode {\r\n\r\n    constructor(str = \"\") {\r\n        /**\r\n         * The text value\r\n         */\r\n        this.txt = str;\r\n    }\r\n\r\n    /**\r\n     * Returns the type of `1` (`TEXT`)\r\n     */\r\n    get type() {\r\n        return TEXT;\r\n    }\r\n\r\n    /**\r\n     * Returns a string representation of the object.\r\n     * @param      {string}  str     Optional string passed down from calling method.\r\n     * @return     {string}  String representation of the object.\r\n     */\r\n    toString(off = 0) {\r\n        return `${offset.repeat(off)} ${this.txt}\\n`;\r\n    }\r\n\r\n    /**\r\n     * Builds a real DOM HTMLTextNode node. \r\n     * @param      {HTMLElement}  parent  The real html element.\r\n     */\r\n    build(parent) {\r\n        parent.appendChild(document.createTextNode(this.txt));\r\n    }\r\n\r\n}\r\n\r\nll.mixinTree(TextNode);\r\n\r\n\r\n/**\r\n * A node for HTML data. \r\n * Handles the parsing of HTML strings.\r\n */\r\nclass HTMLNode {\r\n\r\n    constructor() {\r\n\r\n        /**\r\n         * Element attributes\r\n         * @public\r\n         */\r\n        this.attributes = [];\r\n\r\n        /**\r\n         * Any Comment Lines found within.\r\n         * @private\r\n         */\r\n        //this.dtd_nodes = [];\r\n\r\n        /**\r\n         * The tag name of the object.\r\n         * @public\r\n         */\r\n        this.tag = \"\";\r\n\r\n        /**\r\n         * A URL instance when set.\r\n         * @private\r\n         */\r\n        this.url = null;\r\n\r\n        /**\r\n         * Whether the node is a DTD, such as a comment.\r\n         * @private\r\n         */\r\n        this.DTD = false;\r\n\r\n        /**\r\n         * True if the element is a single tag element. \r\n         */\r\n        this.single = false;\r\n\r\n    }\r\n\r\n    /******************************************* ATTRIBUTE AND ELEMENT ACCESS ******************************************************************************************************************/\r\n\r\n    /**\r\n     * Returns the type of `0` (`HTML`)\r\n     * @public\r\n     */\r\n    get type() {\r\n        return HTML;\r\n    }\r\n\r\n    get tagName() {\r\n        return this.tag.toUpperCase();\r\n    }\r\n\r\n    get classList() {\r\n        let classes = this.getAttrib(\"class\");\r\n        if (typeof classes.value == \"string\")\r\n            return classes.split(\" \");\r\n        return [];\r\n    }\r\n\r\n    getAttribute(name) {\r\n        let attrib = this.getAttrib(name);\r\n        return (attrib) ? attrib.value : void 0;\r\n    }\r\n\r\n    get parentElement() {\r\n        return this.par;\r\n    }\r\n\r\n    get previousElementSibling() {\r\n        if (this.par) {\r\n            let guard = this.par.fch;\r\n\r\n            if (this == guard) return null;\r\n\r\n            let node = this.prv;\r\n\r\n            while (node && node != gaurd) {\r\n                if (node.type == HTML)\r\n                    return node;\r\n                node = node.prv;\r\n            }\r\n\r\n            if (node.type == HTML)\r\n                return node;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    get nextElementSibling() {\r\n        if (this.par) {\r\n            let guard = this.par.fch;\r\n\r\n            let node = this.nxt;\r\n\r\n            while (node && node != guard) {\r\n                if (node.type == HTML)\r\n                    return node;\r\n                node = node.nxt;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Gets an attribute.\r\n     * @param      {string}  prop    The attribute name to lookup;\r\n     * @public\r\n     */\r\n    getAttrib(prop) {\r\n        for (let i = -1, l = this.attributes.length; ++i < l;) {\r\n            let attrib = this.attributes[i];\r\n            if (attrib.name == prop && !attrib.IGNORE) return attrib;\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Get Elements by the tag name.\r\n     * @param      {string}   tag                  A string to match with the element's tag value.\r\n     * @param      {boolean}  [INCLUDE_DESCENDANTS=false]  When `true` searching will recurse depth first into child elements.\r\n     * @param      {Array}    array                Internal element store that is returned. \r\n     * @return     {Array}    An array of matched elements.\r\n     * @public\r\n     */\r\n    getTag(tag, INCLUDE_DESCENDANTS = false, array = []) {\r\n        for (let node = this.fch; node;\r\n            (node = this.getNextChild(node))) {\r\n            if (node.type == HTML) {\r\n                if (node.tag == tag) array.push(node);\r\n                if (INCLUDE_DESCENDANTS) node.getTag(tag, INCLUDE_DESCENDANTS, array);\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Get Elements by the tag name.\r\n     * @param      {string}   _class               A string to find with the element's class value.\r\n     * @param      {boolean}  [INCLUDE_DESCENDANTS=false]  When `true` searching will recurse depth first into child elements.\r\n     * @param      {Array}    array                Internal element store that is returned. \r\n     * @return     {Array}    An array of matched elements.\r\n     * @public\r\n     */\r\n    getClass(_class, INCLUDE_DESCENDANTS = false, array = []) {\r\n        for (let node = this.fch; node;\r\n            (node = this.getNextChild(node))) {\r\n            if (node.type == HTML) {\r\n                if (node.class.includes(_class)) array.push(node);\r\n                if (INCLUDE_DESCENDANTS) node.getClass(_class, INCLUDE_DESCENDANTS, array);\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Get first element with matching id.\r\n     * @param      {string}   id                   The identifier value to find.\r\n     * @param      {boolean}  [INCLUDE_DESCENDANTS=false]  When `true` searching will recurse depth first into child elements.\r\n     * @return     {HTMLNode}   The first element whose id matches.\r\n     * @public\r\n     */\r\n    getID(id, INCLUDE_DESCENDANTS = false) {\r\n        for (let node = this.fch, ch; node;\r\n            (node = this.getNextChild(node))) {\r\n            if (node.type == HTML) {\r\n                if (node.id == id) return node;\r\n                if (INCLUDE_DESCENDANTS && (ch = node.getID(id, INCLUDE_DESCENDANTS))) return ch;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * The id attribute value.\r\n     * @public\r\n     */\r\n    get id() {\r\n        let id_attrib = this.getAttrib(\"id\");\r\n        return (id_attrib) ? id_attrib.value : \"\";\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * The class attribute value.\r\n     * @public\r\n     */\r\n    get class() {\r\n        let id_attrib = this.getAttrib(\"class\");\r\n        return (id_attrib) ? id_attrib.value : \"\";\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Returns a string representation of the object.\r\n     * @return     {string}  String representation of the object.\r\n     * @public\r\n     */\r\n    toString(off = 0) {\r\n\r\n        let o = offset.repeat(off);\r\n\r\n        let str = `${o}<${this.tag}`,\r\n            atr = this.attributes,\r\n            i = -1,\r\n            l = atr.length;\r\n\r\n        while (++i < l) {\r\n            let attr = atr[i];\r\n           \r\n            if(attr.name) \r\n                str += ` ${attr.name}=\"${attr.value}\"`;\r\n        }\r\n\r\n        str += \">\\n\";\r\n        \r\n        if(this.single)\r\n            return str;\r\n\r\n        str += this.innerToString(off+1);\r\n\r\n        return str + `${o}</${this.tag}>\\n`;\r\n    }\r\n\r\n    innerToString(off){\r\n        let str = \"\";\r\n        for (let node = this.fch; node;\r\n            (node = this.getNextChild(node))) {\r\n            str += node.toString(off);\r\n        }\r\n        return str;\r\n    }\r\n\r\n\r\n\r\n    /******************************************* PARSING ******************************************************************************************************************/\r\n\r\n\r\n\r\n    /**\r\n     * Creates a text node. \r\n     *\r\n     * @param      {Lexer} - A Lexical tokenizing object supporting methods found in {@link Lexer}\r\n     * @param      {start}  start   The starting point of the data slice\r\n     * @private\r\n     */\r\n    createTextNode(lex, start, end) {\r\n        if (end) {\r\n            let other_lex = lex.copy();\r\n            other_lex.IWS = true;\r\n            other_lex.off = start - 1;\r\n            other_lex.tl = 1;\r\n            other_lex.sl = end;\r\n            let text_node = this.processTextNodeHook(other_lex.n, true);\r\n            if (text_node) this.addChild(text_node);\r\n        } else if (start < lex.off) {\r\n            let other_lex = lex.copy();\r\n            other_lex.off = start;\r\n            other_lex.END = false;\r\n            other_lex.tl = 0;\r\n            other_lex.fence(lex);\r\n            other_lex.IWS = false;\r\n            other_lex.n;\r\n            other_lex.IWS = true;\r\n\r\n            if ((other_lex.sl - other_lex.off) < 2){\r\n                //TODO\r\n                throw new Error(\"Unexpected end of input\");\r\n            }\r\n\r\n            let text_node = this.processTextNodeHook(other_lex, false);\r\n            if (text_node) this.addChild(text_node);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Parses an HTML open tag.\r\n     * @param {Lexer} - A Lexical tokenizing object supporting methods found in {@link Lexer}  \r\n     * @param {Object} attribs - An object which will receive the attribute keys and values. \r\n     * @private\r\n     */\r\n    parseOpenTag(lex, DTD, old_url) {\r\n        let HAS_URL = false;\r\n\r\n        while (!lex.END && lex.text !== \">\" && lex.text !== \"/\") {\r\n\r\n\r\n            if (DTD && lex.ch == \"-\" && lex.pk.ch == \"-\") {\r\n                //parse comment\r\n\r\n                let pk = lex.pk;\r\n                if (!lex.text) throw Error(\"Unexpected end of input.\");\r\n                let a = pk.n.ch,\r\n                    b = pk.n.ch;\r\n                while (!pk.END && (b !== \"-\" || a !== \"-\")) {\r\n                    a = b;\r\n                    b = pk.n.tx;\r\n                }\r\n                lex.sync().n;\r\n                continue;\r\n            }\r\n\r\n            lex.IWS = false;\r\n            \r\n            let pk = lex.pk;\r\n            \r\n            while (!pk.END && !(pk.ty & (pk.types.ws | pk.types.str | pk.types.nl)) && pk.ch !== \"=\" && pk.ch !== \">\") { pk.n; }\r\n            \r\n            let attrib_name = pk.slice(lex).trim();\r\n            \r\n            lex.sync(); \r\n            \r\n            lex.IWS = true;\r\n\r\n            let out_lex = lex.copy();\r\n            \r\n            out_lex.sl = lex.off;\r\n\r\n            if (lex.ch == \"=\") {\r\n                let pk = lex.pk;\r\n\r\n                let start = pk.off;\r\n\r\n                pk.IWS = true;\r\n                while (!(pk.ty & (pk.types.ws | pk.types.str | pk.types.nl)) && pk.ch !== \">\") { pk.n; }\r\n                pk.IWS = false;\r\n\r\n                if (pk.off > start) {\r\n                    out_lex = lex.n.copy();\r\n                    out_lex.fence(pk);\r\n                    lex.sync();\r\n                } else {\r\n                    //Have simple value\r\n                    lex.sync(pk);\r\n                    out_lex = lex.copy();\r\n                    if (lex.pos < 0)\r\n                        lex.throw(`Unexpected end of input. Expecting value for attribute \"${attrib_name}\"`);\r\n                    else if (lex.type == lex.types.str) {\r\n                        out_lex.tl = 1;\r\n                        out_lex.n;\r\n                        out_lex.sl = lex.pos + lex.tl - 1;\r\n                        lex.n;\r\n                    } else {\r\n                        lex.next();\r\n                        out_lex.fence(lex);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (attrib_name == \"url\") {\r\n                this.url = URL.resolveRelative(old_url, out_lex.slice());\r\n                HAS_URL = true;\r\n            }\r\n\r\n            let attrib = this.processAttributeHook(attrib_name, out_lex);\r\n\r\n            if (attrib)\r\n                this.attributes.push(attrib);\r\n        }\r\n\r\n        if (lex.text == \"/\") // Void Nodes\r\n            lex.assert(\"/\");\r\n\r\n        return HAS_URL;\r\n    }\r\n\r\n    parseRunner(lex = null, OPENED = false, IGNORE_TEXT_TILL_CLOSE_TAG = false, parent = null, old_url = new URL(0, !!1)) {\r\n        let start = lex.pos;\r\n        let end = lex.pos;\r\n        let HAS_INNER_TEXT = false;\r\n        main_loop:\r\n        while (!lex.END) {\r\n            switch (lex.ch) {\r\n                case \"/\":\r\n                    if (lex.pk.ch == \"<\") { //ignore the white space.\r\n                        lex.sync();\r\n                        break;\r\n                    }\r\n                    break;\r\n\r\n                case \"<\":\r\n                    if (!IGNORE_TEXT_TILL_CLOSE_TAG) lex.IWS = true;\r\n\r\n                    let pk = lex.pk;\r\n\r\n                    if (pk.ch == \"/\") {\r\n                        if (pk.pk.tx !== this.tag){\r\n                             break main_loop;   \r\n                        }\r\n\r\n                        if (HAS_INNER_TEXT) {\r\n                            if (IGNORE_TEXT_TILL_CLOSE_TAG)\r\n                                this.createTextNode(lex, start);\r\n                            else if ((end - start) > 0)\r\n                                this.createTextNode(lex, start, end);\r\n                        }\r\n\r\n                        //Close tag\r\n                        let name = lex.sync().n.tx;\r\n\r\n                        //Close tag is not the one we are looking for. We'll create a new dummy node and close the tag with it. \r\n                        if (name !== this.tag) {\r\n                            //Create new node with the open tag \r\n                            let insert = new HTMLNode();\r\n                            insert.tag = name;\r\n                            this.addChild(insert);\r\n                        }\r\n\r\n                        lex.n;\r\n                        lex.IWS = false;\r\n                        lex.a(\">\");\r\n\r\n                        this.endOfElementHook(lex, parent);\r\n\r\n                        return this;\r\n                    }\r\n\r\n                    if (pk.ch == \"!\") {\r\n                        /* DTD - Doctype and Comment tags*/\r\n                        //This type of tag is dropped\r\n                        while (!lex.END && lex.n.ch !== \">\") {};\r\n                        lex.a(\">\");\r\n                        continue;\r\n                    }\r\n\r\n                    if (!IGNORE_TEXT_TILL_CLOSE_TAG) {\r\n                        //Open tag\r\n                        if (!OPENED) {\r\n                            let URL = false;\r\n                            this.DTD = false;\r\n                            this.attributes.length = 0;\r\n\r\n                            //Expect tag name \r\n                            this.tag = lex.n.tx.toLowerCase();\r\n\r\n\r\n                            URL = this.parseOpenTag(lex.n, false, old_url);\r\n                            start = lex.pos + 1;\r\n                            lex.IWS = false;\r\n                            if (lex.ch == \"/\") lex.n;\r\n                            lex.a(\">\");\r\n\r\n\r\n                            OPENED = true;\r\n\r\n                            HAS_INNER_TEXT = IGNORE_TEXT_TILL_CLOSE_TAG = this.ignoreTillHook(this.tag);\r\n\r\n                            if (URL) {\r\n\r\n                                //Need to block against ill advised URL fetches. \r\n\r\n                                //Hook to pull in data from remote resource\r\n                                let prom = this.processFetchHook(lex, true, IGNORE_TEXT_TILL_CLOSE_TAG, parent);\r\n\r\n                                if (prom instanceof Promise) {\r\n                                    return prom.then(() => {\r\n                                        if (this.selfClosingTagHook(this.tag)) {\r\n                                            return this;\r\n                                        } // Tags without matching end tags.\r\n                                        return this.parseRunner(lex, true, IGNORE_TEXT_TILL_CLOSE_TAG, this, old_url);\r\n                                    });\r\n                                }\r\n                            }\r\n\r\n                            if (this.selfClosingTagHook(this.tag)){\r\n                                 // Tags without matching end tags.\r\n                                this.single = true;\r\n                                return this;\r\n                            }\r\n\r\n                            continue;\r\n                        } else {\r\n                            lex.IWS = false;\r\n                            //Create text node;\r\n                            if (HAS_INNER_TEXT) {\r\n                                if (IGNORE_TEXT_TILL_CLOSE_TAG)\r\n                                    this.createTextNode(lex, start);\r\n                                else if ((end - start) > 0) {\r\n                                    this.createTextNode(lex, start, end);\r\n                                }\r\n                            }\r\n\r\n                            //New Child node found\r\n                            let node = this.createHTMLNodeHook(lex.pk.tx, lex.off);\r\n\r\n                            this.addChild(node);\r\n\r\n                            let prom = node.parseRunner(lex, false, false, this, this.url || old_url);\r\n                            \r\n                            if(prom instanceof Promise){\r\n                                return prom.then(child => {\r\n                                    if (child.DTD) this.removeChild(child);\r\n                                    return this.parseRunner(lex, OPENED, false, this, old_url);\r\n                                });    \r\n                            }else{\r\n                                if (node.DTD) this.removeChild(node);\r\n                                return this.parseRunner(lex, OPENED, false, this, old_url);\r\n                            }\r\n                            \r\n                        }\r\n                        //}\r\n                    }\r\n                    lex.IWS = false;\r\n                    break;\r\n            }\r\n\r\n            if (!IGNORE_TEXT_TILL_CLOSE_TAG) {\r\n                if (lex.ty == 8 && !HAS_INNER_TEXT) {\r\n                    start = lex.pos;\r\n                } else if (lex.ty == 256) {} else {\r\n                    HAS_INNER_TEXT = true;\r\n                    end = lex.off + lex.tl;\r\n                }\r\n            }\r\n\r\n            lex.n;\r\n        }\r\n\r\n        if (OPENED && start < lex.off) {\r\n            //Got here from an network import, need produce a text node;\r\n            this.createTextNode(lex, start);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Parses HTML string. Appends new nodes, or consumes first node if tag is an empty string.\r\n     * @param      {Lexer} - A Lexical tokenizing object supporting methods found in {@link Lexer}\r\n     * @param      {boolean}  OPENED       The opened\r\n     * @param      {boolean}  IGNORE_TEXT_TILL_CLOSE_TAG  If `true`, parser will ignore all HTML syntax until the closing tag is found.\r\n     * @return     {Promise}  \r\n     * @private\r\n     */\r\n    parse(lex, url =  new URL(0, !!1)) {\r\n        \r\n        if(typeof(lex) == \"string\") lex = whind(lex);\r\n        \r\n        lex.IWS = false;\r\n        \r\n        return new Promise((res, rej) => {\r\n            res(this.parseRunner(lex, false, false, null, url));\r\n        });\r\n    }\r\n\r\n    /******************************************* HOOKS ******************************************************************************************************************/\r\n\r\n    endOfElementHook() {}\r\n\r\n    selfClosingTagHook(tag) {\r\n        switch (tag) {\r\n            case \"input\":\r\n            case \"br\":\r\n            case \"img\":\r\n            //svg\r\n            case \"rect\":\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    ignoreTillHook(tag) {\r\n        if (tag == \"script\" || tag == \"style\") // Special character escaping tags.\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    createHTMLNodeHook(tag, start) { return new HTMLNode(tag); }\r\n\r\n    processFetchHook(lexer, OPENED, IGNORE_TEXT_TILL_CLOSE_TAG, parent, url) {\r\n        let path = this.url.path,\r\n            CAN_FETCH = true;\r\n\r\n        //make sure URL is not already called by a parent.\r\n        while (parent) {\r\n            if (parent.url && parent.url.path == path) {\r\n                console.warn(`Preventing recursion on resource ${this.url.path}`);\r\n                CAN_FETCH = false;\r\n                break;\r\n            }\r\n            parent = parent.par;\r\n        }\r\n\r\n        if (CAN_FETCH) {\r\n            return this.url.fetchText().then((text) => {\r\n                let lexer = whind(text);\r\n                return this.parseRunner(lexer, true, IGNORE_TEXT_TILL_CLOSE_TAG, this, this.url);\r\n            }).catch((e) => {\r\n                console.error(e);\r\n            });\r\n        }\r\n        return null;\r\n    }\r\n\r\n    processAttributeHook(name, lex) { return {IGNORE:false, name, value: lex.slice() }; }\r\n    \r\n    processTextNodeHook(lex, IS_INNER_HTML) {\r\n        if (!IS_INNER_HTML)\r\n            return new TextNode(lex.trim().slice());\r\n        let txt = \"\";\r\n        /*\r\n        lex.IWS = true;\r\n\r\n        while (!lex.END) {\r\n            if (lex.ty == 8) {\r\n                txt += \" \";\r\n            } else if (lex.ty == 256) {} else {\r\n                txt += lex.tx;\r\n            }\r\n            lex.IWS = false;\r\n            lex.n;\r\n        }\r\n\r\n        if(!(lex.ty & (8 | 256)))\r\n            txt += lex.tx;\r\n        */\r\n        //if (txt.length > 0) {\r\n            \r\n            let t = lex.trim();\r\n             debugger   \r\n            if(t.string_length > 0)\r\n                return new TextNode(t.slice());\r\n            \r\n        //}\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n        Deep Clone of Element\r\n    */\r\n    clone(){\r\n        const clone = new this.constructor();\r\n\r\n        clone.tag = this.tag;\r\n\r\n        clone.parse(this.toString());\r\n\r\n        return clone;\r\n    }\r\n\r\n    build(parent) {\r\n        let ele = document.createElement(this.tag);\r\n\r\n        for (let i = 0, l = this.attributes.length; i < l; i++) {\r\n            let attr = this.attributes[i];\r\n            ele.setAttribute(attr.name, attr.value);\r\n        }\r\n        //let passing_element = ele;\r\n        let passing_element = (this.tag == \"template\") ? ele.content : ele;\r\n\r\n        for (let node = this.fch; node;\r\n            (node = this.getNextChild(node))) {\r\n            node.build(passing_element);\r\n        }\r\n\r\n        if (parent) parent.appendChild(ele);\r\n\r\n        return ele;\r\n    }\r\n}\r\n\r\n ll.mixinTree(HTMLNode);\r\n\r\n\r\n/**\r\n * Builds an HTML AST. \r\n * @function\r\n * @param {string} html_string - A string containing HTML data.\r\n * @param {string} css_string - An existing CSSRootNode to merge with new `selectors` and `rules`.\r\n * @return {Promise} Returns a `Promise` that will return a new or existing CSSRootNode.\r\n * @memberof module:wick.core\r\n * @alias html\r\n */\r\nconst HTMLParser = (html_string, root = null, url) => (root = (!root || !(root instanceof HTMLNode)) ? new HTMLNode() : root, root.parse(whind(html_string.replace(/\\&lt;/g, \"<\").replace(/\\&gt;/g, \">\"), url)));\r\n\r\nexport { HTMLNode, HTMLParser, TextNode };\r\n\r\nexport default HTMLParser;\r\n","// Mode Flag\r\nexport const KEEP = 0;\r\nexport const IMPORT = 1;\r\nexport const EXPORT = 2;\r\nexport const PUT = 4;\r\n\r\n/**\r\n * Gateway for data flow. Represents a single \"channel\" of data flow. \r\n * \r\n * By using different modes, one can control how data enters and exits the source context.\r\n * -`keep`: \r\n *  This mode is the default and treats any data on the channel as coming from the model. The model itself is not changed, and any data flow from outside the source context is ignored.\r\n * -`put`:\r\n *  This mode will update the model to reflect updates on the channel.\r\n * -`import`:\r\n *  This mode will allow data from outside the source context to enter the context as if it came from the model.\r\n *  -`export`:\r\n *  This mode will propagate data flow to the outer source context, allowing other sources to listen on the data flow of the originating source context.\r\n *  \r\n *  if `import` is active, then `keep` is implicitly inactive and the model no longer has any bearing on the value of the channel.\r\n */\r\nexport class Tap {\r\n\r\n    constructor(source, prop, modes = 0) {\r\n        this.source = source;\r\n        this.prop = prop;\r\n        this.modes = modes; // 0 implies keep\r\n        this.ios = [];\r\n\r\n        if (modes & IMPORT && source.parent)\r\n            source.parent.getTap(prop).ios.push(this);\r\n\r\n    }\r\n\r\n    destroy() {\r\n\r\n        for (let i = 0, l = this.ios.length; i < l; i++)\r\n            this.ios[i].destroy();\r\n\r\n        this.ios = null;\r\n        this.source = null;\r\n        this.prop = null;\r\n        this.modes = null;\r\n    }\r\n\r\n    load(data) {\r\n        this.downS(data);\r\n    }\r\n\r\n    down(value, meta) {\r\n        for (let i = 0, l = this.ios.length; i < l; i++) {\r\n            this.ios[i].down(value, meta);\r\n        }\r\n    }\r\n\r\n    downS(model, IMPORTED = false) {\r\n        const value = model[this.prop];\r\n\r\n        if (typeof(value) !== \"undefined\") {\r\n\r\n            if (IMPORTED) {\r\n                if (!(this.modes & IMPORT))\r\n                    return;\r\n\r\n                if ((this.modes & PUT) && typeof(value) !== \"function\") {\r\n                    this.source.model[this.prop] = value;\r\n                }\r\n\r\n            }\r\n\r\n            for (let i = 0, l = this.ios.length; i < l; i++) {\r\n                if (this.ios[i] instanceof Tap) {\r\n                    this.ios[i].downS(model, true);\r\n                } else\r\n                    this.ios[i].down(value);\r\n            }\r\n        }\r\n    }\r\n\r\n    up(value, meta) {\r\n\r\n        if (!(this.modes & (EXPORT | PUT)))\r\n            this.down(value, meta);\r\n\r\n        if ((this.modes & PUT) && typeof(value) !== \"undefined\") {\r\n            this.source.model[this.prop] = value;\r\n        }\r\n\r\n        if (this.modes & EXPORT)\r\n            this.source.up(this, value, meta);\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nexport class UpdateTap extends Tap {\r\n    downS(model) {\r\n        for (let i = 0, l = this.ios.length; i < l; i++)\r\n            this.ios[i].down(model);\r\n    }\r\n    up() {}\r\n}","import { Model } from \"../model/model\";\r\nimport { Tap, UpdateTap } from \"./tap/tap\";\r\nimport { View } from \"../view\";\r\n\r\n\r\nexport class Source extends View {\r\n\r\n    /**\r\n     *   In the Wick dynamic template system, Sources serve as the primary access to Model data. They, along with {@link SourceTemplate}s, are the only types of objects the directly _bind_ to a Model. When a Model is updated, the Source will transmit the updated data to their descendants, which are comprised of {@link Tap}s and {@link SourceTemplate}s.\r\n     *   A Source will also _bind_ to an HTML element. It has no methodes to update the element, but it's descendants, primarily instances of the {@link IO} class, can update attributes and values of then element and its sub-elements.\r\n     *   @param {Source} parent - The parent {@link Source}, used internally to build a hierarchy of Sources.\r\n     *   @param {Object} data - An object containing HTMLELement attribute values and any other values produced by the template parser.\r\n     *   @param {Presets} presets - An instance of the {@link Presets} object.\r\n     *   @param {HTMLElement} element - The HTMLElement the Source will _bind_ to.\r\n     *   @memberof module:wick~internals.source\r\n     *   @alias Source\r\n     *   @extends SourceBase\r\n     */\r\n    constructor(parent, presets, element, ast) {\r\n        super();\r\n\r\n        this.ast = null;\r\n\r\n        ast.setSource(this);\r\n        \r\n        /**\r\n         *@type {Boolean} \r\n         *@protected\r\n         */\r\n\r\n\r\n        this.parent = parent;\r\n        this.ele = element;\r\n        this.presets = presets;\r\n        this.model = null;\r\n        this.statics = null;\r\n\r\n        this.taps = {};\r\n        this.update_tap = null;\r\n        this.children = [];\r\n        this.sources = [];\r\n        this.badges = {};\r\n        this.ios = [];\r\n        this.templates = [];\r\n        this.hooks = [];\r\n\r\n        this._model_name_ = \"\";\r\n        this._schema_name_ = \"\";\r\n\r\n        this.DESTROYED = false;\r\n        this.LOADED = false;\r\n\r\n        this.addToParent();\r\n    }\r\n\r\n    destroy() {\r\n\r\n        this.DESTROYED = true;\r\n\r\n        this.update({ destroyed: true });\r\n\r\n        if (this.LOADED) {\r\n            this.LOADED = false;\r\n\r\n\r\n            let t = 0; //this.transitionOut();\r\n            /*\r\n            for (let i = 0, l = this.children.length; i < l; i++) {\r\n                let child = this.children[i];\r\n\r\n                t = Math.max(t, child.transitionOut());\r\n            }\r\n            */\r\n            if (t > 0)\r\n                return setTimeout(() => { this.destroy(); }, t * 1000 + 5);\r\n        }\r\n\r\n        if (this.parent && this.parent.removeSource)\r\n            this.parent.removeSource(this);\r\n        //this.finalizeTransitionOut();\r\n        this.children.forEach((c) => c.destroy());\r\n        this.children.length = 0;\r\n        this.data = null;\r\n\r\n        if (this.ele && this.ele.parentElement)\r\n            this.ele.parentElement.removeChild(this.ele);\r\n\r\n        this.ele = null;\r\n\r\n        for (let i = 0, l = this.sources.length; i < l; i++)\r\n            this.sources[i].destroy();\r\n\r\n\r\n        super.destroy();\r\n\r\n    }\r\n\r\n    getBadges(par) {\r\n        for (let a in this.badges) {\r\n            if (!par.badges[a])\r\n                par.badges[a] = this.badges[a];\r\n        }\r\n    }\r\n\r\n    addToParent() {\r\n        if (this.parent)\r\n            this.parent.sources.push(this);\r\n    }\r\n\r\n    addTemplate(template) {\r\n        template.parent = this;\r\n        this.templates.push(template);\r\n    }\r\n\r\n    addSource(source) {\r\n        if (source.parent == this)\r\n            return;\r\n        source.parent = this;\r\n        this.sources.push(source);\r\n    }\r\n\r\n    removeSource(source) {\r\n        if (source.parent !== this)\r\n            return;\r\n\r\n        for (let i = 0; i < this.sources.length; i++)\r\n            if (this.sources[i] == source)\r\n                return (this.sources.splice(i, 1), source.parent = null);\r\n    }\r\n\r\n    removeIO(io) {\r\n        for (let i = 0; i < this.ios.length; i++)\r\n            if (this.ios[i] == io)\r\n                return (this.ios.splice(i, 1), io.parent = null);\r\n    }\r\n\r\n    getTap(name) {\r\n        let tap = this.taps[name];\r\n\r\n        if (!tap) {\r\n            if (name == \"update\")\r\n                this.update_tap = new UpdateTap(this, name);\r\n            else\r\n                tap = this.taps[name] = new Tap(this, name);\r\n        }\r\n        return tap;\r\n    }\r\n\r\n    /**\r\n     * Return an array of Tap objects that\r\n     * match the input array.\r\n     */\r\n\r\n    linkTaps(tap_list) {\r\n        let out_taps = [];\r\n        for (let i = 0, l = tap_list.length; i < l; i++) {\r\n            let tap = tap_list[i];\r\n            let name = tap.name;\r\n            if (this.taps[name])\r\n                out_taps.push(this.taps[name]);\r\n            else {\r\n                let bool = name == \"update\";\r\n                let t = bool ? new UpdateTap(this, name, tap.modes) : new Tap(this, name, tap.modes);\r\n\r\n                if (bool)\r\n                    this.update_tap = t;\r\n\r\n                this.taps[name] = t;\r\n                out_taps.push(this.taps[name]);\r\n            }\r\n        }\r\n\r\n        return out_taps;\r\n    }\r\n\r\n    /**\r\n        Makes the source a view of the given Model. If no model passed, then the source will bind to another model depending on its `scheme` or `model` attributes. \r\n    */\r\n    load(model) {\r\n        let m = null, s = null;\r\n\r\n      if(this.presets.models)\r\n            m = this.presets.models[this._model_name_];\r\n        if(this.presets.schemas)\r\n            s = this.presets.schemas[this._schema_name_];\r\n        \r\n        if (m)\r\n            model = m;\r\n        else if (s) {\r\n            model = new s();\r\n        } else if (!model)\r\n            model = new Model(model);\r\n\r\n        let LOADED = this.LOADED;\r\n\r\n        this.LOADED = true;\r\n\r\n        for (let i = 0, l = this.sources.length; i < l; i++) {\r\n            this.sources[i].load(model);\r\n            this.sources[i].getBadges(this);\r\n        }\r\n\r\n        model.addView(this);\r\n\r\n        for (let name in this.taps)\r\n            this.taps[name].load(this.model, false);\r\n\r\n        if(!LOADED)\r\n            this.update({ created: true });\r\n    }\r\n\r\n    down(data, changed_values) {\r\n        this.update(data, changed_values, true);\r\n    }\r\n\r\n    up(tap, data, meta) {\r\n        if (this.parent)\r\n            this.parent.upImport(tap.prop, data, meta, this);\r\n    }\r\n\r\n    upImport(prop_name, data, meta) {\r\n        if (this.taps[prop_name])\r\n            this.taps[prop_name].up(data, meta);\r\n    }\r\n\r\n    update(data, changed_values, IMPORTED = false) {\r\n\r\n        if (this.update_tap)\r\n            this.update_tap.downS(data, IMPORTED);\r\n\r\n        if (changed_values) {\r\n\r\n            for (let name in changed_values)\r\n                if (this.taps[name])\r\n                    this.taps[name].downS(data, IMPORTED);\r\n        } else\r\n            for (let name in this.taps)\r\n                this.taps[name].downS(data, IMPORTED);\r\n\r\n        //        for (let i = 0, l = this.sources.length; i < l; i++)\r\n        //            this.sources[i].down(data, changed_values);\r\n\r\n        for (let i = 0, l = this.templates.length; i < l; i++)\r\n            this.templates[i].down(data, changed_values);\r\n    }\r\n\r\n    transitionIn(transition) {\r\n\r\n        if (this.taps.trs_in)\r\n            this.taps.trs_in.downS(transition);\r\n\r\n        for (let i = 0, l = this.sources.length; i < l; i++)\r\n            this.sources[i].transitionIn(transition);\r\n\r\n        for (let i = 0, l = this.templates.length; i < l; i++)\r\n            this.templates[i].transitionIn(transition);\r\n    }\r\n\r\n    transitionOut(transition) {\r\n        if (this.taps.trs_out)\r\n            this.taps.trs_out.downS(transition);\r\n\r\n        for (let i = 0, l = this.sources.length; i < l; i++)\r\n            this.sources[i].transitionOut(transition);\r\n\r\n\r\n        for (let i = 0, l = this.templates.length; i < l; i++)\r\n            this.templates[i].transitionOut(transition);\r\n    }\r\n\r\n    bubbleLink(child) {\r\n        if (child)\r\n            for (let a in child.badges)\r\n                this.badges[a] = child.badges[a];\r\n        if (this.parent)\r\n            this.parent.bubbleLink(this);\r\n    }\r\n}","import spark from \"@candlefw/spark\";\r\n\r\nexport class IOBase {\r\n\r\n    constructor(parent) {\r\n        parent.ios.push(this);\r\n        this.parent = parent;\r\n    }\r\n\r\n    destroy() {\r\n        this.parent.removeIO(this);\r\n        this.parent = null;\r\n    }\r\n\r\n    down() {}\r\n    up(value, meta) { this.parent.up(value, meta); }\r\n}\r\n\r\n/**\r\n *   The IO is the last link in the Source chain. It is responsible for putting date into the DOM through the element it binds to. Alternativly, in derived versions of `IO`, it is responsible for retriving values from user inputs from input elements and events.\r\n *   @param {Source} tap - The tap {@link Source}, used internally to build a hierarchy of Sources.\r\n *   @param {Object} data - An object containing HTMLELement attribute values and any other values produced by the template parser.\r\n *   @param {Presets} presets - An instance of the {@link Presets} object.\r\n *   @param {HTMLElement} element - The HTMLElement that the IO will _bind_ to.\r\n *   @memberof module:wick.core.source\r\n *   @alias IO\r\n *   @extends IOBase\r\n */\r\nexport class IO extends IOBase {\r\n\r\n    constructor(source, errors, tap, element = null) {\r\n        super(tap);\r\n        //Appending the value to a text node prevents abuse from insertion of malicious DOM markup. \r\n        this.ele = element;\r\n    }\r\n\r\n    destroy() {\r\n        this.ele = null;\r\n        super.destroy();\r\n    }\r\n\r\n    down(value) {\r\n        this.ele.data = value;\r\n    }\r\n}\r\n\r\n/**\r\n    This IO object will update the attribute value of the watched element, using the \"prop\" property to select the attribute to update.\r\n*/\r\nexport class AttribIO extends IOBase {\r\n    constructor(source, errors, tap, attr, element) {\r\n        super(tap);\r\n\r\n        this.attrib = attr;\r\n        this.ele = element;\r\n    }\r\n\r\n    destroy() {\r\n        this.ele = null;\r\n        this.attrib = null;\r\n        super.destroy();\r\n    }\r\n\r\n    /**\r\n        Puts data into the watched element's attribute. The default action is to simply update the attribute with data._value_.  \r\n    */\r\n    down(value) {\r\n        this.ele.setAttribute(this.attrib, value);\r\n    }\r\n}\r\n\r\nexport class InputIO extends IOBase {\r\n\r\n    constructor(source, errors, tap, element) {\r\n\r\n        super(tap);\r\n\r\n        this.ele = element;\r\n\r\n        this.event = (e) => { this.parent.up(e.target.value, { event: e }); };\r\n\r\n        this.ele.addEventListener(\"input\", this.event);\r\n    }\r\n\r\n    destroy() {\r\n        this.ele.removeEventListener(\"input\", this.event);\r\n        this.ele = null;\r\n        this.event = null;\r\n        this.attrib = null;\r\n    }\r\n\r\n    down(value) {\r\n        this.ele.value = value;\r\n    }\r\n}\r\n\r\nexport class BindIO extends IOBase {\r\n\r\n    constructor(source, errors, tap) {\r\n        super(tap);\r\n        this._value_ = null;\r\n        this.child = null;\r\n    }\r\n\r\n    destroy() {\r\n        this._value_ = null;\r\n        if (this.child) this.child.destroy();\r\n        this.child = null;\r\n        super.destroy();\r\n    }\r\n\r\n    /**\r\n        Puts data into the watched element's attribute. The default action is to simply update the attribute with data._value_.  \r\n    */\r\n    down(value) {\r\n        this._value_ = value;\r\n        this.child.down();\r\n    }\r\n}\r\n\r\nexport class TemplateString extends IOBase {\r\n\r\n    constructor(source, errors, taps, element, binds) {\r\n\r\n        super(source);\r\n        this._SCHD_ = 0;\r\n        this.binds = [];\r\n        this.ele = element;\r\n        this._setBindings_(source, errors, taps, binds);\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.binds.length; i++)\r\n            this.binds[i].destroy();\r\n        this._SCHD_ = 0;\r\n        this.binds = null;\r\n        this.ele = null;\r\n        super.destroy();\r\n    }\r\n\r\n    _setBindings_(source, errors, taps, binds) {\r\n        for (var i = 0; i < binds.length; i++) {\r\n            let bind = binds[i];\r\n\r\n            switch (bind.type) {\r\n                case 0: //DYNAMICbindingID\r\n                    let new_bind = new BindIO(source, errors, source.getTap(bind.tap_name), bind);\r\n                    this.binds.push(new_bind);\r\n                    new_bind.child = this;\r\n                    //this.binds.push(msg._bind_(source, errors, taps, this));\r\n                    break;\r\n                case 1: //RAW_VALUEbindingID\r\n                    this.binds.push(bind);\r\n                    break;\r\n                case 2: //TEMPLATEbindingID\r\n                    if (bind.bindings.length < 1) // Just a variable less expression.\r\n                        this.binds.push({ _value_: msg.func() });\r\n                    else\r\n                        this.binds.push(bind._bind_(source, errors, taps, this));\r\n                    break;\r\n            }\r\n        }\r\n        this.down();\r\n    }\r\n\r\n    get data() {}\r\n    set data(v) { spark.queueUpdate(this); }\r\n\r\n    down() {\r\n        spark.queueUpdate(this);\r\n    }\r\n\r\n    scheduledUpdate() {\r\n\r\n        let str = [];\r\n\r\n        for (let i = 0; i < this.binds.length; i++)\r\n            str.push(this.binds[i]._value_);\r\n\r\n        this.ele.data = str.join('');\r\n    }\r\n}\r\n\r\nexport class AttribTemplate extends TemplateString {\r\n\r\n    constructor(source, errors, taps, attr, element, binds) {\r\n        super(source, errors, taps, element, binds);\r\n        this.attrib = attr;\r\n    }\r\n\r\n    destroy() {\r\n        this.attrib = null;\r\n        super.destroy();\r\n    }\r\n\r\n    scheduledUpdate() {\r\n\r\n        let str = [];\r\n\r\n        for (let i = 0; i < this.binds.length; i++)\r\n            str.push(this.binds[i]._value_);\r\n\r\n        this.ele.setAttribute(this.attrib, str.join(''));\r\n    }\r\n}","import spark from \"@candlefw/spark\";\r\nimport { IOBase, BindIO } from \"./io\";\r\n\r\nfunction replaceString(e){\r\n    return e[1].toUpperCase();\r\n}\r\n\r\nfunction toCamel(string){\r\n    let str = string.replace(/(?:[-_])([a-z])/g, replaceString);\r\n    return str;\r\n}\r\nexport class CSSRawValue {\r\n\r\n    constructor(name, prop = null) {\r\n        this._name_ = toCamel(name);\r\n        this._value_ = \"\";\r\n\r\n        if (Array.isArray(prop))\r\n            this._value_ = prop.join(\" \");\r\n        else\r\n            this._value_ = prop.toString();\r\n    }\r\n\r\n    get UPDATED() { return false; }\r\n    set UPDATED(v) {}\r\n}\r\n\r\nexport class CSSRuleTemplateString {\r\n    constructor(source, errors, taps, binds, name) {\r\n        this.binds = [];\r\n        this._setBindings_(source, errors, taps, binds);\r\n        this.ios = [];\r\n        this._value_ = \"\";\r\n        this._name_ = toCamel(name);\r\n    }\r\n\r\n    destroy() {\r\n        for (let i = 0, l = this.binds.length; i < l; i++)\r\n            this.binds[i].destroy();\r\n        this.binds = null;\r\n        for (let i = 0; i < this.ios.length; i++)\r\n            this.ios[i].destroy();\r\n        this.ios = null;\r\n        this._value_ = null;\r\n        this._name_ = null;\r\n    }\r\n\r\n    _setBindings_(source, errors, taps, binds) {\r\n        for (var i = 0; i < binds.length; i++) {\r\n            let bind = binds[i];\r\n\r\n            switch (bind.type) {\r\n                case 0: //DYNAMICbindingID\r\n                    let new_bind = new BindIO(source, errors, source.getTap(bind.tap_name), bind)\r\n                    this.binds.push(new_bind);\r\n                    new_bind.child = this;\r\n                    //this.binds.push(msg._bind_(source, errors, taps, this));\r\n                    break;\r\n                case 1: //RAW_VALUEbindingID\r\n                    this.binds.push(bind);\r\n                    break;\r\n                case 2: //TEMPLATEbindingID\r\n                    if (bind.bindings.length < 1) // Just a variable less expression.\r\n                        this.binds.push({ _value_: msg.func() });\r\n                    else\r\n                        this.binds.push(bind._bind_(source, errors, taps, this));\r\n                    break;\r\n            }\r\n        }\r\n        this.down();\r\n    }\r\n\r\n    get data() {}\r\n    set data(v) { spark.queueUpdate(this); }\r\n\r\n    down() { spark.queueUpdate(this); }\r\n\r\n    scheduledUpdate() {\r\n\r\n        let str = [];\r\n\r\n        for (let i = 0; i < this.binds.length; i++)\r\n            str.push(this.binds[i]._value_);\r\n        this._value_ = str.join(' ');\r\n        for (let i = 0, l = this.ios.length; i < l; i++)\r\n            this.ios[i]._updateRule_();\r\n    }\r\n\r\n    addIO(io) { this.ios.push(io); }\r\n    removeIO(io) {\r\n        for (let i = 0; i < this.ios.length; i++) {\r\n            let own_io = this.ios[i];\r\n            if (own_io == io) return void this.ios.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class StyleIO extends IOBase {\r\n    constructor(source, errors, taps, element, props = []) {\r\n\r\n        super(source);\r\n\r\n        this.ele = element;\r\n\r\n        this.props = [];\r\n\r\n        this._initializeProps_(source, errors, taps, props);\r\n\r\n        this.scheduledUpdate();\r\n    }\r\n\r\n    destroy() {\r\n        this._template_text_ = null;\r\n        this._rules_text_ = null;\r\n        this.ele = null;\r\n        this.props = null;\r\n        super.destroy();\r\n    }\r\n\r\n    _setRule_(rule){\r\n        let props = rule.props;\r\n\r\n        this.props.length = 0;\r\n\r\n        for (let name in props) {\r\n            let prop = props[name];\r\n\r\n            let wick_prop = (prop._wick_type_ > 0) ? prop.bind(this.parent, [], {}, this) : new CSSRawValue(name, prop);\r\n\r\n            this.props.push(wick_prop);\r\n\r\n            spark.queueUpdate(this);\r\n        }\r\n    }\r\n\r\n    _initializeProps_(source, errors, taps, props) {\r\n\r\n        for (let i = 0, l = props.length; i < l; i++) {\r\n            let prop = props[i];\r\n            if (prop._wick_type_ == 1) {\r\n                this.props.push(props[i]._bind_(source, errors, taps, this));\r\n            } else\r\n                this.props.push(prop);\r\n        }\r\n    }\r\n\r\n    _updateRule_() { spark.queueUpdate(this); }\r\n\r\n    get data() {}\r\n    set data(data) { spark.queueUpdate(this); }\r\n\r\n    scheduledUpdate() {\r\n        for (let i = 0; i < this.props.length; i++) {\r\n            let prop = this.props[i];\r\n            this.ele.style[prop._name_] = prop._value_;\r\n        }\r\n    }\r\n}","import { TemplateString } from \"./io\";\r\n\r\n/******************** Expressions **********************/\r\n\r\nexport class ExpressionIO extends TemplateString {\r\n\r\n    constructor(source, errors, taps, element, binds, func) {\r\n        \r\n        super(source, errors, taps, element, binds);\r\n        this._expr_function_ = func;\r\n        this._value_ = null;\r\n        this._filter_expression_ = null;\r\n        this._bl_ = this.binds.length;\r\n    }\r\n\r\n    destroy(){\r\n        this._expr_function_ = null;\r\n        this._value_ = null;\r\n        this._filter_expression_ = null;\r\n        this._bl_ = null;\r\n        super.destroy();\r\n    }\r\n\r\n    set _IS_A_FILTER_(v) {\r\n        if (v == true) {\r\n            var model_arg_index = -1;\r\n            var index_arg_index = -1;\r\n\r\n            for (let i = 0, l = this._bl_; i < l; i++) {\r\n                let bind = this.binds[i];\r\n                if (bind.parent.prop == \"model\" || bind.parent.prop == \"m\") {\r\n                    model_arg_index = i;\r\n                }\r\n\r\n                if (bind.parent.prop == \"index\" || bind.parent.prop == \"i\") {\r\n                    index_arg_index = i;\r\n                }\r\n            }\r\n\r\n            this._filter_expression_ = (source, index) => {\r\n                const args = [];\r\n                \r\n                for (let i = 0, l = this._bl_; i < l; i++) {\r\n                    if (i == model_arg_index) { args.push(source.model); continue; }\r\n                    if (i == index_arg_index) { args.push(index); continue; }\r\n                    args.push(this.binds[i]._value_);\r\n                }\r\n\r\n                return this._expr_function_.apply(null, args);\r\n            };\r\n        }\r\n    }\r\n\r\n    get _IS_A_FILTER_() { return typeof(this._filter_expression_) == \"function\"; }\r\n\r\n    scheduledUpdate() {\r\n        if (this._IS_A_FILTER_) {\r\n            this.ele.update();\r\n        } else {\r\n            \r\n            const args = [];\r\n\r\n            for (let i = 0; i < this.binds.length; i++){\r\n                if(this.binds[i]._value_ === null) return;\r\n                args.push(this.binds[i]._value_);\r\n            }\r\n            \r\n            this._value_ = this._expr_function_.apply(null, args);\r\n            this.ele.data = this._value_;\r\n        }\r\n    }\r\n}\r\n\r\nexport class InputExpresionIO extends ExpressionIO{\r\n    scheduledUpdate() {\r\n        if (this._IS_A_FILTER_) {\r\n            this.ele.update();\r\n        } else {\r\n            const args = [];\r\n            for (let i = 0; i < this.binds.length; i++)\r\n                args.push(this.binds[i]._value_);\r\n\r\n            this._value_ = this._expr_function_.apply(null, args);\r\n            this.ele.value = this._value_;\r\n        }\r\n    }\r\n}","import { IOBase } from \"./io\";\r\n\r\nexport class EventIO {\r\n    constructor(source, errors, taps, element, event, event_bind, msg) {\r\n\r\n        let Attrib_Watch = (typeof element[event] == \"undefined\");\r\n\r\n        this.parent = source;\r\n        source.ios.push(this);\r\n\r\n        this._ele_ = element;\r\n        this._event_bind_ = new IOBase(source.getTap(event_bind.tap_name));\r\n        this._event_ = event.replace(\"on\", \"\");\r\n\r\n        this.prevent_defaults = false;\r\n        if (this._event_ == \"dragstart\") this.prevent_defaults = false;\r\n        this._msg_ = null;\r\n        this.data = null;\r\n        if (msg) {\r\n            switch (msg.type) {\r\n                case 0: //DYNAMICbindingID\r\n                    this._msg_ = msg._bind_(source, errors, taps, this);\r\n                    break;\r\n                case 1: //RAW_VALUEbindingID\r\n                    this.data = msg.txt;\r\n                    break;\r\n                case 2: //TEMPLATEbindingID\r\n                    if (msg.bindings.length < 1) // Just a variable less expression.\r\n                        this.data = msg.func();\r\n                    else\r\n                        this._msg_ = msg._bind_(source, errors, taps, this);\r\n                    break;\r\n            }\r\n        }\r\n\r\n\r\n        if (Attrib_Watch) {\r\n            this._event_handle_ = new MutationObserver((ml) => {\r\n                ml.forEach((m) => {\r\n                    if (m.type == \"attributes\") {\r\n                        if (m.attributeName == event) {\r\n                            this._handleAttribUpdate_(m);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            this._event_handle_.observe(this._ele_, { attributes: true });\r\n        } else {\r\n            this._event_handle_ = (e) => this._handleEvent_(e);\r\n            this._ele_.addEventListener(this._event_, this._event_handle_);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes all references to other objects.\r\n     * Calls destroy on any child objects.\r\n     */\r\n    destroy() {\r\n        if (this._msg_)\r\n            this._msg_.destroy();\r\n        this._event_handle_ = null;\r\n        this._event_bind_.destroy();\r\n        this._msg_ = null;\r\n        this._ele_.removeEventListener(this._event_, this._event_handle_);\r\n        this._ele_ = null;\r\n        this._event_ = null;\r\n        this.parent.removeIO(this);\r\n        this.parent = null;\r\n        this.data = null;\r\n    }\r\n\r\n    _handleEvent_(e) {\r\n        this._event_bind_.up(this.data, { event: e });\r\n\r\n        if (this.prevent_defaults) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            e.stopImmediatePropagation();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    _handleAttribUpdate_(e) {\r\n        this._event_bind_.up(e.target.getAttribute(e.attributeName), { mutation: e });\r\n    }\r\n}","import { IOBase } from \"./io\";\r\n\r\nexport class ScriptIO extends IOBase {\r\n    constructor(source, errors, tap, binding) {\r\n\r\n        let func;\r\n\r\n        try {\r\n            if (binding._func_) {\r\n                func = binding._func_;\r\n            } else {\r\n                func = Function(binding.tap_name, \"event\", \"model\", \"emit\", \"presets\", \"static\", \"src\", binding.val).bind(source);\r\n                binding._func_ = func;\r\n            }\r\n        } catch (e) {\r\n            errors.push(e);\r\n            func = () => {};\r\n        }\r\n\r\n        super(tap);\r\n\r\n        this.function = binding.val;\r\n        this._func_ = func;\r\n        this.source = source;\r\n        this._bound_emit_function_ = new Proxy(this._emit_.bind(this), { set: (obj, name, value) => { obj(name, value); } });\r\n        this.meta = null;\r\n    }\r\n\r\n    /**\r\n     * Removes all references to other objects.\r\n     * Calls destroy on any child objects.\r\n     */\r\n    destroy() {\r\n        this._func_ = null;\r\n        this.source = null;\r\n        this._bound_emit_function_ = null;\r\n        this._meta = null;\r\n\r\n    }\r\n\r\n    down(value, meta = { event: null }) {\r\n        this.meta = meta;\r\n        const src = this.source;\r\n        try {\r\n            this._func_(value, meta.event, src.model, this._bound_emit_function_, src.presets, src.statics, src);\r\n        } catch (e) {\r\n            console.warn(this.function);\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    _emit_(name, value) {\r\n        if (\r\n            typeof(name) !== \"undefined\" &&\r\n            typeof(value) !== \"undefined\"\r\n        ) {\r\n            this.source.upImport(name, value, this.meta);\r\n        }\r\n    }\r\n}","import { ExpressionIO, InputExpresionIO } from \"../../io/expression_io\";\r\nimport { EventIO } from \"../../io/event_io\";\r\nimport { ScriptIO } from \"../../io/script_io\";\r\nimport { IO, AttribIO, InputIO } from \"../../io/io\";\r\n\r\nexport const DYNAMICbindingID = 0;\r\nexport const RAW_VALUEbindingID = 1;\r\nexport const TEMPLATEbindingID = 2;\r\nexport const EVENTbindingID = 3;\r\n\r\nexport const ATTRIB = 1;\r\nexport const STYLE = 2;\r\nexport const HTML = 3;\r\nexport const TEXT = 4;\r\nexport const INPUT = 5;\r\nexport const SCRIPT = 6;\r\nexport const EVENT = 7;\r\n\r\n/**\r\n * Binding builder for expressions\r\n *\r\n * @class      ExpressionBinding (name)\r\n */\r\nexport class EventBinding {\r\n    constructor(prop) {\r\n        this.bind = null;\r\n        this._event_ = prop;\r\n    }\r\n\r\n    _bind_(source, errors, taps, element, eventname) {\r\n        return new EventIO(source, errors, taps, element, eventname, this._event_, this.bind);\r\n    }\r\n\r\n    get bindings() {\r\n        if (this.bind) {\r\n            if (this.bind.type == TEMPLATEbindingID)\r\n                return [...this.bind.bindings, this._event_];\r\n            else\r\n                return [this.bind, this._event_];\r\n        }\r\n        return [this._event_];\r\n    }\r\n    set bindings(v) {}\r\n\r\n    get type() {\r\n        return TEMPLATEbindingID;\r\n    }\r\n    set type(v) {}\r\n}\r\n\r\n/**\r\n * Binding builder for expressions\r\n *\r\n * @class      ExpressionBinding (name)\r\n */\r\nexport class ExpressionBinding {\r\n    constructor(binds, func) {\r\n        this.bindings = binds;\r\n        this.func = func;\r\n    }\r\n\r\n    _bind_(source, errors, taps, element) {\r\n        \r\n        switch (this.method) {\r\n            case INPUT:\r\n                return new InputExpresionIO(source, errors, taps, element, this.bindings, this.func);\r\n            default:\r\n                return new ExpressionIO(source, errors, taps, element, this.bindings, this.func);\r\n        }\r\n    }\r\n\r\n    get type() {\r\n        return TEMPLATEbindingID;\r\n    }\r\n    set type(v) {}\r\n}\r\n\r\n\r\nexport class DynamicBinding {\r\n\r\n    constructor() {\r\n        this.tap_name = \"\";\r\n        this.tap_id = 0;\r\n        this.val = \"\";\r\n        this._func_ = null;\r\n        this.method = 0;\r\n    }\r\n\r\n    _bind_(source, errors, taps, element) {\r\n        let tap = source.getTap(this.tap_name); //taps[this.tap_id];\r\n        switch (this.method) {\r\n            case INPUT:\r\n                return new InputIO(source, errors, tap, element);\r\n            case ATTRIB:\r\n                return new AttribIO(source, errors, tap, this.val, element);\r\n            case SCRIPT:\r\n                return new ScriptIO(source, errors, tap, this);\r\n            default:\r\n                return new IO(source, errors, tap, element);\r\n        }\r\n    }\r\n\r\n    get type() {\r\n        return DYNAMICbindingID;\r\n    }\r\n    set type(v) {}\r\n\r\n    toString(){return `((${this.tap_name}))`;}\r\n}\r\n\r\nexport class RawValueBinding {\r\n    constructor(txt) {\r\n        this.txt = txt;\r\n        this.method = 0;\r\n    }\r\n\r\n    _bind_(source, errors, taps, element, prop = \"\") {\r\n\r\n        switch (this.method) {\r\n            case TEXT:\r\n                element.data = this.txt;\r\n                break;\r\n            case ATTRIB:{\r\n                if(prop == \"class\"){\r\n                    element.classList.add.apply(element.classList, this.txt.split(\" \"));\r\n                }else\r\n                    element.setAttribute(prop, this.txt);\r\n            }\r\n        }\r\n    }\r\n    get _value_() { return this.txt; }\r\n    set _value_(v) {}\r\n    get type() { return RAW_VALUEbindingID; }\r\n    set type(v) {}\r\n    toString(){return this.txt;}\r\n}","/**\r\n * Basic JS Parser Kludge to get legitimate foreign identifiers from expressions.\r\n * This could later be expanded into a full JS parser to generate proper JS ASTs.\r\n * @class      JSExpressionIdentifiers \r\n * @param      {Lexer}  lex     The lex\r\n * @return     {Object}  { description_of_the_return_value }\r\n */\r\nexport function JSExpressionIdentifiers(lex) {\r\n    let _identifiers_ = [];\r\n    let model_cache = {};\r\n\r\n    let IN_OBJ = false,\r\n        CAN_BE_ID = true;\r\n    while (!lex.END) {\r\n        \r\n        switch (lex.ty) {\r\n            case lex.types.id:\r\n                if (!IN_OBJ || CAN_BE_ID) {\r\n                    let id = lex.tx;\r\n                    if (!model_cache[id]) {\r\n                        _identifiers_.push(lex.tx);\r\n                        model_cache[id] = true;\r\n                    }\r\n                }   \r\n                break;\r\n            case lex.types.op:\r\n            case lex.types.sym:\r\n            case lex.types.ob:\r\n            case lex.types.cb:\r\n                switch (lex.ch) {\r\n                    case \"+\":\r\n                    case \">\":\r\n                    case \"<\":\r\n                    case \"/\":\r\n                    case \"*\":\r\n                    case \"-\":\r\n                        CAN_BE_ID = true;\r\n                        break;\r\n                    case \"[\":\r\n                        IN_OBJ = false;\r\n                        CAN_BE_ID = true;\r\n                        break;\r\n                    case \"{\":\r\n                    case \".\": //Property Getters\r\n                        CAN_BE_ID = false;\r\n                        IN_OBJ = true;\r\n                        break;\r\n                    case \"]\":\r\n                    case \";\":\r\n                    case \"=\":\r\n                    case \"}\":\r\n                    case \"(\":\r\n                        IN_OBJ = false;\r\n                        break;\r\n                    case \",\":\r\n                        if (IN_OBJ)\r\n                            CAN_BE_ID = false;\r\n                        else\r\n                            IN_OBJ = false;\r\n                        break;\r\n                    case \":\":\r\n                    case \"=\":\r\n                        CAN_BE_ID = true;\r\n                }\r\n                break;\r\n        }\r\n        lex.n;\r\n    }\r\n\r\n\r\n    return _identifiers_;\r\n}","/* Templating Syntax */\r\nexport const barrier_a_start = \"(\";\r\nexport const barrier_a_end = \")\";\r\nexport const barrier_b_start = \"|\";\r\nexport const barrier_b_end = \"|\";\r\n","import { JSExpressionIdentifiers } from \"../../../js\";\r\nimport { RawValueBinding, EventBinding, ExpressionBinding, DynamicBinding, } from \"./basic_bindings\";\r\nimport {barrier_a_start,barrier_a_end,barrier_b_start,barrier_b_end } from \"../../../barriers\";\r\nconst BannedIdentifiers = { \"true\": true, \"false\": 1, \"class\": 1, \"function\": 1,  \"return\": 1, \"for\" : 1, \"new\" : 1, \"let\" : 1, \"var\" : 1, \"const\" : 1, \"Date\": 1, \"null\": 1, \"parseFloat\":1, \"parseInt\":1};\r\n\r\nfunction setIdentifier(id, store, cache) {\r\n    if (!cache[id] && !BannedIdentifiers[id]) {\r\n        store.push(id);\r\n        cache[id] = true;\r\n    }\r\n}\r\n\r\nfunction processExpression(lex, binds) {\r\n\r\n    /* \r\n     * The token after the second sentinel does not cover the entire bind range.\r\n     * So the text with in the bind range should be a multi token token JS expression. \r\n     * We should extract all identifiers and use them to create bind points for an ExpressionIO.\r\n     * \r\n     * The expression should work with a function return statement, as in:\r\n     * ```javasript\r\n     * \"return (implied)\" name ? \"User has a name!\" : \"User does not have a name!\"\r\n     * ```\r\n     */\r\n     \r\n    const bind_ids = [];\r\n\r\n    const function_string = lex.slice();\r\n\r\n    const existing_names = {};\r\n\r\n    /**TODO? - This could be replaced by a plugin to ensure proper Javascript expressions. Perhaps producing a JS AST */\r\n    let args = JSExpressionIdentifiers(lex);\r\n\r\n\r\n    for (let i = 0, l = args.length; i < l; i++)\r\n        setIdentifier(args[i], bind_ids, existing_names);\r\n\r\n    bind_ids.push(`return ${function_string}`);\r\n\r\n    let funct = (Function).apply(null, bind_ids);\r\n\r\n    const bindings = [];\r\n\r\n    for (let i = 0, l = bind_ids.length - 1; i < l; i++) {\r\n        let binding = new DynamicBinding();\r\n        binding.tap_name = bind_ids[i];\r\n        bindings.push(binding);\r\n    }\r\n\r\n    binds.push(new ExpressionBinding(bindings, funct));\r\n}\r\n\r\n/**\r\n * { function_description }\r\n * @memberof   module:wick~internals.compiler\r\n * @param      {Lexer}  lex     The lex\r\n * @return     {Array}   an\r\n */\r\nexport function evaluate(lex, EVENT = false) {\r\n\r\n    let binds = [];\r\n\r\n\r\n    lex.IWS = false;\r\n\r\n    let start = lex.pos;\r\n    while (!lex.END && lex.ty !== lex.types.str) {\r\n        switch (lex.ch) {\r\n            case barrier_a_start:\r\n                if (lex.pk.ch == barrier_b_start || lex.p.ch == barrier_a_start) {\r\n\r\n                    let sentinel = (lex.p.ch == barrier_a_start) ? barrier_a_end : barrier_b_end;\r\n\r\n                    let pk2 = lex.p.pk;\r\n\r\n\r\n                    if (pk2.ch == barrier_b_start) {\r\n                        sentinel = barrier_b_end;\r\n                        if (start < lex.p.pos)\r\n                            binds.push(new RawValueBinding(lex.p.slice(start)));\r\n\r\n                        lex.p.sync();\r\n                    } else if (start < lex.pos) {\r\n\r\n                        binds.push(new RawValueBinding(lex.slice(start)));\r\n                    } //create text node\r\n\r\n\r\n                    lex.sync().n;\r\n                    lex.IWS = true; // Do not produce white space tokens during this portion.\r\n                    let pk = lex.pk;\r\n                    let Message= false;\r\n\r\n\r\n                    while (!pk.END && (pk.ch !== sentinel || (pk.pk.ch !== barrier_a_end && pk.p.ch !== barrier_a_start) || (pk.p.n.ch === barrier_a_end))) { \r\n                        let prev = pk.ch;\r\n                        pk.n; \r\n                        if(pk.ch == barrier_a_start && prev == barrier_a_end)\r\n                            Message =true;\r\n                    }\r\n\r\n\r\n                    if (lex.tl < pk.off - lex.off - 1 && !Message) {\r\n                        /***** Start Expression *******/\r\n\r\n                        const elex = lex.copy(); //The expression Lexer\r\n\r\n                        elex.fence(pk);\r\n\r\n                        lex.sync();\r\n\r\n                        if (pk.END) //Should still have `))` or `|)` in the input string\r\n                            throw new Error(\"Should be more to this!\");\r\n\r\n                        processExpression(elex, binds);\r\n\r\n                        lex.a(sentinel);\r\n                        /***** End Expression ********/\r\n                    } else {\r\n\r\n                        /************************** Start Single Identifier Binding *******************************/\r\n                        let id = lex.tx;\r\n                        let binding = new DynamicBinding();\r\n                        binding.tap_name = id;\r\n                        let index = binds.push(binding) - 1;\r\n                        lex.n.a(sentinel);\r\n\r\n                        if (EVENT) {\r\n                            /***************************** Looking for Event Bindings ******************************************/\r\n                            \r\n                            if (lex.ch == barrier_a_start || lex.ch == barrier_b_start) {\r\n\r\n                                binds[index] = new EventBinding(binds[index]);\r\n\r\n                                let sentinel = (lex.ch == barrier_a_start) ? barrier_a_end : barrier_b_end;\r\n\r\n                                lex.IWS = true; // Do not produce white space tokens during this portion.\r\n\r\n                                let pk = lex.pk;\r\n\r\n                                while (!pk.END && (pk.ch !== sentinel || (pk.pk.ch !== barrier_a_end))) { pk.n; }\r\n\r\n                                lex.n;\r\n\r\n                                if (lex.tl < pk.off - lex.off || BannedIdentifiers[lex.tx]) {\r\n\r\n                                    const elex = lex.copy(); //The expression Lexer\r\n\r\n                                    elex.fence(pk);\r\n\r\n                                    lex.sync();\r\n\r\n                                    if (pk.END) //Should still have `))` or `|)` in the input string\r\n                                        throw new Error(\"Should be more to this!\");\r\n\r\n                                    const event_binds = [];\r\n\r\n                                    processExpression(elex, event_binds);\r\n\r\n                                    binds[index].bind = event_binds[0];\r\n\r\n                                    lex.a(sentinel);\r\n\r\n                                } else {\r\n                                    if (lex.ch !== sentinel) {\r\n                                        let id = lex.tx,\r\n                                            binding;\r\n                                        if (lex.ty !== lex.types.id) {\r\n                                            switch (lex.ty) {\r\n                                                case lex.types.num:\r\n                                                    binding = new RawValueBinding(parseFloat(id));\r\n                                                    break;\r\n                                                case lex.types.str:\r\n                                                    binding = new RawValueBinding(id.slice(1, -1));\r\n                                                    break;\r\n                                                default:\r\n                                                    binding = new RawValueBinding(id.slice);\r\n                                            }\r\n                                        } else {\r\n                                            binding = new DynamicBinding();\r\n                                            binding.tap_name = id;\r\n                                        }\r\n                                        binds[index].bind = binding;\r\n                                        lex.n;\r\n                                    }\r\n                                    lex.a(sentinel);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    lex.IWS = false;\r\n                    \r\n                    start = lex.off + 1; //Should at the sentinel.\r\n                    \r\n                    lex.a(barrier_a_end);\r\n                    \r\n                    continue;\r\n                }\r\n                break;\r\n        }\r\n        lex.n;\r\n    }\r\n\r\n    if (start < lex.off) {\r\n        lex.off = start;\r\n        lex.END = false;\r\n        lex.tl = 0;\r\n        lex.END = false;\r\n\r\n        let DATA_END = start;\r\n\r\n        while (!lex.n.END)\r\n            if (!(lex.ty & (lex.types.ws | lex.types.nl)))\r\n                DATA_END = lex.off + lex.tl;\r\n            \r\n        if (DATA_END > start) {\r\n            lex.sl = DATA_END;\r\n            binds.push(new RawValueBinding(lex.slice(start)));\r\n        }\r\n    }\r\n\r\n    return binds;\r\n}","import {\r\n    TemplateString,\r\n    AttribTemplate,\r\n} from \"../../io/io\";\r\nimport {\r\n    CSSRawValue,\r\n    CSSRuleTemplateString,\r\n    StyleIO\r\n} from \"../../io/style_io\";\r\nimport {\r\n    RAW_VALUEbindingID,\r\n    TEMPLATEbindingID,\r\n    ATTRIB,\r\n    INPUT,\r\n    RawValueBinding\r\n} from \"./basic_bindings\";\r\nimport {\r\n    evaluate\r\n} from \"./template_evaluator\";\r\n\r\nexport function Template(lex, FOR_EVENT) {\r\n    let binds = evaluate(lex, FOR_EVENT);\r\n    if (binds.length > 0) {\r\n        if (binds.length == 1)\r\n            return binds[0];\r\n        return new OutTemplate(binds);\r\n    }\r\n    return null;\r\n}\r\n\r\n\r\nfunction OutTemplate(binds = []) {\r\n    this.bindings = binds;\r\n}\r\n\r\nOutTemplate.prototype = {\r\n    method: 0,\r\n\r\n    attr: \"\",\r\n\r\n    bindings: null,\r\n\r\n    _bind_: function(source, errors, taps, element, attr) {\r\n        if (this.method == ATTRIB || this.method == INPUT)\r\n            return new AttribTemplate(source, errors, taps, attr, element, this.bindings);\r\n        return new TemplateString(source, errors, taps, element, this.bindings);\r\n    },\r\n\r\n    _appendText_: function(string) {\r\n        let binding = this.bindings[this.bindings.length - 1];\r\n\r\n        if (binding && binding.type == RAW_VALUEbindingID) {\r\n            binding.txt += string;\r\n        } else {\r\n            this.bindings.push(new RawValueBinding(string));\r\n        }\r\n    },\r\n\r\n    set type(v) {},\r\n    get type() {\r\n        return TEMPLATEbindingID;\r\n    },\r\n\r\n    toString(){\r\n        let str = \"\"\r\n        for(let i = 0; i < this.bindings.length; i++)\r\n            str += this.bindings[i];\r\n        return str;\r\n    }\r\n};\r\n\r\n\r\nexport function StyleTemplate(lex) {\r\n\r\n    const style = new OutStyleTemplate();\r\n    if(lex){\r\n\r\n    }\r\n    return style;\r\n}\r\n\r\nclass OutStyleTemplate {\r\n\r\n    constructor() {\r\n        this._css_props_ = [];\r\n    }\r\n\r\n    get bindings() {\r\n        if (this._template_)\r\n            return this._template_.bindings;\r\n        return [];\r\n    }\r\n    set bindings(v) {}\r\n\r\n    get type() {\r\n        return TEMPLATEbindingID;\r\n    }\r\n    set type(v) {}\r\n\r\n    clear(){\r\n        this._css_props_ = [];\r\n    }\r\n\r\n    _addRule_(rule) {\r\n\r\n        let props = rule.props;\r\n\r\n        for (let name in props) {\r\n            let prop = props[name];\r\n\r\n            if(prop == null) continue;\r\n\r\n            if (prop._wick_type_ > 0)\r\n                this._css_props_.push(prop);\r\n            else \r\n                this._css_props_.push(new CSSRawValue(name, prop));\r\n        }\r\n    }\r\n\r\n    _bind_(source, errors, taps, element) {\r\n        return new StyleIO(source, errors, taps, element, this._css_props_);\r\n    }\r\n}\r\n\r\nexport function CSSRuleTemplate(lex, prop_name) {\r\n    return new OutCSSRuleTemplate(lex, prop_name);\r\n}\r\n\r\nclass OutCSSRuleTemplate {\r\n    constructor(lex = null, prop_name = \"\") {\r\n        let bindings = evaluate(lex);\r\n\r\n        this.binding = null;\r\n\r\n        this.prop_name = prop_name;\r\n\r\n        this.bindings = bindings;\r\n    }\r\n\r\n    get _wick_type_() {\r\n        return 1;\r\n    }\r\n    set _wick_type_(v) {}\r\n\r\n    _bind_(source, errors, taps, io) {\r\n        let binding = new CSSRuleTemplateString(source, errors, taps, this.bindings, this.prop_name);\r\n        binding.addIO(io);\r\n        return binding;\r\n    }\r\n}","import { HTMLNode, TextNode } from \"@candlefw/html\";\r\nimport { CSSRootNode } from \"@candlefw/css\";\r\n\r\nimport {\r\n    appendChild,\r\n    createElement\r\n} from \"../../../short_names\";\r\nimport {\r\n    Source\r\n} from \"../../source\";\r\n\r\nimport {\r\n    KEEP,\r\n    IMPORT,\r\n    EXPORT,\r\n    PUT\r\n} from \"../../tap/tap\";\r\nimport {\r\n    Template,\r\n    StyleTemplate,\r\n    CSSRuleTemplate\r\n} from \"../template/template_bindings\";\r\nimport {\r\n    ATTRIB,\r\n    TEXT,\r\n    INPUT,\r\n    EVENT,\r\n    DYNAMICbindingID,\r\n    TEMPLATEbindingID\r\n} from \"../template/basic_bindings\";\r\n\r\n\r\nimport {\r\n    barrier_a_start,\r\n    barrier_b_start\r\n} from \"../../../barriers\";\r\n\r\n\r\nexport class BindingCSSRoot extends CSSRootNode {\r\n    getPropertyHook(value_lex, prop_name, rule) {\r\n\r\n        //looking for binding points\r\n        let pk = value_lex.copy();\r\n        while (!pk.END && ((pk.ch != barrier_a_start || (pk.n.ch != barrier_a_start && pk.ch != barrier_b_start)))) {\r\n            pk.n;\r\n        }\r\n\r\n        if (pk.END)\r\n            return false;\r\n\r\n        rule.props[prop_name] = CSSRuleTemplate(value_lex, prop_name);\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nexport class RootText extends TextNode {\r\n    constructor(binding) {\r\n        super(\"\");\r\n        binding.method = TEXT;\r\n        this.binding = binding;\r\n    }\r\n\r\n    build(element, source, presets, errors, taps) {\r\n        let ele = document.createTextNode(this.txt);\r\n        this.binding._bind_(source, errors, taps, ele);\r\n        appendChild(element, ele);\r\n    }\r\n\r\n    linkCSS() {}\r\n\r\n    toString(off = 0) {\r\n        return `${(\"    \").repeat(off)}${this.binding}\\n`;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Class for Root HTML AST Node.\r\n *@memberof module:wick~internals.templateCompiler\r\n *@alias Root\r\n */\r\nexport class RootNode extends HTMLNode {\r\n\r\n    constructor() {\r\n        super();\r\n        this.HAS_TAPS = false;\r\n\r\n        this.tap_list = [];\r\n        this.bindings = [];\r\n\r\n        this.css = null;\r\n\r\n        this._merged_ = false;\r\n\r\n        this._badge_name_ = \"\";\r\n\r\n        this.__presets__ = null;\r\n        this.__statics__ = null;\r\n    }\r\n\r\n    /******************************************* STATICS ****************************************************/\r\n\r\n    get statics() {\r\n        if (this.__statics__) return this.__statics__;\r\n\r\n        if (this.par)\r\n            return (this.__statics__ = Object.assign({}, this.par.statics));\r\n\r\n        return (this.__statics__ = {});\r\n    }\r\n\r\n    set statics(statics) {\r\n        this.__statics__ = statics;\r\n    }\r\n\r\n    /******************************************* PRESETS ****************************************************/\r\n\r\n    get presets() {\r\n        if (this.__presets__) return this.__presets__;\r\n        return this.par.presets;\r\n    }\r\n\r\n    set presets(preset) {\r\n        this.__presets__ = preset;\r\n    }\r\n\r\n    /****************************************** COMPONENTIZATION *****************************************/\r\n\r\n    mergeComponent() {\r\n\r\n        let component = this.presets.components[this.tag];\r\n\r\n        if (component) {\r\n            this._merged_ = component;\r\n        }\r\n\r\n    }\r\n\r\n    /******************************************* CSS ****************************************************/\r\n\r\n    linkCSS(css, win = window) {\r\n\r\n        if (this.css)\r\n            css = this.css;\r\n\r\n        if (css) {\r\n\r\n            let rule;\r\n\r\n\r\n            for (let i = 0; i < css.length; i++)\r\n                rule = css[i].getApplicableRules(this, rule, win);\r\n\r\n\r\n            //parse rules and createBindings.\r\n            if (rule && rule.LOADED) {\r\n\r\n\r\n                //Link into the binding for style. if there is no binding, create one. \r\n                //Link in the rule properties to the tap system. \r\n                let HAVE_BINDING = false;\r\n\r\n                for (let i = 0, l = this.bindings.length; i < l; i++) {\r\n                    let binding = this.bindings[i];\r\n\r\n                    if (binding.name == \"css\") {\r\n                        binding.binding.clear();\r\n                        HAVE_BINDING = (binding.binding._addRule_(rule), true);\r\n                    }\r\n                }\r\n\r\n                if (!HAVE_BINDING) {\r\n                    let binding = StyleTemplate();\r\n                    binding._addRule_(rule);\r\n                    let vals = {\r\n                        name: \"css\",\r\n                        value: \"\",\r\n                        binding\r\n                    };\r\n                    this.bindings.push(vals);\r\n\r\n                }\r\n\r\n                this.css = css;\r\n            }\r\n        }\r\n\r\n        for (let node = this.fch; node; node = this.getNextChild(node))\r\n            node.linkCSS(css, win);\r\n    }\r\n\r\n    setPendingCSS(css) {\r\n        if (this.par)\r\n            this.par.setPendingCSS(css);\r\n        else {\r\n            if (!this.css)\r\n                this.css = [];\r\n            this.css.push(css);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    getCSS() {\r\n\r\n        let css = new BindingCSSRoot();\r\n\r\n        this.setPendingCSS(css);\r\n\r\n        return css;\r\n    }\r\n\r\n    get classList() {\r\n        let classes = this.getAttrib(\"class\");\r\n        if (classes) {\r\n            if (typeof(classes.value) == \"string\")\r\n                return classes.value.split(\" \");\r\n            else\r\n                return classes.value.txt.split(\" \");\r\n        }\r\n        return [];\r\n    }\r\n\r\n    /******************************************* TAPS ****************************************************/\r\n\r\n\r\n    getTap(tap_name) {\r\n        this.HAS_TAPS = true;\r\n        const l = this.tap_list.length;\r\n        for (let i = 0; i < l; i++)\r\n            if (this.tap_list[i].name == tap_name)\r\n                return this.tap_list[i];\r\n        const tap = {\r\n            name: tap_name,\r\n            id: l,\r\n            modes: 0\r\n        };\r\n        this.tap_list.push(tap);\r\n        return tap;\r\n    }\r\n\r\n\r\n\r\n    checkTapMethod(name, lex) {\r\n\r\n        let tap_mode = KEEP; // Puts\r\n\r\n        let SET_TAP_METHOD = false;\r\n\r\n        switch (name[0]) {\r\n            case \"i\": // Imports data updates, messages - valid on source and top level objects.\r\n                if (name === \"import\") {\r\n                    SET_TAP_METHOD = true;\r\n                    tap_mode |= IMPORT;\r\n                }\r\n                break;\r\n            case \"e\": // Exports data updates, messages - valid on sources and top level objects.\r\n                if (name === \"export\") {\r\n                    SET_TAP_METHOD = true;\r\n                    tap_mode |= EXPORT;\r\n                }\r\n                break;\r\n            case \"p\": // Pushes updates to model\r\n                if (name === \"put\") {\r\n                    SET_TAP_METHOD = true;\r\n                    tap_mode |= PUT;\r\n                }\r\n        }\r\n\r\n        if (SET_TAP_METHOD) {\r\n\r\n            while (!lex.END) {\r\n\r\n                this.getTap(lex.tx).modes |= tap_mode;\r\n\r\n                lex.n;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n    checkTapMethodGate(name, lex) {\r\n\r\n        if (!this.par)\r\n            return this.checkTapMethod(name, lex);\r\n        return false;\r\n    }\r\n\r\n    linkTapBinding(binding) {\r\n\r\n        binding.tap_id = this.getTap(binding.tap_name).id;\r\n    }\r\n\r\n    delegateTapBinding(binding, tap_mode) {\r\n\r\n        if (this.par)\r\n            return this.par.processTapBinding(binding, tap_mode);\r\n\r\n        return null;\r\n    }\r\n\r\n    processTapBinding(binding, tap_mode = 0) {\r\n\r\n        if (this.delegateTapBinding(binding, tap_mode)) return binding;\r\n\r\n        if (binding.type === TEMPLATEbindingID) {\r\n\r\n            let bindings = binding.bindings;\r\n\r\n            for (let i = 0, l = bindings.length; i < l; i++)\r\n                if (bindings[i].type === DYNAMICbindingID)\r\n                    this.linkTapBinding(bindings[i]);\r\n\r\n        } else if (binding.type === DYNAMICbindingID)\r\n            this.linkTapBinding(binding);\r\n\r\n        return binding;\r\n    }\r\n\r\n\r\n\r\n    /******************************************* BUILD ****************************************************/\r\n\r\n    setSource(source) {\r\n        source.ast = this;\r\n    }\r\n\r\n    /**\r\n     * Builds Source Tree and Dom Tree.\r\n     *\r\n     * @param      {null}  element  The element\r\n     * @param      {null}  source   The source\r\n     * @param      {null}  presets  The presets\r\n     * @param      {null   errors   The errors\r\n     * @param      {null}  model    The model\r\n     * @return     {null}  { description_of_the_return_value }\r\n     */\r\n    build(element, source, presets, errors, taps, statics, out_ele) {\r\n\r\n        const out_statics = this.__statics__ || statics;\r\n        let own_out_ele;\r\n\r\n        if (this._merged_) {\r\n\r\n            own_out_ele = {\r\n                ele: null\r\n            };\r\n\r\n            let out_source = this._merged_.build(element, source, presets, errors, taps, out_statics, own_out_ele);\r\n\r\n            if (!source)\r\n                source = out_source;\r\n        }\r\n\r\n        let own_element;\r\n\r\n        if (own_out_ele) {\r\n            own_element = own_out_ele.ele;\r\n        } else {\r\n            if (!source) {\r\n                source = new Source(null, presets, own_element, this);\r\n                own_element = this.createElement(presets, source);\r\n                source.ele = own_element;\r\n            } else\r\n                own_element = this.createElement(presets, source);\r\n\r\n            if (element) appendChild(element, own_element);\r\n\r\n            if (out_ele)\r\n                out_ele.ele = own_element;\r\n        }\r\n\r\n        if (this.HAS_TAPS)\r\n            taps = source.linkTaps(this.tap_list);\r\n\r\n        if (own_element) {\r\n\r\n            if (!source.ele) source.ele = own_element;\r\n\r\n            if (this._badge_name_)\r\n                source.badges[this._badge_name_] = own_element;\r\n\r\n            if (element) appendChild(element, own_element);\r\n\r\n            for (let i = 0, l = this.bindings.length; i < l; i++) {\r\n                let attr = this.bindings[i];\r\n                attr.binding._bind_(source, errors, taps, own_element, attr.name);\r\n            }\r\n\r\n            for (let node = this.fch; node; node = this.getNextChild(node))\r\n                node.build(own_element, source, presets, errors, taps, out_statics);\r\n\r\n        } else {\r\n            for (let node = this.fch; node; node = this.getNextChild(node))\r\n                node.build(element, source, presets, errors, taps, out_statics);\r\n        }\r\n\r\n\r\n        return source;\r\n    }\r\n\r\n\r\n\r\n    /******************************************* HOOKS ****************************************************/\r\n\r\n    /**\r\n     * Override this method to tell the parser that `tag` is self closing and to not look for a matching close tag by returning `true`.\r\n     * @param      {string}  tag     The HTML tag\r\n     */\r\n    selfClosingTagHook(tag) {\r\n        switch (tag) {\r\n            case \"input\":\r\n            case \"br\":\r\n            case \"img\":\r\n            case \"import\":\r\n            case \"link\":\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    createElement() {\r\n        return createElement(this.tag);\r\n    }\r\n\r\n    endOfElementHook() {\r\n        if (!this.fch) {\r\n            this.mergeComponent();\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * This will create TAP binding references and methods, binding points, and regular attribute nodes.\r\n     * @param      {<type>}  name    The Attribute name\r\n     * @param      {Lexer}  lex     The lexer containing the attribute value.\r\n     * @return     {Object}  `null` or an object to store in this nodes attributes\r\n     * @private\r\n     */\r\n    processAttributeHook(name, lex) {\r\n\r\n        if (!name) return null;\r\n\r\n        let start = lex.off,\r\n            basic = {\r\n                IGNORE:true,\r\n                name,\r\n                value: lex.slice(start)\r\n            };\r\n\r\n        let bind_method = ATTRIB,\r\n            FOR_EVENT = false;\r\n\r\n        switch (name[0]) {\r\n\r\n            case \"#\": //Static values\r\n                let key = name.slice(1);\r\n\r\n                if (key.length > 0) {\r\n                    if (lex.tl == lex.sl - lex.off && lex.ty == lex.types.num)\r\n                        this.statics[key] = parseFloat(lex.slice());\r\n                    else\r\n                        this.statics[key] = lex.slice();\r\n                }\r\n\r\n                return basic;\r\n\r\n            case \"v\": //Input\r\n                if (name == \"value\")\r\n                    bind_method = INPUT;\r\n                break;\r\n\r\n            case \"o\": // Event Messaging linking\r\n                if (name[1] == \"n\") {\r\n                    FOR_EVENT = true;\r\n                    bind_method = EVENT;\r\n                }\r\n                break;\r\n\r\n            case \"c\":\r\n                if (name == \"component\") {\r\n                    let component_name = lex.tx;\r\n                    let components = this.presets.components;\r\n                    if (components)\r\n                        components[component_name] = this;\r\n                    return basic;\r\n                }\r\n                break;\r\n            case \"b\":\r\n                if (name == \"badge\") {\r\n                    this._badge_name_ = lex.tx;\r\n                    return basic;\r\n                }\r\n        }\r\n\r\n        if (this.checkTapMethodGate(name, lex))\r\n            return {\r\n                name,\r\n                value: lex.slice(start)\r\n            };\r\n\r\n        basic.IGNORE = false;\r\n        if ((lex.sl - lex.off) > 0) {\r\n            let binding = Template(lex, FOR_EVENT);\r\n            if (!binding) {\r\n                return basic;\r\n            }\r\n\r\n            binding.val = name;\r\n            binding.method = bind_method;\r\n            let attr = {\r\n                IGNORE:false,\r\n                name,\r\n                value: (start < lex.off) ? lex.slice(start) : true,\r\n                binding: this.processTapBinding(binding)\r\n            };\r\n            this.bindings.push(attr);\r\n            return attr;\r\n        }\r\n\r\n        return basic;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Hooks into the Text Node creation context and looks for binding points. \r\n     * If they are found, the text node will be made dynamic.\r\n     * @param      {Lexer}    \r\n     * @return     {TextNode}  \r\n     */\r\n    processTextNodeHook(lex) {\r\n        if (lex.sl - lex.pos > 0) {\r\n\r\n            let binding = Template(lex.trim());\r\n            if (binding)\r\n                return new RootText(this.processTapBinding(binding));\r\n        }\r\n\r\n        return null;\r\n    }\r\n}","import { RootNode } from \"./root\";\r\n\r\n/**\r\n * Void elements don't exist, they evaporate into the void.\r\n * Element children of VoidNodes are appended to the last element created.\r\n */\r\nexport class VoidNode extends RootNode {\r\n\r\n    createElement() { return null; }\r\n\r\n    /******************************************* HOOKS ****************************************************/\r\n\r\n    endOfElementHook() {}\r\n\r\n    processTextNodeHook() {}\r\n\r\n    /******************************************* BUILD ****************************************************/\r\n\r\n    build() {}\r\n\r\n    /******************************************* CSS ****************************************************/\r\n\r\n    linkCSS() {}\r\n}","import { VoidNode } from \"./void\";\r\nimport { Template } from \"../template/template_bindings\";\r\nimport { SCRIPT, DYNAMICbindingID } from \"../template/basic_bindings\";\r\n\r\nexport class ScriptNode extends VoidNode {\r\n    constructor() {\r\n        super();\r\n        this.script_text = \"\";\r\n        this.binding = null;\r\n    }\r\n\r\n    processTextNodeHook(lex) {\r\n        this.script_text = lex.slice();\r\n        \r\n        if (this.binding)\r\n            this.binding.val = this.script_text;\r\n    }\r\n\r\n    processAttributeHook(name, lex) {\r\n\r\n        switch (name) {\r\n            case \"on\":\r\n                let binding = Template(lex, false);\r\n                if (binding.type == DYNAMICbindingID) {\r\n                    binding.method = SCRIPT;\r\n                    this.binding = this.processTapBinding(binding);\r\n                }\r\n                return null;\r\n        }\r\n\r\n        return { name, value: lex.slice() };\r\n    }\r\n    build(element, source, presets, errors, taps) {\r\n        if (this.binding)\r\n            this.binding._bind_(source, errors, taps, element);\r\n    }\r\n}","import { RootNode, BindingCSSRoot } from \"./root\";\r\nimport { Source } from \"../../source\";\r\nimport { appendChild, createElement } from \"../../../short_names\";\r\nimport { Tap, UpdateTap } from \"../../tap/tap\";\r\nimport { Template } from \"../template/template_bindings\";\r\nimport { ATTRIB } from \"../template/basic_bindings\";\r\n/**\r\n * Source nodes are used to hook into specific Models, and respond to `update` events from that model.\r\n * @class      SourceNode (name)\r\n */\r\nexport class SourceNode extends RootNode {\r\n    constructor() {\r\n        super();\r\n        this._model_name_ = \"\";\r\n        this._schema_name_ = \"\";\r\n        this.statics = {};\r\n    }\r\n\r\n    delegateTapBinding() {\r\n        return null;\r\n    }\r\n\r\n    getCSS() {\r\n\r\n        if (this.css)\r\n            return this.css;\r\n\r\n        this.css = new BindingCSSRoot();\r\n\r\n        this.setPendingCSS(this.css);\r\n\r\n        return this.css;\r\n    }\r\n\r\n    checkTapMethodGate(name, lex) {\r\n        return this.checkTapMethod(name, lex);\r\n    }\r\n\r\n\r\n\r\n    /******************************************* BUILD ****************************************************/\r\n    createElement() {\r\n        return createElement(this.getAttribute(\"element\") || \"div\");\r\n    }\r\n\r\n    build(element, source, presets, errors, taps = null, statics = null, out_ele = null) {\r\n\r\n        let data = {};\r\n\r\n        let out_taps = [];\r\n\r\n        let me = new Source(source, presets, element, this);\r\n\r\n        me._model_name_ = this._model_name_;\r\n        me._schema_name_ = this._schema_name_;\r\n\r\n        let tap_list = this.tap_list;\r\n\r\n        for (let i = 0, l = tap_list.length; i < l; i++) {\r\n            let tap = tap_list[i],\r\n                name = tap.name;\r\n\r\n            let bool = name == \"update\";\r\n\r\n            me.taps[name] = bool ? new UpdateTap(me, name, tap.modes) : new Tap(me, name, tap.modes);\r\n\r\n            if (bool)\r\n                me.update_tap = me.taps[name];\r\n\r\n            out_taps.push(me.taps[name]);\r\n        }\r\n\r\n        /**\r\n         * To keep the layout of the output HTML predictable, Wick requires that a \"real\" HTMLElement be defined before a source object is created. \r\n         * If this is not the case, then a new element, defined by the \"element\" attribute of the source virtual tag (defaulted to a \"div\"), \r\n         * will be created to allow the source object to bind to an actual HTMLElement. \r\n         */\r\n        if (!element || this.getAttribute(\"element\")) {\r\n\r\n            let ele = this.createElement();\r\n\r\n            this.class.split(\" \").map(c => c ? ele.classList.add(c) : {});\r\n\r\n            if (this.getAttribute(\"id\"))\r\n                ele.id = this.getAttribute(\"id\");\r\n\r\n            if (this.getAttribute(\"style\"))\r\n                ele.style = this.getAttribute(\"style\");\r\n\r\n            me.ele = ele;\r\n\r\n            if (element) {\r\n                appendChild(element, ele);\r\n            }\r\n\r\n            element = ele;\r\n\r\n            if (out_ele)\r\n                out_ele.ele = element;\r\n\r\n            if (this._badge_name_)\r\n                me.badges[this._badge_name_] = element;\r\n\r\n            let hook = {\r\n                attr: this.attributes,\r\n                bindings: [],\r\n                style: null,\r\n                ele: element\r\n            };\r\n\r\n            for (let i = 0, l = this.bindings.length; i < l; i++) {\r\n                let attr = this.bindings[i];\r\n                let bind = attr.binding._bind_(me, errors, out_taps, element, attr.name);\r\n\r\n                if (hook) {\r\n                    if (attr.name == \"style\" || attr.name == \"css\")\r\n                        hook.style = bind;\r\n\r\n                    hook.bindings.push(bind);\r\n                }\r\n            }\r\n\r\n            me.hooks.push(hook);\r\n        }\r\n\r\n        for (let i = 0, l = this.attributes.length; i < l; i++) {\r\n            let attr = this.attributes[i];\r\n\r\n            if (!attr.value) {\r\n                //let value = this.par.importAttrib()\r\n                //if(value) data[attr.name];\r\n            } else {\r\n                data[attr.name] = attr.value;\r\n\r\n            }\r\n        }\r\n\r\n        for (let node = this.fch; node; node = this.getNextChild(node))\r\n            node.build(element, me, presets, errors, out_taps, statics);\r\n\r\n        if (statics) {\r\n            me.statics = statics;\r\n            me.update(statics);\r\n        }\r\n\r\n\r\n        return me;\r\n    }\r\n\r\n    /******************************************* HOOKS ****************************************************/\r\n\r\n    endOfElementHook() {}\r\n\r\n    /**\r\n     * Pulls Schema, Model, or tap method information from the attributes of the tag. \r\n     * All other attributes are passed through without any other consideration.\r\n     * @param      {string}  name    The name\r\n     * @param      {Lexer}  lex     The lex\r\n     * @return     {Object}  Key value pair.\r\n     */\r\n    processAttributeHook(name, lex, value) {\r\n        let start = lex.off,\r\n            basic = {\r\n                IGNORE:true,\r\n                name,\r\n                value: lex.slice(start)\r\n            };\r\n\r\n        switch (name[0]) {\r\n            case \"#\":\r\n                let key = name.slice(1);\r\n\r\n                if (key.length > 0) {\r\n                    if (lex.tl == lex.sl - lex.off && lex.ty == lex.types.num)\r\n                        this.statics[key] = parseFloat(lex.slice());\r\n                    else\r\n                        this.statics[key] = lex.slice();\r\n                }\r\n\r\n                return {\r\n                    name,\r\n                    value: lex.slice(start)\r\n                };\r\n            case \"m\":\r\n                if (name == \"model\") {\r\n                    this._model_name_ = lex.slice();\r\n                    lex.n;\r\n                    return basic;\r\n                }\r\n                break;\r\n            case \"s\":\r\n                if (name == \"schema\") {\r\n                    this._schema_name_ = lex.slice();\r\n                    lex.n;\r\n                    return basic;\r\n                }\r\n                break;\r\n            case \"c\":\r\n                if (name == \"component\") {\r\n                    let component_name = lex.tx;\r\n                    let components = this.presets.components;\r\n                    if (components)\r\n                        components[component_name] = this;\r\n                    return basic;\r\n                }\r\n                break;\r\n            case \"b\":\r\n                if (name == \"badge\") {\r\n                    this._badge_name_ = lex.tx;\r\n                    return basic;\r\n                }\r\n                break;\r\n            default:\r\n                if (this.checkTapMethodGate(name, lex))\r\n                    return basic;\r\n        }\r\n\r\n        //return { name, value: lex.slice() };\r\n        //return super.processAttributeHook(name, lex, value);\r\n        basic.IGNORE = false;\r\n\r\n        if ((lex.sl - lex.off) > 0) {\r\n            let binding = Template(lex, true);\r\n            if (!binding) {\r\n                return basic;\r\n            }\r\n            binding.val = name;\r\n            binding.method = ATTRIB;\r\n            let attr = {\r\n                IGNORE:false,\r\n                name,\r\n                value: (start < lex.off) ? lex.slice(start) : true,\r\n                binding: this.processTapBinding(binding)\r\n            };\r\n            this.bindings.push(attr);\r\n            return attr;\r\n        }\r\n\r\n        return basic;\r\n\r\n    }\r\n}","import { RootNode } from \"./root\";\r\n\r\nexport class LinkNode extends RootNode {\r\n    createElement(presets, source){\r\n        let element = document.createElement(\"a\");\r\n        presets.processLink(element, source);\r\n        return element;\r\n    }\r\n}","import { CBezier } from \"@candlefw/math\";\nimport Spark from \"@candlefw/spark\";\nimport css from \"@candlefw/css\";\n\nconst CSS_Length = css.types.length;\nconst CSS_Percentage = css.types.percentage;\nconst CSS_Color = css.types.color;\nconst CSS_Transform2D = css.types.transform2D;\nconst CSS_Path = css.types.path;\n\nconst Animation = (function anim() {\n    var USE_TRANSFORM = false;\n    const\n        CSS_STYLE = 0,\n        JS_OBJECT = 1,\n        SVG = 3;\n\n    function setType(obj) {\n        if (obj instanceof HTMLElement) {\n            if (obj.tagName == \"SVG\")\n                return SVG;\n            return CSS_STYLE;\n        }\n        return JS_OBJECT;\n    }\n\n    const Linear = { getYatX: x => x };\n\n    /**\n     * Class to linearly interpolate number.\n     */\n    class lerpNumber extends Number { lerp(to, t) { return this + (to - this) * t; } copy(val) { return new lerpNumber(val); } }\n\n    /**\n     * Store animation data for a single property on a single object. \n     * @class      AnimProp (name)\n     */\n    class AnimProp {\n        constructor(keys, obj, prop_name, type) {\n\n            this.duration = 0;\n            this.end = false;\n            this.keys = [];\n            this.current_val = null;\n\n            let IS_ARRAY = Array.isArray(keys);\n\n            if (prop_name == \"transform\")\n                this.type = CSS_Transform2D;\n            else\n                this.type = (IS_ARRAY) ? this.getType(keys[0].value) : this.getType(keys.value);\n\n            this.getValue(obj, prop_name, type);\n\n            let p = this.current_val;\n\n            if (IS_ARRAY) {\n                keys.forEach(k => p = this.addKey(k, p));\n            } else\n                this.addKey(keys, p);\n        }\n\n        destroy() {\n            this.keys = null;\n            this.type = null;\n            this.current_val = null;\n        }\n\n        getValue(obj, prop_name, type) {\n            if (type == CSS_STYLE) {\n                let name = prop_name.replace(/[A-Z]/g, (match) => \"-\" + match.toLowerCase());\n                let cs = window.getComputedStyle(obj);\n                let value = cs.getPropertyValue(name);\n\n                if (this.type == CSS_Percentage) {\n                    if (obj.parentElement) {\n                        let pcs = window.getComputedStyle(obj.parentElement);\n                        let pvalue = pcs.getPropertyValue(name);\n                        let ratio = parseFloat(value) / parseFloat(pvalue);\n                        value = (ratio * 100);\n                    }\n                }\n\n                this.current_val = new this.type(value);\n\n            } else {\n                this.current_val = new this.type(obj[prop_name]);\n            }\n        }\n\n        getType(value) {\n            if (typeof(value) === \"number\")\n                return lerpNumber;\n            if (CSS_Length._verify_(value))\n                return CSS_Length;\n            if (CSS_Percentage._verify_(value))\n                return CSS_Percentage;\n            if (CSS_Color._verify_(value))\n                return CSS_Color;\n            return lerpNumber;\n        }\n\n        addKey(key, prev) {\n            let l = this.keys.length;\n            let pkey = this.keys[l - 1];\n            let v = (key.value !== undefined) ? key.value : key.v;\n            let own_key = {\n                val: (prev) ? prev.copy(v) : new this.type(v) || 0,\n                dur: key.duration || key.dur || 0,\n                del: key.delay || key.del || 0,\n                ease: key.easing || key.e || ((pkey) ? pkey.ease : Linear),\n                len: 0\n            };\n\n            own_key.len = own_key.dur + own_key.del;\n\n            this.keys.push(own_key);\n\n            this.duration += own_key.len;\n\n            return own_key.val;\n        }\n\n        run(obj, prop_name, time, type) {\n            let val_start = this.current_val,\n                val_end = this.current_val,\n                key, val_out = val_start,\n                in_range = time < this.duration;\n\n            for (let i = 0; i < this.keys.length; i++) {\n                key = this.keys[i];\n                val_end = key.val;\n                if (time < key.len) {\n                    break;\n                } else\n                    time -= key.len;\n                val_start = key.val;\n            }\n\n\n            if (key) {\n                if (time < key.len) {\n                    if (time < key.del) {\n                        val_out = val_start;\n                    } else {\n                        let x = (time - key.del) / key.dur;\n                        let s = key.ease.getYatX(x);\n                        val_out = val_start.lerp(val_end, s);\n                    }\n                } else {\n                    val_out = val_end;\n                }\n            }\n\n            this.setProp(obj, prop_name, val_out, type);\n\n            return in_range;\n        }\n\n        setProp(obj, prop_name, value, type) {\n\n            if (type == CSS_STYLE) {\n                obj.style[prop_name] = value;\n            } else\n                obj[prop_name] = value;\n        }\n    }\n\n    /**\n     * Stores animation data for a group of properties. Defines delay and repeat.\n     * @class      AnimSequence (name)\n     */\n    class AnimSequence {\n        constructor(obj, props) {\n            this.duration = 0;\n            this.time = 0;\n            this.type = setType(obj);\n            this.obj = null;\n            this.DESTROYED = false;\n            this.events = {};\n\n            switch (this.type) {\n                case CSS_STYLE:\n                    this.obj = obj;\n                    break;\n                case SVG:\n                case JS_OBJECT:\n                    this.obj = obj;\n                    break;\n            }\n\n            this.props = {};\n\n            this.setProps(props);\n        }\n\n        destroy() {\n            for (let name in this.props)\n                if (this.props[name])\n                    this.props[name].destroy();\n            this.DESTROYED = true;\n            this.duration = 0;\n            this.obj = null;\n            this.props = null;\n            this.time = 0;\n        }\n\n        /**\n         * Removes AnimProps based on object of keys that should be removed from this sequence.\n         */\n        removeProps(props) {\n            if (props instanceof AnimSequence)\n                props = props.props;\n\n            for (let name in props) {\n                if (this.props[name])\n                    this.props[name] = null;\n            }\n        }\n\n\n        /**\n         * Sets the properties.\n         *\n         * @param      {<type>}  props   The properties\n         */\n        setProps(props) {\n            for (let name in this.props)\n                this.props[name].destroy();\n\n            this.props = {};\n\n            for (let name in props)\n                this.configureProp(name, props[name]);\n        }\n\n        configureProp(name, keys) {\n            let prop;\n            if (prop = this.props[name]) {\n                this.duration = Math.max(prop.duration, this.duration);\n            } else {\n                prop = new AnimProp(keys, this.obj, name, this.type);\n                this.props[name] = prop;\n                this.duration = Math.max(prop.duration, this.duration);\n            }\n        }\n\n        run(i) {\n\n            for (let n in this.props) {\n                let prop = this.props[n];\n                if (prop)\n                    prop.run(this.obj, n, i, this.type);\n            }\n\n            if (i >= this.duration)\n                return false;\n\n            return true;\n        }\n\n        scheduledUpdate(a, t) {\n\n            if (this.run(this.time += t))\n                Spark.queueUpdate(this);\n            else\n                this.issueEvent(\"stopped\");\n        }\n\n        play(from = 0) {\n            this.time = from;\n            Spark.queueUpdate(this);\n            this.issueEvent(\"started\");\n        }\n\n        addEventListener(event, listener) {\n            if (typeof(listener) === \"function\") {\n                if (!this.events[event])\n                    this.events[event] = [];\n                this.events[event].push(listener);\n            }\n        }\n\n        removeEventListener(event, listener) {\n            if (typeof(listener) === \"function\") {\n                let events = this.events[event];\n                if (events) {\n                    for (let i = 0; i < events.length; i++)\n                        if (events[i] === listener)\n                            return e(vents.splice(i, 1), true);\n                }\n            }\n            return false;\n        }\n\n        issueEvent(event) {\n            let events = this.events[event];\n\n            if (events)\n                events.forEach(e => e(this));\n        }\n    }\n\n    class AnimGroup {\n        constructor() {\n            this.seq = [];\n            this.time = 0;\n            this.duration = 0;\n        }\n\n        destroy() {\n            this.seq.forEach(seq => seq.destroy());\n            this.seq = null;\n        }\n\n        add(seq) {\n            this.seq.push(seq);\n            this.duration = Math.max(this.duration, seq.duration);\n        }\n\n        run(t) {\n            for (let i = 0, l = this.seq.length; i < l; i++) {\n                let seq = this.seq[i];\n                seq.run(t);\n            }\n\n            if (t >= this.duration)\n                return false;\n\n            return true;\n        }\n\n        scheduledUpdate(a, t) {\n        \tthis.time += t\n            if (this.run(this.time))\n                Spark.queueUpdate(this);\n        }\n\n        play(from = 0) {\n            this.time = 0;\n            Spark.queueUpdate(this);\n        }\n    }\n\n    return {\n        createSequence: function() {\n\n            if (arguments.length > 1) {\n\n                let group = new AnimGroup();\n\n                for (let i = 0; i < arguments.length; i++) {\n                    let data = arguments[i];\n\n                    let obj = data.obj;\n                    let props = {};\n\n                    Object.keys(data).forEach(k => { if (!(({ obj: true, match: true })[k])) props[k] = data[k]; });\n\n                    group.add(new AnimSequence(obj, props));\n                }\n\n                return group;\n\n            } else {\n                let data = arguments[0];\n\n                let obj = data.obj;\n                let props = {};\n\n                Object.keys(data).forEach(k => { if (!(({ obj: true, match: true })[k])) props[k] = data[k]; });\n\n                let seq = new AnimSequence(obj, props);\n\n                return seq;\n            }\n        },\n\n        createGroup: function(...rest) {\n            let group = new AnimGroup;\n            rest.forEach(seq => group.add(seq));\n            return group;\n        },\n\n        set USE_TRANSFORM(v) { USE_TRANSFORM = !!v; },\n        \n        get USE_TRANSFORM() { return USE_TRANSFORM; },\n        \n        easing: {\n            linear: Linear,\n            ease: new CBezier(0.25, 0.1, 0.25, 1),\n            ease_in: new CBezier(0.42, 0, 1, 1),\n            ease_out: new CBezier(0.2, 0.8, 0.3, 0.99),\n            ease_in_out: new CBezier(0.42, 0, 0.58, 1),\n            overshoot: new CBezier(0.2, 1.5, 0.2, 0.8)\n        }\n    };\n})();\n\nexport { Animation };","import { Animation } from \"./animation\";\n\nfunction setTo(to, seq, duration, easing){\n\n    let cs = window.getComputedStyle(to, null);\n    \n    var rect = to.getBoundingClientRect();\n    let to_width = cs.getPropertyValue(\"width\");\n    let to_height = cs.getPropertyValue(\"height\");\n    let margin_left = parseFloat(cs.getPropertyValue(\"margin-left\"));\n    let to_bgc = cs.getPropertyValue(\"background-color\");\n\n    let left = seq.props.left, offl = to.offsetLeft - margin_left;\n    let left_diff = (left.keys[0].val) - (rect.left);\n\n    left.keys[0].val = new left.type(offl + left_diff, \"px\");\n    left.keys[1].val = new left.type(offl,\"px\");\n\n    left.keys[1].dur = duration;\n    left.keys[1].len = duration;\n    left.keys[1].ease = easing;\n    left.duration = duration;\n\n    let top = seq.props.top;\n    let top_diff = top.keys[0].val - rect.top;\n    top.keys[0].val = new top.type(to.offsetTop + top_diff, \"px\");\n    top.keys[1].val = new top.type(to.offsetTop ,\"px\");\n    top.keys[1].dur = duration;\n    top.keys[1].len = duration;\n    top.keys[1].ease = easing;\n    top.duration = duration;\n\n\n    seq.props.width.keys[0].val = new seq.props.width.type(to_width);\n    seq.props.width.keys[0].dur = duration;\n    seq.props.width.keys[0].len = duration;\n    seq.props.width.keys[0].ease = easing;\n    seq.props.width.duration = duration;\n\n    seq.props.height.keys[0].val = new seq.props.height.type(to_height);\n    seq.props.height.keys[0].dur = duration;\n    seq.props.height.keys[0].len = duration; \n    seq.props.height.keys[0].ease = easing; \n    seq.props.height.duration = duration;\n\n    seq.props.backgroundColor.keys[0].val = new seq.props.backgroundColor.type(to_bgc);\n    seq.props.backgroundColor.keys[0].dur = duration; \n    seq.props.backgroundColor.keys[0].len = duration; \n    seq.props.backgroundColor.keys[0].ease = easing; \n    seq.props.backgroundColor.duration = duration;\n\n    seq.obj = to;\n\n    seq.addEventListener(\"stopped\", ()=>{\n        debugger\n    });\n}\n\n/**\n    Transform one element from another back to itself\n    @alias module:wick~internals.TransformTo\n*/\nexport function TransformTo(element_from, element_to, duration = 500, easing = Animation.easing.linear, HIDE_OTHER) {\n    let rect = element_from.getBoundingClientRect();\n    let cs = window.getComputedStyle(element_from, null);\n    let margin_left = parseFloat(cs.getPropertyValue(\"margin\"));\n\n    let seq = Animation.createSequence({\n        obj: element_from,\n        width: { value: \"0px\"},\n        height: { value: \"0px\"},\n        backgroundColor: { value: \"rgb(1,1,1)\"},\n        left: [{value:rect.left+\"px\"},{ value: \"0px\"}],\n        top: [{value:rect.top+\"px\"},{ value: \"0px\"}]\n    });\n\n    if (!element_to) {\n\n        let a = (seq) => (element_to, duration = 500, easing = Animation.easing.linear,  HIDE_OTHER = false) => {\n            setTo(element_to, seq, duration, easing);\n            seq.duration = duration;\n            return seq;\n        };\n\n        return a(seq);\n    }\n\n    setTo(element_to, duration, easing);\n    seq.duration = duration;\n    return seq;\n}","import spark from \"@candlefw/spark\";\n\nimport { Animation } from \"./animation\";\nimport { TransformTo } from \"./transformto\";\n\nconst Transitioneer = (function() {\n\n    let obj_map = new Map();\n    let ActiveTransition = null;\n\n    function $in(anim_data_or_duration = 0, delay = 0) {\n\n        let seq;\n\n        if (typeof(anim_data_or_duration) == \"object\") {\n            if (anim_data_or_duration.match && this.TT[anim_data_or_duration.match]) {\n                let duration = anim_data_or_duration.duration;\n                let easing = anim_data_or_duration.easing;\n                seq = this.TT[anim_data_or_duration.match](anim_data_or_duration.obj, duration, easing);\n            } else\n                seq = Animation.createSequence(anim_data_or_duration);\n\n            //Parse the object and convert into animation props. \n            if (seq) {\n                this.in_seq.push(seq);\n                this.in_duration = Math.max(this.in_duration, seq.duration);\n                if (this.OVERRIDE) {\n\n                    if (obj_map.get(seq.obj)) {\n                        let other_seq = obj_map.get(seq.obj);\n                        other_seq.removeProps(seq);\n                    }\n\n                    obj_map.set(seq.obj, seq);\n                }\n            }\n\n        } else\n            this.in_duration = Math.max(this.in_duration, parseInt(delay) + parseInt(anim_data_or_duration));\n\n        return this.in;\n    }\n\n\n    function $out(anim_data_or_duration = 0, delay = 0, in_delay = 0) {\n        //Every time an animating component is added to the Animation stack delay and duration need to be calculated.\n        //The highest in_delay value will determine how much time is afforded before the animations for the in portion are started.\n\n        if (typeof(anim_data_or_duration) == \"object\") {\n\n            if (anim_data_or_duration.match) {\n                this.TT[anim_data_or_duration.match] = TransformTo(anim_data_or_duration.obj);\n            } else {\n                let seq = Animation.createSequence(anim_data_or_duration);\n                if (seq) {\n                    this.out_seq.push(seq);\n                    this.out_duration = Math.max(this.out_duration, seq.duration);\n                    if (this.OVERRIDE) {\n\n                        if (obj_map.get(seq.obj)) {\n                            let other_seq = obj_map.get(seq.obj);\n                            other_seq.removeProps(seq);\n                        }\n\n                        obj_map.set(seq.obj, seq);\n                    }\n                }\n                this.in_delay = Math.max(this.in_delay, parseInt(delay));\n            }\n        } else {\n            this.out_duration = Math.max(this.out_duration, parseInt(delay) + parseInt(anim_data_or_duration));\n            this.in_delay = Math.max(this.in_delay, parseInt(in_delay));\n        }\n    }\n\n\n\n    class Transition {\n        constructor(override = true) {\n            this.in_duration = 0;\n            this.out_duration = 0;\n            this.PLAY = true;\n\n            this.reverse = false;\n\n            this.time = 0;\n\n            // If set to zero transitions for out and in will happen simultaneously.\n            this.in_delay = 0;\n\n            this.in_seq = [];\n            this.out_seq = [];\n\n            this.TT = {};\n            //Final transition time is given by max(start_len+in_delay, end_len);\\\n            ActiveTransition = this;\n\n            this.out = $out.bind(this);\n            this.in = $in.bind(this);\n\n            Object.defineProperty(this.out, \"out_duration\", {\n                get: () => this.out_duration\n            });\n\n            this.OVERRIDE = override;\n        }\n\n        destroy() {\n            let removeProps = function(seq) {\n\n                if (!seq.DESTROYED) {\n                    if (obj_map.get(seq.obj) == seq)\n                        obj_map.delete(seq.obj);\n                }\n\n                seq.destroy();\n            };\n            this.in_seq.forEach(removeProps);\n            this.out_seq.forEach(removeProps);\n            this.in_seq.length = 0;\n            this.out_seq.length = 0;\n            this.res = null;\n            this.out = null;\n            this.in = null;\n        }\n\n        get duration() {\n            return Math.max(this.in_duration + this.in_delay, this.out_duration);\n        }\n\n\n        start(time = 0, speed = 1, reverse = false) {\n\n            this.time = time;\n            this.speed = Math.abs(speed);\n            this.reverse = reverse;\n\n            if (this.reverse)\n                this.speed = -this.speed;\n\n            return new Promise((res, rej) => {\n                if (this.duration > 0)\n                    this.scheduledUpdate(0, 0);\n                if (this.duration < 1)\n                    return res();\n                this.res = res;\n            });\n        }\n\n        play(t) {\n            this.PLAY = true;\n            let time = this.duration * t;\n            this.step(time);\n            return time;\n        }\n\n        stop() {\n            this.PLAY = false;\n        }\n\n        step(t) {\n            for (let i = 0; i < this.out_seq.length; i++) {\n                let seq = this.out_seq[i];\n                seq.run(t);\n            }\n\n            t = Math.max(t - this.in_delay, 0);\n\n            for (let i = 0; i < this.in_seq.length; i++) {\n                let seq = this.in_seq[i];\n                seq.run(t);\n            }\n\n        }\n\n        scheduledUpdate(step, time) {\n            if (!this.PLAY) return;\n\n            this.time += time * this.speed;\n\n            this.step(this.time);\n\n\n            if (this.res && this.time >= this.in_delay) {\n                this.res();\n                this.res = null;\n            }\n\n            if (this.reverse) {\n                if (this.time > 0)\n                    return spark.queueUpdate(this);\n            } else {\n                if (this.time < this.duration)\n                    return spark.queueUpdate(this);\n            }\n\n            if (this.res)\n                this.res();\n\n            this.destroy();\n        }\n    }\n\n    return { createTransition: (OVERRIDE) => new Transition(OVERRIDE) };\n})();\n\nexport { Transitioneer };","import { Transitioneer } from \"@candlefw/glow\";\r\nimport spark from \"@candlefw/spark\";\r\n\r\nimport { ModelContainerBase } from \"../model/container/base\";\r\nimport { MultiIndexedContainer } from \"../model/container/multi\";\r\nimport { View } from \"../view\";\r\n\r\n/**\r\n * SourceTemplate provide the mechanisms for dealing with lists and sets of components. \r\n *\r\n * @param      {Source}  parent   The Source parent object.\r\n * @param      {Object}  data     The data object hosting attribute properties from the HTML template. \r\n * @param      {Object}  presets  The global presets object.\r\n * @param      {HTMLElement}  element  The element that the Source will _bind_ to. \r\n */\r\nexport class SourceTemplate extends View {\r\n\r\n    constructor(parent, presets, element) {\r\n\r\n        super();\r\n\r\n        this.ele = element;\r\n        this.parent = null;\r\n        this.activeSources = [];\r\n        this.dom_sources = [];\r\n        this.filters = [];\r\n        this.ios = [];\r\n        this.terms = [];\r\n        this.sources = [];\r\n        this.range = null;\r\n        this._SCHD_ = 0;\r\n        this.prop = null;\r\n        this.package = null;\r\n        this.transition_in = 0;\r\n        this.offset = 0;\r\n        this.limit = 0;\r\n        this.shift = 1;\r\n        this.dom_dn = [];\r\n        this.dom_up = [];\r\n        this.trs_up = null;\r\n        this.trs_dn = null;\r\n        this.scrub_v = 0;\r\n        this.old_scrub = 0;\r\n        this.scrub_offset = 0;\r\n        this.UPDATE_FILTER = false;\r\n        this.time = 0;\r\n        this.dom_up_appended = false;\r\n        this.dom_dn_appended = false;\r\n        this.root = 0;\r\n        this.sco = 0;\r\n        this.AUTO_SCRUB = false;\r\n        parent.addTemplate(this);\r\n    }\r\n\r\n    get data() {}\r\n    set data(container) {\r\n\r\n        if (container instanceof ModelContainerBase) {\r\n            container.pin();\r\n            container.addView(this);\r\n            return;\r\n        }\r\n        if (!container) return;\r\n        if (Array.isArray(container)) this.cull(container);\r\n        else this.cull(container.data);\r\n    }\r\n\r\n    update(container) {\r\n        if (container instanceof ModelContainerBase) container = container.get();\r\n        if (!container) return;\r\n        //let results = container.get(this.getTerms());\r\n        // if (container.length > 0) {\r\n        if (Array.isArray(container)) this.cull(container);\r\n        else this.cull(container.data);\r\n        // }\r\n    }\r\n\r\n\r\n    /**\r\n     * Called by Spark when a change is made to the Template HTML structure. \r\n     * \r\n     * @protected\r\n     */\r\n    scheduledUpdate() {\r\n\r\n        if (this.SCRUBBING) {\r\n            if (!this.AUTO_SCRUB) {\r\n                this.SCRUBBING = false;\r\n                return;\r\n            }\r\n\r\n            if (\r\n                Math.abs(this.sscr) > 0.0001\r\n            ) {\r\n                this.ssoc += this.sscr;\r\n                this.scrub(this.ssoc);\r\n                this.sscr *= (this.drag);\r\n\r\n                let pos = this.old_scrub - this.scrub_offset + this.offset;\r\n\r\n                if (!((this.sscr < 0 || pos < this.max) &&\r\n                        (this.sscr > 0 || pos > 0))) {\r\n                    this.sscr = 0;\r\n                }\r\n\r\n                spark.queueUpdate(this);\r\n\r\n            } else {\r\n                this.scrub_v = 0;\r\n                this.scrub(Infinity);\r\n                this.old_scrub = 0;\r\n                this.SCRUBBING = false;\r\n            }\r\n        } else if (this.UPDATE_FILTER) {\r\n            this.filterUpdate();\r\n        } else {\r\n            this.limitUpdate();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Scrub provides a mechanism to scroll through pages of a container that has been limited through the limit filter.\r\n     * @param  {Number} scrub_amount [description]\r\n     */\r\n    scrub(scrub_amount, SCRUBBING = true) {\r\n        this.SCRUBBING = true;\r\n\r\n        if (this.AUTO_SCRUB && !SCRUBBING && scrub_amount != Infinity) {\r\n            this.root = this.offset;\r\n            this.sco = this.old_scrub;\r\n            this.old_scrub += scrub_amount;\r\n            this.AUTO_SCRUB = false;\r\n        }\r\n\r\n        if (scrub_amount !== Infinity) {\r\n            scrub_amount += this.sco;\r\n\r\n            let s = scrub_amount - this.scrub_offset;\r\n\r\n            if (s > 1) {\r\n                //Make Sure the the transition animation is completed before moving on to new animation sequences.\r\n                this.trs_up.play(1);\r\n                this.scrub_offset++;\r\n                s = scrub_amount - this.scrub_offset;\r\n                this.render(null, this.activeSources, this.limit, this.offset + 1, true);\r\n            } else if (s < -1) {\r\n                this.trs_dn.play(1);\r\n                this.scrub_offset--;\r\n                s = scrub_amount - this.scrub_offset;\r\n                this.render(null, this.activeSources, this.limit, this.offset - 1, true);\r\n            }\r\n\r\n            this.scrub_v = scrub_amount - this.old_scrub;\r\n            this.old_scrub = scrub_amount;\r\n\r\n            if (s > 0) {\r\n\r\n                if (this.offset >= this.max) {\r\n                    if (s > 0) s = 0;\r\n                }\r\n\r\n\r\n                if (!this.dom_up_appended) {\r\n\r\n                    for (let i = 0; i < this.dom_up.length; i++) {\r\n                        this.dom_up[i].appendToDOM(this.ele);\r\n                        this.dom_up[i].index = -1;\r\n                        this.dom_sources.push(this.dom_up[i]);\r\n                    }\r\n                    this.dom_up_appended = true;\r\n                }\r\n                this.time = this.trs_up.play(s);\r\n            } else {\r\n\r\n                if (this.offset < 1 && s < 0) {\r\n                    s = 0;\r\n                    this.scrub_v = 0;\r\n                }\r\n\r\n                if (!this.dom_dn_appended) {\r\n\r\n                    for (let i = 0; i < this.dom_dn.length; i++) {\r\n                        this.dom_dn[i].appendToDOM(this.ele, this.dom_sources[0].ele);\r\n                        this.dom_dn[i].index = -1;\r\n                    }\r\n\r\n                    this.dom_sources = this.dom_dn.concat(this.dom_sources);\r\n\r\n\r\n                    this.dom_dn_appended = true;\r\n                }\r\n\r\n                this.time = this.trs_dn.play(-s);\r\n            }\r\n        } else {\r\n            this.sco = 0;\r\n\r\n            if (Math.abs(this.scrub_v) > 0.000001) {\r\n\r\n                if (Math.abs(this.scrub_v) < 0.05) this.scrub_v = 0.05 * Math.sign(this.scrub_v);\r\n                if (Math.abs(this.scrub_v) > 0.2) this.scrub_v = 0.2 * Math.sign(this.scrub_v);\r\n\r\n                this.AUTO_SCRUB = true;\r\n\r\n                //Determine the distance traveled and normal drag decay of 0.5\r\n                let dist = this.scrub_v * (1 / (-0.5 + 1));\r\n\r\n                //get the distance to nearest page given the distance traveled\r\n                let nearest = (this.root + this.old_scrub + dist - this.scrub_offset);\r\n\r\n                nearest = (this.scrub_v > 0) ? Math.min(this.max, Math.ceil(nearest)) : Math.max(0, Math.floor(nearest));\r\n\r\n                //get the ratio of the distance from the current position and distance to the nearest \r\n                let nearest_dist = nearest - (this.root + this.old_scrub - this.scrub_offset);\r\n                let ratio = nearest_dist / this.scrub_v;\r\n                let drag = Math.abs(1 - (1 / ratio));\r\n\r\n                this.drag = drag;\r\n                this.sscr = this.scrub_v;\r\n                this.ssoc = this.old_scrub;\r\n                this.SCRUBBING = true;\r\n                spark.queueUpdate(this);\r\n            } else {\r\n                let pos = Math.round(this.old_scrub - this.scrub_offset + this.offset);\r\n                this.render(null, this.activeSources, this.limit, pos, true).play(1);\r\n                this.scrub_offset = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    render(transition, output = this.activeSources, limit = this.limit, offset = this.offset, NO_TRANSITION = false) {\r\n        let j = 0,\r\n            ol = output.length,\r\n            al = this.dom_sources.length;\r\n\r\n        let direction = true;\r\n\r\n        let OWN_TRANSITION = false;\r\n\r\n        if (!transition) transition = Transitioneer.createTransition(), OWN_TRANSITION = true;\r\n\r\n        offset = Math.max(0, offset);\r\n\r\n        if (limit > 0) {\r\n\r\n            direction = this.offset < offset;\r\n            this.shift = Math.max(1, Math.min(limit, this.shift));\r\n            let ein = [];\r\n            let shift_points = Math.ceil(ol / this.shift);\r\n            this.max = shift_points - 1;\r\n            this.offset = Math.max(0, Math.min(shift_points - 1, offset));\r\n            this.root = this.offset;\r\n            let off = this.offset * this.shift;\r\n\r\n            this.trs_up = Transitioneer.createTransition(false);\r\n            this.trs_dn = Transitioneer.createTransition(false);\r\n            this.dom_dn.length = 0;\r\n            this.dom_up.length = 0;\r\n            this.dom_up_appended = false;\r\n            this.dom_dn_appended = false;\r\n\r\n            let i = 0,\r\n                ip = 0,\r\n                ia = 0,\r\n                oa = 0;\r\n\r\n            while (i < off - this.shift) output[i++].index = -2;\r\n            while (i < off) {\r\n                this.dom_dn.push(output[i]);\r\n\r\n                output[i].update({\r\n                    trs_in_dn: {\r\n                        index: ip++,\r\n                        trs: this.trs_dn.in\r\n                    }\r\n                });\r\n\r\n                output[i++].index = -2;\r\n            }\r\n\r\n            ia = 0;\r\n\r\n            while (i < off + limit && i < ol) {\r\n\r\n                if (oa < this.shift) {\r\n                    oa++;\r\n                    output[i].update({\r\n                        trs_out_up: {\r\n                            trs: this.trs_up.out,\r\n                            index: 0\r\n                        }\r\n                    });\r\n                } else {\r\n                    output[i].update({\r\n                        arrange: {\r\n                            trs: this.trs_up.in,\r\n                            index: (i) - off - this.shift\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (i >= off + limit - this.shift) {\r\n                    ip++;\r\n                    output[i].update({\r\n                        trs_out_dn: {\r\n                            trs: this.trs_dn.out,\r\n                            index: 0\r\n                        }\r\n                    });\r\n                } else {\r\n                    output[i].update({\r\n                        arrange: {\r\n                            trs: this.trs_dn.in,\r\n                            index: ip++\r\n                        }\r\n                    });\r\n                }\r\n\r\n                output[i].index = i;\r\n                ein.push(output[i++]);\r\n            }\r\n\r\n            while (i < off + limit + this.shift && i < ol) {\r\n                this.dom_up.push(output[i]);\r\n                output[i].update({\r\n                    trs_in_up: {\r\n                        index: (i) - off - this.shift,\r\n                        trs: this.trs_up.in\r\n                    }\r\n                });\r\n                output[i++].index = -3;\r\n            }\r\n            while (i < ol) output[i++].index = -3;\r\n\r\n            output = ein;\r\n\r\n            ol = ein.length;\r\n\r\n            this.limit = limit;\r\n        } else {\r\n            this.max = 0;\r\n            this.limit = 0;\r\n        }\r\n\r\n        let trs_in = { trs: transition.in, index: 0 };\r\n\r\n        let trs_out = { trs: transition.out, index: 0 };\r\n\r\n        for (let i = 0; i < ol; i++) output[i].index = i;\r\n\r\n        for (let i = 0; i < al; i++) {\r\n            let as = this.dom_sources[i];\r\n\r\n            if (as.index > j) {\r\n                let ele = as.element;\r\n                while (j < as.index && j < ol) {\r\n                    let os = output[j];\r\n                    os.index = j;\r\n                    os.appendToDOM(this.ele, ele);\r\n                    trs_in.index = j;\r\n                    //os.index = -1;\r\n                    os.transitionIn(trs_in, (direction) ? \"trs_in_up\" : \"trs_in_dn\");\r\n                    j++;\r\n                }\r\n            } else if (as.index < 0) {\r\n                if (!NO_TRANSITION) {\r\n                    switch (as.index) {\r\n                        case -2:\r\n                        case -3:\r\n                            as.transitionOut(trs_out, (direction) ? \"trs_out_up\" : \"trs_out_dn\");\r\n                            break;\r\n                        default:\r\n                            as.transitionOut(trs_out);\r\n                    }\r\n                } else {\r\n                    as.transitionOut();\r\n                }\r\n                continue;\r\n            }\r\n\r\n            trs_in.index = j;\r\n\r\n            as.update({ arrange: trs_in });\r\n\r\n            as._TRANSITION_STATE_ = true;\r\n\r\n            j++;\r\n\r\n            as.index = -1;\r\n        }\r\n\r\n        while (j < output.length) {\r\n            output[j].appendToDOM(this.ele);\r\n            output[j].index = -1;\r\n            trs_in.index = j;\r\n            output[j].transitionIn(trs_in, (direction) ? \"trs_in_up\" : \"trs_in_dn\");\r\n            j++;\r\n        }\r\n\r\n        this.ele.style.position = this.ele.style.position;\r\n\r\n        this.dom_sources = output;\r\n\r\n        if (OWN_TRANSITION)\r\n            if (NO_TRANSITION) {\r\n                return transition;\r\n            } else {\r\n                transition.start();\r\n            }\r\n\r\n        this.parent.upImport(\"template_count_changed\", {\r\n            displayed: ol,\r\n            offset: offset,\r\n            count: this.activeSources.length,\r\n            pages: this.max,\r\n            ele: this.ele,\r\n            template: this,\r\n            trs: transition.in\r\n        });\r\n\r\n\r\n        return transition;\r\n    }\r\n\r\n    limitUpdate(transition, output) {\r\n\r\n        let limit = this.limit,\r\n            offset = 0;\r\n\r\n        for (let i = 0, l = this.filters.length; i < l; i++) {\r\n            let filter = this.filters[i];\r\n            if (filter.CAN_USE) {\r\n                if (filter._CAN_LIMIT_) limit = filter._value_;\r\n                if (filter._CAN_OFFSET_) offset = filter._value_;\r\n                if (filter._CAN_SHIFT_) this.shift = filter._value_;\r\n            }\r\n        }\r\n\r\n        this.SCRUBBING = false;\r\n        this.scrub_offset = 0;\r\n        this.scrub_v = 0;\r\n\r\n        this.render(transition, output, limit, offset);\r\n    }\r\n    /**\r\n     * Filters stored Sources with search terms and outputs the matching Sources to the DOM.\r\n     * \r\n     * @protected\r\n     */\r\n    filterUpdate(transition) {\r\n        let output = this.sources.slice();\r\n        if (output.length < 1) return;\r\n        for (let i = 0, l = this.filters.length; i < l; i++) {\r\n            let filter = this.filters[i];\r\n            if (filter.CAN_USE) {\r\n                if (filter.CAN_FILTER) output = output.filter(filter.filter_function._filter_expression_);\r\n                if (filter.CAN_SORT) output = output.sort(filter._sort_function_);\r\n            }\r\n        }\r\n        this.activeSources = output;\r\n        this.limitUpdate(transition, output);\r\n        this.UPDATE_FILTER = false;\r\n    }\r\n    /**\r\n     * Removes stored Sources that do not match the ModelContainer contents. \r\n     *\r\n     * @param      {Array}  new_items  Array of Models that are currently stored in the ModelContainer. \r\n     * \r\n     * @protected\r\n     */\r\n    cull(new_items) {\r\n        if (!new_items) new_items = [];\r\n        let transition = Transitioneer.createTransition();\r\n        if (new_items.length == 0) {\r\n            let sl = this.sources.length;\r\n            for (let i = 0; i < sl; i++) this.sources[i].transitionOut(transition, \"\", true);\r\n            this.sources.length = 0;\r\n\r\n            this.parent.upImport(\"template_count_changed\", {\r\n                displayed: 0,\r\n                offset: 0,\r\n                count: 0,\r\n                pages: 0,\r\n                ele: this.ele,\r\n                template: this,\r\n                trs: transition.in\r\n            });\r\n        } else {\r\n            let exists = new Map(new_items.map(e => [e, true]));\r\n            var out = [];\r\n            for (let i = 0, l = this.activeSources.length; i < l; i++)\r\n                if (exists.has(this.activeSources[i].model)) {\r\n                    exists.set(this.activeSources[i].model, false);\r\n                }\r\n            for (let i = 0, l = this.sources.length; i < l; i++)\r\n                if (!exists.has(this.sources[i].model)) {\r\n                    this.sources[i].transitionOut(transition, \"\", true);\r\n                    this.sources[i].index = -1;\r\n                    this.sources.splice(i, 1);\r\n                    l--;\r\n                    i--;\r\n                } else exists.set(this.sources[i].model, false);\r\n            exists.forEach((v, k, m) => {\r\n                if (v) out.push(k);\r\n            });\r\n            if (out.length > 0) {\r\n                this.added(out, transition);\r\n            } else {\r\n                for (let i = 0, j = 0, l = this.activeSources.length; i < l; i++, j++) {\r\n                    if (this.activeSources[i]._TRANSITION_STATE_) {\r\n                        if (j !== i) {\r\n                            this.activeSources[i].update({\r\n                                arrange: {\r\n                                    index: i,\r\n                                    trs: transition.in\r\n                                }\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.activeSources.splice(i, 1), i--, l--;\r\n                    }\r\n                }\r\n\r\n                this.filterUpdate(transition);\r\n            }\r\n        }\r\n        transition.start();\r\n    }\r\n    /**\r\n     * Called by the ModelContainer when Models have been removed from its set.\r\n     *\r\n     * @param      {Array}  items   An array of items no longer stored in the ModelContainer. \r\n     */\r\n    removed(items, transition = Transitioneer.createTransition()) {\r\n        for (let i = 0; i < items.length; i++) {\r\n            let item = items[i];\r\n            for (let j = 0; j < this.sources.length; j++) {\r\n                let Source = this.sources[j];\r\n                if (Source.model == item) {\r\n                    this.sources.splice(j, 1);\r\n                    Source.transitionOut(transition, \"\", true);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.filterUpdate(transition);\r\n    }\r\n    /**\r\n     * Called by the ModelContainer when Models have been added to its set.\r\n     *\r\n     * @param      {Array}  items   An array of new items now stored in the ModelContainer. \r\n     */\r\n    added(items, transition = Transitioneer.createTransition()) {\r\n        for (let i = 0; i < items.length; i++) {\r\n            let mgr = this.package.mount(null, items[i], false);\r\n            mgr.sources.forEach((s) => {\r\n                s.parent = this.parent;\r\n            });\r\n            this.sources.push(mgr);\r\n        }\r\n        for (let i = 0; i < this.sources.length; i++) {\r\n            //this.parent.addSource(this.sources[i]);\r\n        }\r\n        this.filterUpdate(transition);\r\n    }\r\n    revise() {\r\n        if (this.cache) this.update(this.cache);\r\n    }\r\n    getTerms() {\r\n        let out_terms = [];\r\n        for (let i = 0, l = this.terms.length; i < l; i++) {\r\n            let term = this.terms[i].term;\r\n            if (term) out_terms.push(term);\r\n        }\r\n        if (out_terms.length == 0) return null;\r\n        return out_terms;\r\n    }\r\n    get() {\r\n        if (this.model instanceof MultiIndexedContainer) {\r\n            if (this.data.index) {\r\n                let index = this.data.index;\r\n                let query = {};\r\n                query[index] = this.getTerms();\r\n                return this.model.get(query)[index];\r\n            } else console.warn(\"No index value provided for MultiIndexedContainer!\");\r\n        } else {\r\n            let source = this.model.source;\r\n            let terms = this.getTerms();\r\n            if (source) {\r\n                this.model.destroy();\r\n                let model = source.get(terms, null);\r\n                model.pin();\r\n                model.addView(this);\r\n            }\r\n            return this.model.get(terms);\r\n        }\r\n        return [];\r\n    }\r\n    down(data, changed_values) {\r\n        for (let i = 0, l = this.activeSources.length; i < l; i++) this.activeSources[i].down(data, changed_values);\r\n    }\r\n    transitionIn(transition) {\r\n        return;\r\n        for (let i = 0, l = this.activeSources.length; i < l; i++) {\r\n            this.ele.appendChild(this.activeSources[i].element);\r\n            this.activeSources[i].transitionIn(transition);\r\n            this.activeSources[i].update({\r\n                arrange: {\r\n                    index: i,\r\n                    trs: transition.trs_in\r\n                }\r\n            });\r\n        }\r\n    }\r\n    transitionOut(transition) {\r\n        return;\r\n        for (let i = 0, l = this.activeSources.length; i < l; i++) this.activeSources[i].transitionOut(transition);\r\n    }\r\n}","import spark from \"@candlefw/spark\";\r\nimport { IOBase } from \"./io\";\r\n\r\nlet expr_check = (expr)=>{\r\n    return (expr.type == 2 && typeof(expr.func) == \"function\");\r\n};\r\n\r\n\r\n\r\nexport class FilterIO extends IOBase {\r\n    constructor(source, errors, taps, template, activation, sort, filter, limit, offset, scrub, shift) {\r\n        super(template, errors);\r\n\r\n        this.template = template;\r\n        this._activation_function_ = null;\r\n        this._sort_function_ = null;\r\n        this.filter_function = null;\r\n        this.CAN_USE = false;\r\n        this.CAN_FILTER = false;\r\n        this._CAN_LIMIT_ = false;\r\n        this._CAN_OFFSET_ = false;\r\n        this.CAN_SORT = false;\r\n        this._SCHD_ = 0;\r\n\r\n        if (activation && activation.binding){\r\n            this._activation_function_ = activation.binding._bind_(source, errors, taps, this);\r\n        } else{\r\n            this.CAN_USE = true;\r\n        }\r\n\r\n        if (sort && sort.binding) {\r\n            let expr = sort.binding;\r\n            if (expr_check(expr)){\r\n                this._sort_function_ = (m1, m2) => expr.func(m1.model, m2.model);\r\n                this.CAN_SORT = true;\r\n            } \r\n        }else\r\n\r\n        if (filter && filter.binding) {\r\n            let expr = filter.binding;\r\n            if (expr_check(expr)){\r\n                this.filter_function = expr._bind_(source, errors, taps, this);\r\n                this.filter_function._IS_A_FILTER_ = true;\r\n                this.CAN_FILTER = true;  \r\n            } \r\n        }else\r\n\r\n        if (limit && limit.binding) {\r\n            let expr = limit.binding;\r\n                expr.method = (expr.method == 1) ? -1 : expr.method;\r\n                this._limit_function_ = expr._bind_(source, errors, taps, this);\r\n                ///this._limit_function_._IS_A_FILTER_ = true;\r\n                this._CAN_LIMIT_ = true;  \r\n        }else\r\n\r\n        if (offset && offset.binding) {\r\n            let expr = offset.binding;\r\n                expr.method = (expr.method == 1) ? -1 : expr.method;\r\n                this._offset_function_ = expr._bind_(source, errors, taps, this);\r\n                ///this._limit_function_._IS_A_FILTER_ = true;\r\n                this._CAN_OFFSET_ = true;  \r\n        }else\r\n\r\n        if (scrub && scrub.binding) {\r\n            let expr = scrub.binding;\r\n                expr.method = (expr.method == 1) ? -1 : expr.method;\r\n                this._scrub_function_ = expr._bind_(source, errors, taps, this);\r\n                ///this._limit_function_._IS_A_FILTER_ = true;\r\n                this._CAN_SCRUB_ = true;  \r\n        }else\r\n\r\n        if (shift && shift.binding) {\r\n            let expr = shift.binding;\r\n                expr.method = (expr.method == 1) ? -1 : expr.method;\r\n                this._page_function_ = expr._bind_(source, errors, taps, this);\r\n                ///this._limit_function_._IS_A_FILTER_ = true;\r\n                this._CAN_SHIFT_ = true;  \r\n        }\r\n    }\r\n\r\n    scheduledUpdate() {}\r\n    \r\n    update(){\r\n        if(this.CAN_SORT || this.CAN_FILTER){\r\n            this.template.UPDATE_FILTER = true;\r\n            spark.queueUpdate(this.template);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (this._sort_function_)\r\n            this._sort_function_.destroy();\r\n        if (this._activation_function_)\r\n            this._activation_function_.destroy();\r\n        if (this.filter_function)\r\n            this.filter_function.destroy();\r\n        this._sort_function_ = null;\r\n        this._activation_function_ = null;\r\n        this.filter_function = null;\r\n        this.template = null;\r\n    }\r\n\r\n    get data() {}\r\n    set data(v) {\r\n\r\n        this.CAN_USE = false;\r\n        if (v) this.CAN_USE = true;\r\n        this._value_ = v;\r\n\r\n        if(this._CAN_SCRUB_)\r\n            return this.template.scrub(this._value_, false);\r\n        \r\n        if(this.CAN_SORT || this.CAN_FILTER || this._CAN_SHIFT_)\r\n            this.template.UPDATE_FILTER = true;\r\n        \r\n        spark.queueUpdate(this.template);\r\n    }\r\n}","import { VoidNode } from \"./void\";\r\n\r\nexport class FilterNode extends VoidNode {\r\n\r\n    /******************************************* HOOKS ****************************************************/\r\n\r\n    endOfElementHook() {}\r\n\r\n    /**\r\n     * This node only needs to assess attribute values. InnerHTML will be ignored. \r\n     * @return     {boolean}  { description_of_the_return_value }\r\n     */\r\n    selfClosingTagHook() { return true; }\r\n\r\n}","import { VoidNode } from \"./void\";\r\n\r\nexport class PackageNode extends VoidNode {\r\n\r\n    constructor(start) {\r\n        super();\r\n        this._start_ = start;\r\n    }\r\n\r\n    /******************************************* HOOKS ****************************************************/\r\n\r\n    /**\r\n     * Binds new laxer to boundaries starting from open tag to close tag. Applies Lexer to new SourcePackage.\r\n     * @param      {Lexer}  lex     The lex\r\n     * @private\r\n     */\r\n    processTextNodeHook(lex) {}\r\n\r\n    _ignoreTillHook_() { return true; }\r\n\r\n    endOfElementHook(lex) {\r\n        let own_lex = lex.copy();\r\n\r\n        own_lex.off = this._start_;\r\n        own_lex.tl = 0;\r\n        own_lex.n.sl = lex.off;\r\n\r\n        this.par.package = new this.SourcePackage(own_lex, this.presets, false);\r\n\r\n        if (!this.fch)\r\n            this.mergeComponent();\r\n    }\r\n\r\n    mergeComponent() {\r\n        let component = this.presets.components[this.tag];\r\n\r\n        if (component)\r\n            this.par.package = new this.SourcePackage(component, this.presets, false);\r\n    }\r\n}","import { RootNode } from \"./root\";\r\nimport { appendChild, createElement } from \"../../../short_names\";\r\nimport { Source } from \"../../source\";\r\nimport { SourceTemplate } from \"../../template\";\r\nimport { Template } from \"../template/template_bindings\";\r\nimport { barrier_a_start, barrier_b_start } from \"../../../barriers\";\r\nimport { FilterIO } from \"../../io/filter_io\";\r\nimport { FilterNode } from \"./filter\";\r\nimport { PackageNode } from \"./package\";\r\n\r\nexport class SourceTemplateNode extends RootNode {\r\n    constructor(lex) {\r\n        super();\r\n        this.BUILD_LIST = [];\r\n        this.filters = [];\r\n        this.property_bind = null;\r\n        this.property_bind_text = \"\";\r\n        this.package = null;\r\n    }\r\n\r\n    build(element, source, presets, errors, taps) {\r\n\r\n        source = source || new Source(null, presets, element, this);\r\n\r\n        if (this.HAS_TAPS)\r\n            taps = source.linkTaps(this.tap_list);\r\n        if (this.property_bind && this.package) {\r\n\r\n            let ele = createElement(this.getAttribute(\"element\") || \"ul\");\r\n\r\n            this.class.split(\" \").map(c => c ? ele.classList.add(c) : {});\r\n\r\n            if (this._badge_name_)\r\n                source.badges[this._badge_name_] = ele;\r\n\r\n\r\n            let me = new SourceTemplate(source, presets, ele);\r\n            me.package = this.package;\r\n            me.prop = this.property_bind._bind_(source, errors, taps, me);\r\n\r\n            appendChild(element, ele);\r\n\r\n            for (let node = this.fch; node; node = this.getNextChild(node)) {\r\n                //All filter nodes here\r\n\r\n                let on = node.getAttrib(\"on\");\r\n                let sort = node.getAttrib(\"sort\");\r\n                let filter = node.getAttrib(\"filter\");\r\n                let limit = node.getAttrib(\"limit\");\r\n                let offset = node.getAttrib(\"offset\");\r\n                let scrub = node.getAttrib(\"scrub\");\r\n                let shift = node.getAttrib(\"shift\");\r\n\r\n                if (limit && limit.binding.type == 1) {\r\n                    me.limit = parseInt(limit.value);\r\n                    limit = null;\r\n                }\r\n\r\n                if (shift && shift.binding.type == 1) {\r\n                    me.shift = parseInt(shift.value);\r\n                    shift = null;\r\n                }\r\n\r\n                if (sort || filter || limit || offset || scrub || shift) //Only create Filter node if it has a sorting bind or a filter bind\r\n                    me.filters.push(new FilterIO(source, errors, taps, me, on, sort, filter, limit, offset, scrub, shift));\r\n            }\r\n        } else {\r\n            errors.push(new Error(`Missing source for template bound to \"${this.property_bind.bindings[0].tap_name}\"`));\r\n        }\r\n\r\n        return source;\r\n    }\r\n\r\n    /******************************************* HOOKS ****************************************************/\r\n\r\n    endOfElementHook() {}\r\n\r\n    _ignoreTillHook_() {}\r\n\r\n\r\n    createHTMLNodeHook(tag, start) {\r\n\r\n        switch (tag) {\r\n            case \"f\":\r\n                return new FilterNode(); //This node is used to \r\n            default:\r\n                return new PackageNode(start); //This node is used to build packages\r\n        }\r\n    }\r\n\r\n    processTextNodeHook(lex) {\r\n        if (!this.property_bind) {\r\n            this.property_bind_text = lex.trim().slice();\r\n            let cp = lex.copy();\r\n            lex.IWS = true;\r\n            cp.tl = 0;\r\n            if (cp.n.ch == barrier_a_start && (cp.n.ch == barrier_a_start || cp.ch == barrier_b_start)) {\r\n                let binding = Template(lex);\r\n                if (binding)\r\n                    this.property_bind = this.processTapBinding(binding);\r\n            }\r\n        }\r\n    }\r\n\r\n    innerToString(off){\r\n        //Insert temp child node for the property_bind\r\n        let str = this.property_bind_text;\r\n\r\n        str += super.innerToString(off);\r\n\r\n        return str;\r\n    }\r\n}","import {VoidNode} from \"./void\";\r\n\r\nexport class StyleNode extends VoidNode {\r\n    processTextNodeHook(lex) {\r\n        //Feed the lexer to a new CSS Builder\r\n        let css = this.getCSS();\r\n\r\n        lex.IWS = true;\r\n        lex.tl = 0;\r\n        lex.n;\r\n\r\n        css.parse(lex).catch((e) => {\r\n            throw e;\r\n        });\r\n    }\r\n}\r\n","import { RootNode } from \"./root\";\r\n\r\n/**\r\n * SVG HTMLElements to be created with the svg namespace in order to be rendered correctly.\r\n * @class      SVGNode (name)\r\n */\r\nexport class SVGNode extends RootNode {\r\n    createElement(presets, source) {\r\n        return document.createElementNS(\"http://www.w3.org/2000/svg\", this.tag);\r\n    }\r\n\r\n    createHTMLNodeHook(tag) {\r\n    \tconsole.log(tag)\r\n        //jump table.\r\n        switch (tag[0]) {\r\n            case \"w\":\r\n                switch (tag) {\r\n                    case \"w-s\":\r\n                        return new SourceNode(); //This node is used to \r\n                    case \"w-c\":\r\n                        return new SourceTemplateNode(); //This node is used to \r\n                }\r\n                break;\r\n            default:\r\n                switch (tag) {\r\n                    case \"a\":\r\n                        return new LinkNode();\r\n                        /** void elements **/\r\n                    case \"template\":\r\n                        return new VoidNode();\r\n                    case \"style\":\r\n                        return new StyleNode();\r\n                    case \"script\":\r\n                        return new ScriptNode();\r\n                    case \"svg\":\r\n                    case \"path\":\r\n                        return new SVGNode();\r\n                }\r\n        }\r\n\r\n        return new SVGNode();\r\n    }\r\n}","import { RootNode } from \"./root\";\r\nimport { ScriptNode } from \"./script\";\r\nimport { SourceNode } from \"./source\";\r\nimport { LinkNode } from \"./link\";\r\nimport { SourceTemplateNode } from \"./template\";\r\nimport { StyleNode } from \"./style\";\r\nimport { VoidNode } from \"./void\";\r\nimport { SVGNode } from \"./svg\";\r\n\r\n//Since all nodes extend the RootNode, this needs to be declared here to prevent module cycles. \r\nfunction CreateHTMLNode(tag) {\r\n    //jump table.\r\n    switch (tag[0]) {\r\n        case \"w\":\r\n            switch (tag) {\r\n                case \"w-s\":\r\n                    return new SourceNode(); //This node is used to \r\n                case \"w-c\":\r\n                    return new SourceTemplateNode(); //This node is used to \r\n            }\r\n            break;\r\n        default:\r\n            switch (tag) {\r\n                case \"a\":\r\n                    return new LinkNode();\r\n                /** void elements **/\r\n                case \"template\":\r\n                    return new VoidNode();\r\n                case \"style\":\r\n                    return new StyleNode();\r\n                case \"script\":\r\n                    return new ScriptNode();\r\n                case \"svg\":\r\n                case \"path\":\r\n                    return new SVGNode();\r\n            }\r\n    }\r\n\r\n    return new RootNode();\r\n}\r\n\r\nRootNode.prototype.createHTMLNodeHook = CreateHTMLNode;\r\n\r\nexport { RootNode, CreateHTMLNode };","/**\r\n * Factory object for Creating Source trees.  Encapsulates construction information derived from the HTML AST.  \r\n * \r\n * @param      {HTMLElement}  element      The element\r\n * @param      {Function}  constructor      The constructor for the object the Skeleton will create.\r\n * @param      {Object}  data  Data pulled from a tags attributes\r\n * @param      {Presets}  presets  The global Presets instance.\r\n * @memberof module:wick~internals.source\r\n * @alias Skeleton  \r\n */\r\nexport class Skeleton {\r\n\r\n    /**\r\n        Constructor of Skeleton\r\n    */\r\n    constructor(tree, presets) {\r\n        this.tree = tree;\r\n        this.presets = presets;\r\n    }\r\n\r\n\r\n    /**\r\n     * Constructs Source tree and returns that. \r\n     * @param {HTMLElement} element - host HTML Element. \r\n     * @param      {<type>}  primary_model    The model\r\n     * @return     {<type>}  { description_of_the_return_value }\r\n     */\r\n    flesh(element, primary_model = null) {\r\n\r\n        let Source = this.____copy____(element, null, primary_model);\r\n\r\n        if (Source)\r\n            Source.load(primary_model);\r\n\r\n        return Source;\r\n    }\r\n\r\n    /**\r\n     * Extends a given DOM tree and, optionally, a Source tree with it's own internal  tree.\r\n     * @param {HTMLElement} parent_element - HTML Element of the originating Source. \r\n     * @param {<type>}  parent_source   The parent source\r\n     */\r\n    extend(parent_element = null, parent_source = null) {\r\n        this.____copy____(parent_element, parent_source);\r\n    }\r\n\r\n    /**\r\n        Constructs a new object, attaching to elements hosted by a Source object. If the component to be constructed is a Source the \r\n        parent_element HTMLElement gets swapped out by a cloned HTMLElement that is hosted by the newly constructed Source.\r\n\r\n        @param {HTMLElement} parent_element - HTML Element of the originating tree. \r\n\r\n        @protected\r\n    */\r\n    ____copy____(parent_element = null, parent_source = null, primary_model = null) {\r\n        //List of errors generated when building DOM\r\n        let errors = [];\r\n\r\n        let source = this.tree.build(parent_element, parent_source, this.presets, errors);\r\n\r\n        if (errors.length > 0) {\r\n            //TODO!!!!!!Remove all bindings that change Model. \r\n            //source.kill_up_bindings();\r\n            errors.forEach(e => console.log(e));\r\n        }\r\n\r\n        return source;\r\n    }\r\n}","import whind from \"@candlefw/whind\";\r\n\r\nimport { EL } from \"../../short_names\";\r\nimport { CreateHTMLNode } from \"./nodes/index\";\r\nimport { Skeleton } from \"../skeleton\";\r\n\r\n\r\n\r\nfunction complete(lex, SourcePackage, presets, ast, url, win) {\r\n    /*\r\n     * Only accept certain nodes for mounting to the DOM. \r\n     * The custom element `import` is simply used to import extra HTML data from network for use with template system. It should not exist otherwise.\r\n     */\r\n    if (ast.tag) {\r\n        if ((ast.tag == \"import\" || ast.tag == \"link\")) {\r\n            //add tags to package itself.\r\n            SourcePackage.links.push(ast);\r\n        } else if (ast.tag !== \"template\") {\r\n            let skeleton = new Skeleton(ast, presets);\r\n            SourcePackage.skeletons.push(skeleton);\r\n        }\r\n    }\r\n\r\n    lex.IWS = true;\r\n\r\n    while (!lex.END && lex.ch != \"<\") { lex.n; }\r\n\r\n    if (!lex.END)\r\n        return parseText(lex, SourcePackage, presets, url, win);\r\n\r\n    SourcePackage.complete();\r\n\r\n    return SourcePackage;\r\n}\r\n\r\n\r\nfunction buildCSS(lex, SourcePackage, presets, ast, css_list, index, url, win) {\r\n    return css_list[index].READY().then(() => {\r\n\r\n        if (++index < css_list.length) return buildCSS(lex, SourcePackage, presets, ast, css_list, index, url, win);\r\n\r\n        ast.linkCSS(null, win);\r\n\r\n        return complete(lex, SourcePackage, presets, ast, url, win);\r\n    });\r\n}\r\n\r\nexport function parseText(lex, SourcePackage, presets, url, win) {\r\n    let start = lex.off;\r\n\r\n    while (!lex.END && lex.ch != \"<\") { lex.n; }\r\n\r\n    if (!lex.END) {\r\n\r\n        if (lex.pk.ty != lex.types.id)\r\n            throw new Error(`Expecting an Identifier after '<' character, ${lex.str}`);\r\n\r\n        let node = CreateHTMLNode(lex.p.tx);\r\n\r\n        node.presets = presets;\r\n\r\n        return node.parse(lex, url).then((ast) => {\r\n            if (ast.css && ast.css.length > 0)\r\n                return buildCSS(lex, SourcePackage, presets, ast, ast.css, 0, url, win);\r\n\r\n            return complete(lex, SourcePackage, presets, ast, url, win);\r\n        }).catch((e) => {\r\n            SourcePackage.addError(e);\r\n            SourcePackage.complete();\r\n        });\r\n    }\r\n\r\n    debugger;\r\n    SourcePackage.addError(new Error(`Unexpected end of input. ${lex.slice(start)}, ${lex.str}`));\r\n    SourcePackage.complete();\r\n}\r\n\r\n\r\n/**\r\n * Compiles an object graph based input into a SourcePackage.\r\n * @param      {SourcePackage}  SourcePackage     The source package\r\n * @param      {Presets}  presets           The global Presets instance\r\n * @param      {HTMLElement | Lexer | string}  element     The element\r\n * @memberof module:wick~internals.templateCompiler\r\n * @alias CompileSource\r\n */\r\nfunction CompileSource(SourcePackage, presets, element, url, win = window) {\r\n    let lex;\r\n    if (element instanceof whind.constructor) {\r\n        lex = element;\r\n    } else if (typeof(element) == \"string\")\r\n        lex = whind(element);\r\n    else if (element instanceof EL) {\r\n        if (element.tagName == \"TEMPLATE\") {\r\n            let temp = document.createElement(\"div\");\r\n            temp.appendChild(element.content);\r\n            element = temp;\r\n        }\r\n        lex = whind(element.innerHTML);\r\n    } else {\r\n        let e = new Error(\"Cannot compile component\");\r\n        SourcePackage.addError(e);\r\n        SourcePackage.complete();\r\n    }\r\n    return parseText(lex, SourcePackage, presets, url, win);\r\n}\r\n\r\nexport { CompileSource };","import whind from \"@candlefw/whind\";\r\n\r\nimport { EL, OB, cloneNode, appendChild } from \"../short_names\";\r\nimport { SourceManager } from \"./manager\";\r\nimport { CompileSource } from \"./compiler/compiler\";\r\nimport { Skeleton } from \"./skeleton\";\r\nimport { RootNode } from \"./compiler/nodes/root\";\r\n\r\n\r\n/**\r\n * SourcePackages stores compiled {@link SourceSkeleton}s and provide a way to _bind_ Model data to the DOM in a reusable manner. *\r\n * @property    {Array}    skeletons\r\n * @property    {Array}    styles\r\n * @property    {Array}    scripts\r\n * @property    {Array}    style_core\r\n * @readonly\r\n * @callback   If `RETURN_PROMISE` is set to `true`, a new Promise is returned, which will asynchronously return a SourcePackage instance if compilation is successful.\r\n * @param      {HTMLElement}  element      The element\r\n * @param      {Presets}  presets      The global Presets object.\r\n * @param      {boolean}  [RETURN_PROMISE=false]  If `true` a Promise will be returned, otherwise the SourcePackage instance is returned.\r\n * @return     {SourcePackage | Promise}  If a SourcePackage has already been constructed for the given element, that will be returned instead of new one being created. If\r\n * @memberof module:wick.core.source\r\n * @alias SourcePackage\r\n */\r\nclass SourcePackage {\r\n\r\n    constructor(element, presets, RETURN_PROMISE = false, url = \"\", win = window) {\r\n\r\n        //If a package exists for the element already, it will be bound to __wick_package_. That will be returned.\r\n        if (element.__wick_package_) {\r\n            if (RETURN_PROMISE)\r\n                return new Promise((res) => res(element.__wick_package_));\r\n            return element.__wick_package_;\r\n        }\r\n\r\n\r\n        /**\r\n         * When set to true indicates that the package is ready to be mounted to the DOM.\r\n         */\r\n        this.READY = false;\r\n\r\n        /**\r\n         * An array of SourceSkeleton objects.\r\n         */\r\n        this.skeletons = [];\r\n\r\n        /**\r\n         * An array objects to store pending calls to SourcePackage#mount\r\n         */\r\n        this.pms = [];\r\n\r\n        /**\r\n         * An Array of error messages received during compilation of template.\r\n         */\r\n        this.errors = [];\r\n\r\n        /**\r\n         * Flag to indicate SourcePackage was compiled with errors\r\n         */\r\n        this.HAVE_ERRORS = false;\r\n\r\n        this.links = [];\r\n\r\n        if (element instanceof Promise) {\r\n            element.then((data) => CompileSource(this, presets, data, url, win));\r\n            if (RETURN_PROMISE) return element;\r\n            return this;\r\n        } else if (element instanceof RootNode) {\r\n            //already an HTMLtree, just package into a skeleton and return.\r\n            this.skeletons.push(new Skeleton(element, presets));\r\n            this.complete();\r\n            return;\r\n        } else if (!(element instanceof HTMLElement) && typeof(element) !== \"string\" && !(element instanceof whind.constructor)) {\r\n            let err = new Error(\"Could not create package. element is not an HTMLElement\");\r\n            this.addError(err);\r\n            this.complete();\r\n            if (RETURN_PROMISE)\r\n                return new Promise((res, rej) => rej(err));\r\n            return;\r\n        }\r\n\r\n        //Start the compiling of the component.\r\n        let promise = CompileSource(this, presets, element, url, win);\r\n\r\n        OB.seal(this);\r\n\r\n        if (RETURN_PROMISE)\r\n            return promise;\r\n        else\r\n            return this;\r\n\r\n    }\r\n\r\n    /**\r\n     * Called when template compilation completes.\r\n     *\r\n     * Sets SourcePackage#READY to true, send the pending mounts back through SourcePackage#mount, and freezes itself.\r\n     *\r\n     * @protected\r\n     */\r\n    complete() {\r\n        this.READY = true;\r\n\r\n        for (let m, i = 0, l = this.pms.length; i < l; i++)\r\n            (m = this.pms[i], this.mount(m.e, m.m, m.usd, m.mgr));\r\n\r\n\r\n        this.pms.length = 0;\r\n\r\n        this.freeze();\r\n    }\r\n\r\n    /**\r\n     * Adds Error message to the errors array.\r\n     *\r\n     * @param      {String}  error_message     the error message to add.\r\n     *\r\n     * @protected\r\n     */\r\n    addError(error_message) {\r\n        this.HAVE_ERRORS = true;\r\n        //Create error skeleton and push to skeletons\r\n        this.errors.push(error_message);\r\n        console.error(error_message);\r\n    }\r\n\r\n    /**\r\n     * Freezes properties.\r\n     * @protected\r\n     */\r\n    freeze() {\r\n        return;\r\n        OB.freeze(this.READY);\r\n        OB.freeze(this.skeletons);\r\n        OB.freeze(this.styles);\r\n        OB.freeze(this.pms);\r\n        OB.freeze(this.errors);\r\n        OB.freeze(this);\r\n    }\r\n\r\n    /**\r\n     * Pushes pending mounts to the pms array.\r\n     *\r\n     * @param      {HTMLElement}  element         The element\r\n     * @param      {Model}  model           The model\r\n     * @param      {Boolean}  USE_SHADOW_DOM  The use shadow dom\r\n     * @param      {Object}  manager         The manager\r\n     *\r\n     * @protected\r\n     */\r\n    pushPendingMount(element, model, USE_SHADOW_DOM, manager) {\r\n\r\n        if (this.READY)\r\n            return this.mount(element, model, USE_SHADOW_DOM, manager);\r\n\r\n        this.pms.push({\r\n            e: element,\r\n            m: model,\r\n            usd: USE_SHADOW_DOM,\r\n            mgr: manager\r\n        });\r\n\r\n        return manager;\r\n    }\r\n\r\n    /**\r\n     * Generates new instance of component and appends it to the input element. If the compilation of the component is not complete by the time this method is called,\r\n     the arguments are stored in a temporary buffer and later run through this method again when compilation is completed.\r\n     * @param  {HTMLElement} element         - The element\r\n     * @param  {Model}   model           - The model the source component will bind to. Binding only occurs if `model` or `schema` attributes are undefined in the component decleration, the `schema` attribute type matches the model type, or `schema` is set to \"any\".\r\n     * @param  {boolean} USE_SHADOW_DOM  - If `true`, appends the component to the element's ShadowDOM.\r\n     * @param  {Object}  manager         - A custom manager that stores built source components. If not defined then a SourceManager is created and returned.\r\n     */\r\n    mount(element, model, USE_SHADOW_DOM = false, manager = new SourceManager(model, element)) {\r\n\r\n        if (!this.READY)\r\n            return this.pushPendingMount(element, model, USE_SHADOW_DOM, manager);\r\n\r\n        //if (!(element instanceof EL)) return null;\r\n\r\n        if (this.HAVE_ERRORS) {\r\n            //Process\r\n            console.warn(\"TODO - Package has errors, pop an error widget on this element!\");\r\n        }\r\n        let i = 0,\r\n            l = 0;\r\n\r\n        if (!manager.sources)\r\n            manager.sources = [];\r\n\r\n        if (USE_SHADOW_DOM) {\r\n\r\n            let shadow_root = element.attachShadow({\r\n                mode: \"open\"\r\n            });\r\n\r\n            element = shadow_root;\r\n\r\n            for (i = 0, l = this.styles.length; i < l; i++) {\r\n                let style = cloneNode(this.styles[i], true);\r\n                appendChild(element, style);\r\n            }\r\n        }\r\n\r\n        for (i = 0, l = this.skeletons.length; i < l; i++) {\r\n            let source = this.skeletons[i].flesh(element, model);\r\n            source.parent = manager;\r\n            manager.sources.push(source);\r\n        }\r\n\r\n        if (manager.sourceLoaded) manager.sourceLoaded();\r\n\r\n        return manager;\r\n    }\r\n\r\n    toString(){\r\n        let str = \"\";\r\n\r\n        for(let i = 0; i < this.links.length; i++)\r\n            str += this.links[i];\r\n\r\n        for(let i = 0; i < this.skeletons.length; i++)\r\n            str += this.skeletons[i].tree;\r\n\r\n        return str;\r\n    }\r\n}\r\n\r\nimport { PackageNode } from \"./compiler/nodes/package\";\r\n\r\nPackageNode.prototype.SourcePackage = SourcePackage;\r\n\r\nexport { SourcePackage };\r\n","/** This is the entire object structure of Wick, minus the platform specific outputs found in /source/root/ */\r\nimport { Presets } from \"./presets\";\r\n\r\n//Schema\r\nimport { SchemeConstructor, DateSchemeConstructor, TimeSchemeConstructor, StringSchemeConstructor, NumberSchemeConstructor, BoolSchemeConstructor, schemes } from \"./schema/schemas\";\r\n\r\n//Models\r\nimport { Store } from \"./model/store\";\r\nimport { SchemedModel } from \"./model/schemed\";\r\nimport { Model } from \"./model/model\";\r\nimport { ModelContainerBase } from \"./model/container/base\";\r\nimport { MultiIndexedContainer } from \"./model/container/multi\";\r\nimport { BTreeModelContainer } from \"./model/container/btree\";\r\nimport { ArrayModelContainer } from \"./model/container/array\";\r\n\r\n//Views\r\nimport { View } from \"./view\";\r\n\r\n//Source\r\nimport { SourcePackage } from \"./source/package\";\r\nimport { Source } from \"./source/source\";\r\n\r\n//SourceCompiler\r\nimport { CompileSource as Compiler } from \"./source/compiler/compiler\";\r\nimport { RootText } from \"./source/compiler/nodes/root\";\r\nimport { RootNode } from \"./source/compiler/nodes/index\";\r\nimport { StyleNode } from \"./source/compiler/nodes/style\";\r\nimport { ScriptNode } from \"./source/compiler/nodes/script\";\r\nimport { SourceNode } from \"./source/compiler/nodes/source\";\r\nimport { PackageNode } from \"./source/compiler/nodes/package\";\r\nimport { SVGNode } from \"./source/compiler/nodes/svg\";\r\nimport { SourceTemplateNode } from \"./source/compiler/nodes/template\";\r\n\r\nconst model = (data, schema) => new SchemedModel(data, undefined, undefined, schema);\r\nmodel.scheme = (schema, sm) => (sm = class extends SchemedModel {}, sm.schema = schema, sm);\r\nmodel.constr = SchemedModel;\r\nmodel.any = (data) => new Model(data);\r\nmodel.any.constr = Model;\r\nmodel.container = {\r\n    multi: MultiIndexedContainer,\r\n    array: ArrayModelContainer,\r\n    btree: BTreeModelContainer,\r\n    constr: ModelContainerBase\r\n};\r\nmodel.store = (data) => new Store(data);\r\n\r\n//Construct Schema Exports\r\nconst scheme = Object.create(schemes);\r\nscheme.constr = SchemeConstructor;\r\nscheme.constr.bool = BoolSchemeConstructor;\r\nscheme.constr.number = NumberSchemeConstructor;\r\nscheme.constr.string = StringSchemeConstructor;\r\nscheme.constr.date = DateSchemeConstructor;\r\nscheme.constr.time = TimeSchemeConstructor;\r\n\r\nObject.freeze(scheme.constr);\r\nObject.freeze(scheme);\r\nObject.freeze(Presets);\r\nObject.freeze(model.container.constr);\r\nObject.freeze(model.container);\r\nObject.freeze(model.any);\r\nObject.freeze(model);\r\n\r\nconst core = {\r\n    presets: a => new Presets(a),\r\n    view: View,\r\n    scheme: scheme,\r\n    model: model,\r\n    source: (...a) => new SourcePackage(...a)\r\n};\r\n\r\ncore.source.compiler = Compiler;\r\n\r\nCompiler.nodes = {\r\n    root: RootNode,\r\n    style: StyleNode,\r\n    script: ScriptNode,\r\n    text: RootText,\r\n    source: SourceNode,\r\n    package: PackageNode,\r\n    template: SourceTemplateNode,\r\n    svg:SVGNode\r\n};\r\n\r\nlet internals = { /* Empty if production */ };\r\n\r\ncore.source.package = SourcePackage;\r\ncore.source.constructor = Source;\r\n\r\nObject.freeze(core.source);\r\nObject.freeze(core);\r\n\r\nlet source = core.source;\r\n\r\nexport {\r\n    source,\r\n    scheme,\r\n    model,\r\n    core,\r\n    internals\r\n};","import {source, scheme, model, core, internals} from \"./library\";\r\n\r\nexport {source};\r\nexport {scheme};\r\nexport {model};\r\nexport {core};\r\nexport {internals};\r\n\r\nconst wick = {\r\n\tsource,\r\n\tscheme,\r\n\tmodel,\r\n\tcore,\r\n\tinternals\r\n};\r\n\r\nexport default wick;\r\n\r\nimport { Presets } from \"./presets\";\r\nimport { SchemeConstructor, DateSchemeConstructor, TimeSchemeConstructor, StringSchemeConstructor, NumberSchemeConstructor, BoolSchemeConstructor, schemes } from \"./schema/schemas\";\r\nimport { Store } from \"./model/store\";\r\nimport { SchemedModel } from \"./model/schemed\";\r\nimport { Model } from \"./model/model\";\r\nimport { ModelContainerBase } from \"./model/container/base\";\r\nimport { MultiIndexedContainer } from \"./model/container/multi\";\r\nimport { BTreeModelContainer } from \"./model/container/btree\";\r\nimport { ArrayModelContainer } from \"./model/container/array\";\r\nimport { View } from \"./view\";\r\nimport { SourcePackage } from \"./source/package\";\r\nimport { Source } from \"./source/source\";\r\nimport { CompileSource } from \"./source/compiler/compiler\";\r\nimport { RootText } from \"./source/compiler/nodes/root\";\r\nimport { RootNode } from \"./source/compiler/nodes/index\";\r\nimport { StyleNode } from \"./source/compiler/nodes/style\";\r\nimport { ScriptNode } from \"./source/compiler/nodes/script\";\r\nimport { SourceNode } from \"./source/compiler/nodes/source\";\r\nimport { PackageNode } from \"./source/compiler/nodes/package\";\r\nimport { SVGNode } from \"./source/compiler/nodes/svg\";\r\nimport { SourceTemplateNode } from \"./source/compiler/nodes/template\";\r\n\r\nexport {\r\n    Presets,\r\n    Store,\r\n    SchemedModel,\r\n    Model,\r\n    ModelContainerBase,\r\n    MultiIndexedContainer,\r\n    BTreeModelContainer,\r\n    ArrayModelContainer,\r\n    View,\r\n    SourcePackage,\r\n    Source,\r\n    CompileSource,\r\n    RootText,\r\n    RootNode,\r\n    StyleNode,\r\n    ScriptNode,\r\n    SourceNode,\r\n    PackageNode,\r\n    SourceTemplateNode,\r\n    SVGNode,\r\n    SchemeConstructor, \r\n    DateSchemeConstructor, \r\n    TimeSchemeConstructor, \r\n    StringSchemeConstructor, \r\n    NumberSchemeConstructor, \r\n    BoolSchemeConstructor, \r\n    schemes\r\n};","/**\r\n * This module is responsible for storing, updating, and caching compents. \r\n * In terms of Flame, the component is a synonym to an artboard, and is the primary container used to hold user created content. A Component reprsents a single file containing code, markup, and css necessary to present a visual artifact on the screen. It may contain definitions for sources or taps, and must be allowed to pull and push data from other components and handle integration with other components to create a fully realized UI.\r\n * Any associated stylesheets are managed through this componnent. \r\n */\r\nexport class Component {\r\n\r\n    constructor(system) {\r\n        //frame for fancy styling\r\n        this.style_frame = document.createElement(\"div\");\r\n        this.style_frame.classList.add(\"flame_component\");\r\n        this.style_frame.classList.add(\"style_frame\");\r\n\r\n        this.dimensions = document.createElement(\"div\");\r\n        this.dimensions.classList.add(\"flame_component_dimensions\");\r\n\r\n\r\n\r\n        //Label\r\n        this.name = document.createElement(\"div\");\r\n        this.name.innerHTML = \"unnamed\";\r\n        this.name.classList.add(\"flame_component_name\");\r\n\r\n        //HTML Data\r\n        this.data = document.createElement(\"div\");\r\n\r\n        this.style_frame.appendChild(this.dimensions);\r\n        this.style_frame.appendChild(this.name);\r\n\r\n        //Flag for mounted state of component. If a component is accessible anywhere on the main UI, then it is considered mounted. \r\n        this.mounted = false;\r\n\r\n        //Links to local CSS scripts\r\n        this.local_css = [];\r\n\r\n        //The file path (relative to project directory), of the component file. \r\n        this.file_path = \"\";\r\n\r\n        //The file name of the component. \r\n        this.file_name = \"\";\r\n\r\n        //The source component manager that handles the instantiation and runtime of Wick components. \r\n        this.manager = null;\r\n\r\n        this.system = system;\r\n\r\n        this.action = null;\r\n\r\n        const frame = this.createFrameElement();\r\n\r\n        this.style_frame.appendChild(frame);\r\n\r\n        this.width = this.system.project.defaults.component.width;\r\n        this.height = this.system.project.defaults.component.height;\r\n    }\r\n\r\n    createFrameElement() {\r\n\r\n        this.frame = document.createElement(\"iframe\");\r\n        this.frame.src = \"component_frame.html\";\r\n\r\n        const backer = document.createElement(\"div\");\r\n        this.style_frame.appendChild(backer);\r\n        backer.classList.add(\"flame_component_background\");\r\n\r\n\r\n        this.IFRAME_LOADED = false;\r\n\r\n        this.frame.onload = (e) => {\r\n\r\n            this.mountListeners();\r\n            //e.target.contentDocument.body.appendChild(this.data);\r\n            //e.target.contentWindow.wick = wick;\r\n            this.IFRAME_LOADED = true;\r\n        };\r\n\r\n        return this.frame;\r\n    }\r\n\r\n    mountListeners() {\r\n        this.system.ui.integrateComponentFrame(this.frame.contentWindow, this);\r\n    }\r\n\r\n    addStyle(tree, INLINE) {\r\n        if (!INLINE) {\r\n            const style = new StyleNode();\r\n            style.tag = \"style\";\r\n            this.sources[0].ast.addChild(style);\r\n            style.css = tree;\r\n            tree.addObserver(style);\r\n            this.local_css.splice(this.css_split, 0, tree);\r\n            this.css_split++;\r\n        } else {\r\n            //insert the style into the root of the tree;\r\n            this.local_css.push(style);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        this.element = null;\r\n    }\r\n\r\n    load(document) {\r\n        this.name.innerHTML = document.name;\r\n        this.doc_name = document.name;\r\n        this.doc_path = document.path;\r\n        document.bind(this);\r\n    }\r\n\r\n    documentReady(pkg) {\r\n\r\n        if (this.manager) {\r\n            //Already have source, just need to rebuild with new tree. \r\n            const tree = pkg.skeletons[0].tree,\r\n                css = tree.css;\r\n\r\n            this.sources[0].ast = tree;\r\n\r\n            if (css)\r\n                css.forEach(css => {\r\n                    this.local_css.push(css);\r\n                });\r\n\r\n            this.local_css = [];\r\n\r\n            this.rebuild();\r\n        } else {\r\n\r\n            const css = pkg.skeletons[0].tree.css;\r\n\r\n            if (css)\r\n                css.forEach(css => {\r\n                    this.local_css.push(css);\r\n                });\r\n\r\n            if (this.IFRAME_LOADED) {\r\n                this.manager = pkg.mount(this.content, null, false, this);\r\n                this.sources[0].window = this.window;\r\n                this.rebuild();\r\n\r\n            } else\r\n                this.frame.addEventListener(\"load\", () => {\r\n                    this.manager = pkg.mount(this.content, null, false, this);\r\n                    this.sources[0].window = this.window;\r\n                    this.rebuild();\r\n                });\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    upImport() {\r\n        /* Empty Function  */\r\n    }\r\n\r\n    /**\r\n     * Determines if point is in bounding box. \r\n     */\r\n    pointInBoundingBox(x, y) {\r\n        this.updateDimensions();\r\n        const min_x = this.dimensions.left,\r\n            max_x = min_x + this.dimensions.width,\r\n            min_y = this.dimensions.top,\r\n            max_y = min_y + this.dimensions.height;\r\n        return x >= min_x && x <= max_x && y >= min_y && y <= max_y;\r\n    }\r\n\r\n    rebuild() {\r\n        if (this.sources)\r\n            this.sources[0].rebuild();\r\n    }\r\n\r\n    query(query) {\r\n        return this.window.document.querySelector(query);\r\n    }\r\n\r\n    get window() {\r\n        return this.frame.contentWindow;\r\n    }\r\n\r\n    set x(x) {\r\n        this.element.style.left = x + \"px\";\r\n    }\r\n\r\n    set y(y) {\r\n        this.element.style.top = y + \"px\";\r\n\r\n    }\r\n\r\n    set width(w) {\r\n        this.frame.width = w;\r\n        this.dimensions.innerHTML = `${Math.round(this.width)}px ${Math.round(this.height)}px`;\r\n        this.rebuild();\r\n    }\r\n\r\n    set height(h) {\r\n        this.frame.height = h;\r\n        this.dimensions.innerHTML = `${Math.round(this.width)}px ${Math.round(this.height)}px`;\r\n        this.rebuild();\r\n    }\r\n\r\n    get x() {\r\n        return parseFloat(this.element.style.left);\r\n    }\r\n\r\n    get y() {\r\n        return parseFloat(this.element.style.top);\r\n    }\r\n\r\n    get width() {\r\n        return parseFloat(this.frame.width);\r\n    }\r\n\r\n    get height() {\r\n        return parseFloat(this.frame.height);\r\n    }\r\n\r\n    get target() {\r\n        return this.element;\r\n    }\r\n\r\n    get element() {\r\n        return this.style_frame;\r\n    }\r\n\r\n    get content() {\r\n        return this.frame.contentDocument.body;\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            x: this.x,\r\n            y: this.y,\r\n            width: this.width,\r\n            height: this.height,\r\n            path: this.doc_path,\r\n            name: this.doc_name,\r\n            type: \"html\"\r\n        };\r\n    }\r\n}\r\n","import { CacheFactory } from \"./cache\";\r\n\r\nexport function CLEARLEFT(system, component, element, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    if (css.props.left) {\r\n        if (KEEP_UNIQUE) cache.unique.addProp(`left:auto`);\r\n        else css.props.left = \"auto\";\r\n    }\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n//clear top\r\nexport function CLEARTOP(system, component, element, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    if (css.props.top) {\r\n        if (KEEP_UNIQUE) cache.unique.addProp(`top:auto`);\r\n        else css.props.top = \"auto\";\r\n    }\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n//clear right\r\nexport function CLEARIGHT(system, component, element, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    if (css.props.right) {\r\n        if (KEEP_UNIQUE) cache.unique.addProp(`right:auto`);\r\n        else css.props.right = \"auto\";\r\n    }\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n//clear bottom\r\nexport function CLEABOTTOM(system, component, element, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    if (css.props.bottom) {\r\n        if (KEEP_UNIQUE) cache.unique.addProp(`bottom:auto`);\r\n        else css.props.bottom = \"auto\";\r\n    }\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\n//clear margin-top\r\nexport function CLEARMARGINTOP(system, component, element, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    if (css.props.margin_left) {\r\n        if (KEEP_UNIQUE) cache.unique.addProp(`margin-top:0`);\r\n        else css.props.margin_left = 0;\r\n    }\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n//clear margin-left\r\nexport function CLEARMARGINLEFT(system, component, element, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    if (css.props.margin_left) {\r\n        if (KEEP_UNIQUE) cache.unique.addProp(`margin-left:0`);\r\n        else css.props.margin_left = 0;\r\n    }\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\n//clear margin-right\r\nexport function CLEARMARGINRIGHT(system, component, element, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    if (css.props.margin_right) {\r\n        if (KEEP_UNIQUE) cache.unique.addProp(`margin-right:0`);\r\n        else css.props.margin_right = 0;\r\n    }\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n//clear margin-bottom\r\n//clear padding-left\r\n//clear padding-right\r\n//clear padding-bottom\r\n//clear padding-top\r\n//clear border-left\r\n//clear border-right\r\n//clear border-bottom\r\n//clear border-top\r\n","import { setNumericalValue, getRatio } from \"./common\";\r\nimport {SETDELTALEFT, SETDELTATOP} from \"./position\";\r\n\r\nimport { CacheFactory } from \"./cache\";\r\n\r\nfunction resetMargin(system, component, element) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    if (css.props.margin) {\r\n        //Convert margin value into \r\n        css.props.margin = null;\r\n    }\r\n}\r\n\r\nexport function SETMARGINLEFT(system, component, element, x, LINKED = false) {\r\n    resetMargin(system, component, element);\r\n    setNumericalValue(\"margin_left\", system, component, element, x, setNumericalValue.parent_width);\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function SETDELTAMARGINLEFT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element)[\"margin-left\"]);\r\n\r\n    if (ratio > 0)\r\n        SETMARGINLEFT(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETMARGINLEFT, start_x, dx, \"margin-left\");\r\n\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETMARGINTOP(system, component, element, x, LINKED = false) {\r\n    resetMargin(system, component, element);\r\n    setNumericalValue(\"margin_top\", system, component, element, x, setNumericalValue.parent_height);\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function SETDELTAMARGINTOP(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element)[\"margin-top\"]);\r\n\r\n    if (ratio > 0)\r\n        SETMARGINTOP(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETMARGINTOP, start_x, dx, \"margin-top\");\r\n\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETMARGINRIGHT(system, component, element, x, LINKED = false) {\r\n    resetMargin(system, component, element);\r\n    setNumericalValue(\"margin_right\", system, component, element, x, setNumericalValue.parent_height);\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\n\r\nexport function SETDELTAMARGINRIGHT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element)[\"margin-right\"]);\r\n\r\n    if (ratio > 0)\r\n        SETMARGINRIGHT(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETMARGINRIGHT, start_x, dx, \"margin-right\");\r\n\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETMARGINBOTTOM(system, component, element, x, LINKED = false) {\r\n    resetMargin(system, component, element);\r\n    setNumericalValue(\"margin_bottom\", system, component, element, x, setNumericalValue.parent_height);\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\n\r\nexport function SETDELTAMARGINBOTTOM(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element)[\"margin-bottom\"]);\r\n\r\n    if (ratio > 0)\r\n        SETMARGINBOTTOM(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETMARGINBOTTOM, start_x, dx, \"margin-bottom\");\r\n\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function RESIZEMARGINT(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAMARGINTOP(system, component, element, dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEMARGINR(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAMARGINRIGHT(system, component, element, -dx, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEMARGINL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAMARGINLEFT(system, component, element, dx, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEMARGINB(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAMARGINBOTTOM(system, component, element, -dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEMARGINTL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    let cache = CacheFactory(system, component, element);\r\n\r\n    if((cache.cssflagsA & 1)){\r\n        SETDELTALEFT(system, component, element, dx, 0, true);\r\n        SETDELTATOP(system, component, element, dy, 0, true);\r\n    }\r\n\r\n    SETDELTAMARGINLEFT(system, component, element, -dx, 0, true);\r\n    SETDELTAMARGINTOP(system, component, element, -dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEMARGINTR(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    \r\n    SETDELTAMARGINRIGHT(system, component, element, dx, 0, true);\r\n    SETDELTAMARGINTOP(system, component, element, dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEMARGINBL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAMARGINLEFT(system, component, element, dx, 0, true);\r\n    SETDELTAMARGINBOTTOM(system, component, element, dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEMARGINBR(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAMARGINRIGHT(system, component, element, dx, 0, true);\r\n    SETDELTAMARGINBOTTOM(system, component, element, dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n","import {\r\nCLEARMARGINTOP,\r\nCLEARMARGINLEFT,\r\nCLEARLEFT,\r\nCLEARTOP\r\n} from \"./clear\";\r\nimport css from \"@candlefw/css\";\r\nimport {\r\n    CacheFactory\r\n} from \"./cache\";\r\nimport {\r\n    getFirstPositionedAncestor,\r\n    setValue\r\n} from \"./common\";\r\nimport {\r\n    SETLEFT,\r\n    SETTOP\r\n} from \"./position\";\r\nimport {\r\n    SETMARGINLEFT,\r\n    SETMARGINTOP\r\n} from \"./margin\";\r\nlet types = css.types;\r\n\r\n/**\r\n * Actions for converting position and layout to different forms. \r\n */\r\nexport function TOMARGINLEFT() {}\r\nexport function TOMARGINRIGHT() {}\r\nexport function TOMARGINLEFTRIGHT() {}\r\nexport function TOLEFT() {}\r\nexport function TORIGHT() {}\r\nexport function TOLEFTRIGHT() {}\r\nexport function TOTOP() {}\r\nexport function TOTOPBOTTOM() {}\r\n\r\nfunction getNativeDisplay(element){\r\n    let display = \"block\";\r\n\r\n    switch(element.tagName){\r\n        case \"A\":\r\n        case \"SPAN\":\r\n            display =\"inline\";\r\n    }\r\n\r\n    return display;\r\n}\r\n\r\n\r\nfunction setToAbsolute(cache, KEEP_UNIQUE){\r\n    const css = cache.rules;\r\n    if (KEEP_UNIQUE) {\r\n        if (cache.unique.r.props.position) css.props.position = \"absolute\";\r\n        else cache.unique.addProp(\"position:absolute\");\r\n    } else {\r\n        if (css.props.position) css.props.position = \"absolute\";\r\n        else cache.unique.addProp(\"position:absolute\");\r\n    }\r\n}\r\n\r\nfunction setToRelative(cache, KEEP_UNIQUE){\r\n    const css = cache.rules;\r\n    if (KEEP_UNIQUE) {\r\n        if (cache.unique.r.props.position) css.props.position = \"relative\";\r\n        else cache.unique.addProp(\"position:relative\");\r\n    } else {\r\n        if (css.props.position) css.props.position = \"relative\";\r\n        else cache.unique.addProp(\"position:relative\");\r\n    }\r\n}\r\n\r\n/**\r\n * Convert position to ```absolute```\r\n */\r\nexport function TOPOSITIONABSOLUTE(system, component, element, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n    switch (css.props.position) {\r\n        case \"relative\":\r\n            /** \r\n                Need to take margin offset into account when converting to absolute\r\n            */\r\n            let rect = element.getBoundingClientRect();\r\n            let par_prop = component.window.getComputedStyle(element);\r\n            rect = element.getBoundingClientRect();\r\n\r\n            let x = rect.x;\r\n            let y = rect.y //- parseFloat(par_prop[\"margin-top\"]);\r\n\r\n            if (css.props.margin) {}\r\n\r\n            CLEARMARGINTOP(system, component, element, true);\r\n            CLEARMARGINLEFT(system, component, element, true);\r\n\r\n            SETLEFT(system, component, element, x, true);\r\n            SETTOP(system, component, element, y, true);\r\n            \r\n            break;\r\n        case \"absolute\":\r\n            /*no op*/\r\n            break;\r\n        case \"fixed\":\r\n            //add parent offset values to current position to keep it predictably in place. \r\n            break;\r\n        default:\r\n            //Manually add required data\r\n            break;\r\n    }\r\n\r\n    setToAbsolute(cache,KEEP_UNIQUE)\r\n\r\n    if (!LINKED){\r\n        element.wick_node.prepRebuild();\r\n        element.wick_node.rebuild();\r\n    }\r\n}\r\n\r\n/**\r\n * Convert position to ```relative```\r\n */\r\nexport function TOPOSITIONRELATIVE(system, component, element) {\r\n    const cache = CacheFactory(system, component, element);\r\n    const css = cache.rules;\r\n    const KEEP_UNIQUE = system.project.components.KEEP_UNIQUE;\r\n\r\n    switch (css.props.position) {\r\n        case \"relative\":\r\n            /*no op*/\r\n            break;\r\n        case \"absolute\":\r\n            //find the last child element that is positioned relative or static\r\n            //get it's offset top and left + margin left and top\r\n            let node = element.previousSibling;\r\n            let offsetX = 0;\r\n            let offsetY = 0;\r\n\r\n            let rect = element.getBoundingClientRect();\r\n\r\n            //Get Parent display type \r\n            let par_prop = component.window.getComputedStyle(element.parentElement);\r\n            let ele_css = component.window.getComputedStyle(element);\r\n\r\n            let par_out_dis = par_prop.display;\r\n            let ele_in_dis = css.props.display || getNativeDisplay(element); \r\n            const IS_INLINE = ele_in_dis.includes(\"inline\");\r\n\r\n            if(ele_in_dis == \"inline\")//force inline-block positioning\r\n                setValue(system, component, element, \"display\", \"block\");\r\n\r\n            //PARENT positining\r\n            //TODO handle grid positioning;\r\n            //TODO handle flex positioning;\r\n            //TODO handle inline and inline block positioning;\r\n\r\n            //Outer positioning\r\n\r\n            //Assuming Normal box positioning. \r\n            while(node){\r\n                if(node instanceof HTMLElement){\r\n                    \r\n                 let rect = node.getBoundingClientRect();\r\n                let style = component.window.getComputedStyle(node);\r\n                if((!style.position || style.position ==\"relative\" || style.position ==\"static\") && style.display !== \"none\"){\r\n\r\n                    if(IS_INLINE)\r\n                        offsetX = node.offsetLeft + parseFloat(style.width) + parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth) + parseFloat(style.paddingLeft) + parseFloat(style.paddingRight)+ parseFloat(style.marginLeft) + parseFloat(style.marginRight);\r\n                    \r\n                    offsetY = node.offsetTop + parseFloat(style.height) + parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth) + parseFloat(style.paddingTop) + parseFloat(style.paddingBottom)+ parseFloat(style.marginTop) + parseFloat(style.marginBottom);\r\n                    \r\n                    break;\r\n                }\r\n                }\r\n                node = node.previousSibling;\r\n            }\r\n\r\n            var rectp = element.parentElement.getBoundingClientRect();\r\n\r\n            var innerWidth = rectp.width  - (   (parseFloat(par_prop.borderLeftWidth) || 0) + (parseFloat(par_prop.paddingLeft) || 0)+\r\n                        (parseFloat(par_prop.borderRightWidth) || 0) + (parseFloat(par_prop.paddingRight) || 0));\r\n            \r\n            if(IS_INLINE && (offsetX + rect.width ) >= innerWidth)\r\n                offsetX = 0;\r\n\r\n            if(offsetX == 0)\r\n                offsetX += (parseFloat(par_prop.borderLeftWidth) || 0) + (parseFloat(par_prop.paddingLeft) || 0)\r\n            \r\n            if(offsetY == 0)\r\n                offsetY += (parseFloat(par_prop.borderTopWidth) || 0) + (parseFloat(par_prop.paddingTop) || 0)\r\n            \r\n\r\n            var x1 =rect.x, y1 =rect.y,  x = x1 - offsetX, y =y1 - offsetY;\r\n\r\n            CLEARLEFT(system, component, element, true);\r\n            CLEARTOP(system, component, element, true);\r\n            \r\n            SETMARGINLEFT(system, component, element, x, true);\r\n            SETMARGINTOP(system, component, element, y, true);\r\n            \r\n            setToRelative(cache, KEEP_UNIQUE);\r\n            \r\n            element.wick_node.prepRebuild();\r\n            element.wick_node.rebuild();\r\n            rect = element.getBoundingClientRect();\r\n            //enforce Position\r\n            var x2 = rect.x;\r\n            var y2 = rect.y;\r\n            \r\n            if(x2 != x1) \r\n               SETMARGINLEFT(system, component, element, x - (x2 - x1), true);\r\n            if(y2 != y1)\r\n                SETMARGINTOP(system, component, element, y - (y2 - y1), true); \r\n            \r\n            break;\r\n        case \"fixed\":\r\n            //add parent offset values to current position to keep it predictably in place. \r\n            break;\r\n        default:\r\n            //Manually add required data\r\n            break;\r\n    }\r\n\r\n    element.wick_node.prepRebuild();\r\n    element.wick_node.rebuild();\r\n}\r\n\r\n\r\nexport function CONVERT_TOP(system, component, element, type) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let position = parseFloat(component.window.getComputedStyle(element).top);\r\n    \r\n    switch (type) {\r\n        case \"%\":\r\n            cache.rules.props.top = new types.percentage(1);\r\n            break;\r\n        case \"em\":\r\n            cache.rules.props.top = new types.length(1, \"em\");\r\n            break;\r\n        case \"vh\":\r\n            cache.rules.props.top = new types.length(1, \"vh\");\r\n            break;\r\n        case \"vw\":\r\n            cache.rules.props.top = new types.length(1, \"vw\");\r\n            break;\r\n        case \"vmin\":\r\n            cache.rules.props.top = new types.length(1, \"vmin\");\r\n            break;\r\n        case \"vmax\":\r\n            cache.rules.props.top = new types.length(1, \"vmax\");\r\n            break;\r\n        default:\r\n            cache.rules.props.top = new types.length(1, 'px');\r\n            break;\r\n    }\r\n    SETTOP(system, component, element, position);\r\n\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function CONVERT_LEFT(system, component, element, type) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let position = parseFloat(component.window.getComputedStyle(element).left);\r\n\r\n    switch (type) {\r\n        case \"%\":\r\n            cache.rules.props.left = new types.percentage(1);\r\n            break;\r\n        case \"em\":\r\n            cache.rules.props.left = new types.length(1, \"em\");\r\n            break;\r\n        case \"vh\":\r\n            cache.rules.props.left = new types.length(1, \"vh\");\r\n            break;\r\n        case \"vw\":\r\n            cache.rules.props.left = new types.length(1, \"vw\");\r\n            break;\r\n        case \"vmin\":\r\n            cache.rules.props.left = new types.length(1, \"vmin\");\r\n            break;\r\n        case \"vmax\":\r\n            cache.rules.props.left = new types.length(1, \"vmax\");\r\n            break;\r\n        default:\r\n            cache.rules.props.left = new types.length(1, 'px');\r\n            break;\r\n    }\r\n    SETLEFT(system, component, element, position);\r\n\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\n//Converting from unit types\r\n//left\r\nexport function LEFTTOPX() {}\r\nexport function LEFTTOEM() {}\r\nexport function LEFTTOPERCENTAGE() {}\r\nexport function LEFTTOVH() {}\r\nexport function LEFTTOVW() {}\r\n//right\r\n//top\r\n//bottom\r\n//margin top\r\n//margin bottom\r\n//margin right\r\n//margin left\r\n//border top\r\n//border bottom\r\n//border left\r\n//border right\r\n//padding top\r\n//padding bottom\r\n//padding right\r\n//padding left\r\n\r\n\r\nexport function TOPOSITIONFIXED() {}\r\nexport function TOPOSITIONSTICKY() { /* NO OP */ }\r\nexport function TOGGLE_UNIT(system, component, element, horizontal, vertical) {\r\n    // Get CSS information on element and update appropriate records\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    let rect = getFirstPositionedAncestor(element).getBoundingClientRect();\r\n    if (horizontal) {\r\n        switch (cache.move_hori_type) {\r\n            case \"left right\":\r\n            case \"left right margin\":\r\n                if (css.props.right instanceof types.length) {\r\n                    css.props.right = new types.percentage((css.props.right / rect.width) * 100);\r\n                } else {\r\n                    css.props.right = new types.length(rect.width * (css.props.right / 100), \"px\");\r\n                } /** Intentional fall through **/\r\n            case \"left\":\r\n                if (css.props.left instanceof types.length) {\r\n                    css.props.left = new types.percentage((css.props.left / rect.width) * 100);\r\n                } else {\r\n                    css.props.left = new types.length(rect.width * (css.props.left / 100), \"px\");\r\n                }\r\n                break;\r\n            case \"right\":\r\n                if (css.props.right instanceof types.length) {\r\n                    css.props.right = new types.percentage((css.props.right / rect.width) * 100);\r\n                } else {\r\n                    css.props.right = new types.length(rect.width * (css.props.right / 100), \"px\");\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    element.wick_node.prepRebuild();\r\n}\r\n","import { RootNode } from \"@candlefw/wick\";\r\nimport { Component } from \"../../component/component.mjs\";\r\nimport { MOVE } from \"./move.mjs\";\r\nimport { SETLEFT, SETTOP } from \"./position.mjs\";\r\nimport { SETWIDTH, SETHEIGHT } from \"./dimensions.mjs\";\r\nimport { TOPOSITIONABSOLUTE } from \"./convert.mjs\";\r\nimport { prepRebuild } from \"./common.mjs\";\r\n\r\nconst createHTMLNodeHook = RootNode.prototype.createHTMLNodeHook;\r\n\r\n\r\nexport function TRANSFER_ELEMENT(system, target_component, target_element, child_element, px, py, COPY = false, LINKED = false){\r\n    let new_element = null,\r\n        node_c = child_element.wick_node;\r\n    \r\n    const node_p = target_element.wick_node;\r\n\r\n    if(COPY){\r\n        node_c = node_c.clone();\r\n    }else{\r\n        const par = node_c.par;\r\n        \r\n        node_c.extract();\r\n        \r\n        par.prepRebuild();\r\n        par.rebuild();\r\n    }\r\n    node_p.addChild(node_c);\r\n    \r\n    node_c.prepRebuild(false, false, true);\r\n    node_c.rebuild();\r\n    \r\n    new_element = target_element.lastChild;\r\n\r\n    SETLEFT(system, target_component, new_element, px, true);\r\n    SETTOP(system, target_component, new_element, py, true);\r\n\r\n    prepRebuild(new_element, LINKED);\r\n\r\n    return new_element;\r\n}\r\n\r\nexport function CREATE_ELEMENT(system, component, parent_element, tag_name = \"div\", px = 0, py = 0, w = 50, h = 50) {\r\n    if(typeof(tag_name) !== \"string\" || tag_name== \"\") \r\n        throw new Error(`Invalid argument for \\`tag_name\\`:${tag_name} in call to CREATE_ELEMENT.`);\r\n\r\n    let node = createHTMLNodeHook(tag_name);\r\n    node.tag = tag_name;\r\n\r\n    parent_element.wick_node.addChild(node);\r\n    //rebuild to create the new element. \r\n    node.prepRebuild(false, false, true);\r\n    node.rebuild();\r\n    //grab the element from the parent\r\n    const element = parent_element.lastChild;\r\n    TOPOSITIONABSOLUTE(system, component, element);\r\n    SETLEFT(system, component, element, px, true);\r\n    SETTOP(system, component, element, py, true);\r\n    SETWIDTH(system, component, element, w, true);\r\n    SETHEIGHT(system, component, element, h, true);\r\n\r\n    prepRebuild(element);\r\n\r\n    return {element, node};\r\n}\r\n\r\nexport function CREATE_COMPONENT(system, doc, px, py) {\r\n    //if(!(doc instanceof Document))\r\n    //    throw new Error(\"Action CREATE_COMPONENT cannot continue: doc is not an instance of Document.\");\r\n\r\n    const component = new Component(system);\r\n\r\n    component.load(doc);\r\n\r\n    const element = component.element;\r\n\r\n    document.querySelector(\"#main_view\").appendChild(element);\r\n\r\n    component.x = px;\r\n    component.y = py;\r\n\r\n    return component;\r\n}\r\n\r\nexport function REMOVE_COMPONENT(system, component) {\r\n\r\n    if (!(component instanceof Component))\r\n        throw new Error(\"Action REMOVE_COMPONENT cannot continue: component is not an instance of Component.\");\r\n\r\n    if (component.target.parentElement)\r\n        component.target.parentElement.removeChild(component.target);\r\n\r\n    system.ui.removeComponent(component);\r\n}\r\n\r\nexport function CREATE_CSS_DOC(system, doc, event) {\r\n\r\n    let comp = system.css.createComponent(doc);\r\n\r\n    let element = comp.element;\r\n\r\n    comp.x = -event.x;\r\n    comp.y = -event.y;\r\n}\r\n","import css from \"@candlefw/css\";\r\n\r\nlet types = css.types;\r\n\r\nimport {setValue} from \"./common\";\r\n\r\n//set background color\r\nexport function SETBACKGROUNDCOLOR(system, component, element, r, g, b, a = 1){\r\n\tlet color = new types.color(r,g,b,a);\r\n\tsetValue(system, component, element, \"background_color\", color);\r\n\telement.wick_node.prepRebuild();\r\n}\r\n//set background image\r\n//set font color\r\nexport function SETCOLOR(system, component, element, r, g, b, a = 1){\r\n\tlet color = new types.color(r,g,b,a);\r\n\tsetValue(system, component, element, \"color\", color);\r\n\telement.wick_node.prepRebuild();\r\n}\r\n//set font image\r\n","export function MOVE_PANEL(system, panel, dx, dy) {\n    panel.x -= dx;\n    panel.y -= dy;\n\n    if (panel.x < 0) panel.x = 0;\n    if (panel.y < 0) panel.y = 0;\n    if (panel.x + panel.width > window.screen.width) panel.x = window.screen.width - panel.width;\n    if (panel.y + panel.height > window.screen.height) panel.y = window.screen.height - panel.height;\n}","export function UNDO(system){\n\tsystem.history.undo();\n}\n\nexport function REDO(system){\n\tsystem.history.redo();\n}","import {\r\n    setNumericalValue,\r\n    getRatio,\r\n    ensureBlocklike,\r\n    prepRebuild\r\n} from \"./common\";\r\n\r\nimport {\r\n    CacheFactory\r\n} from \"./cache\";\r\n\r\nimport {\r\n    SETDELTAHEIGHT,\r\n    SETDELTAWIDTH\r\n} from \"./dimensions\";\r\n\r\nfunction resetPadding(system, component, element) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    if (css.props.padding) {\r\n        let val = css.props.padding;\r\n\r\n        if (!Array.isArray(val)) {\r\n            cache.unique.addProp(`\r\n                padding-top:${val};\r\n                padding-right:${val};\r\n                padding-bottom:${val};\r\n                padding-left:${val};\r\n            `)\r\n        } else {\r\n            switch (val.length) {\r\n                case 2:\r\n                    cache.unique.addProp(`\r\n                        padding-top:${val[0]};\r\n                        padding-right:${val[1]};\r\n                        padding-bottom:${val[0]};\r\n                        padding-left:${val[1]};\r\n                    `)\r\n                    break;\r\n                case 3:\r\n                    cache.unique.addProp(`\r\n                        padding-top:${val[0]};\r\n                        padding-right:${val[2]};\r\n                        padding-bottom:${val[1]};\r\n                        padding-left:${val[2]};\r\n                    `)\r\n                    break;\r\n                case 4:\r\n                    cache.unique.addProp(`\r\n                        padding-top:${val[0]};\r\n                        padding-right:${val[1]};\r\n                        padding-bottom:${val[2]};\r\n                        padding-left:${val[3]};\r\n                    `)\r\n                    break;\r\n            }\r\n        }\r\n        //Convert padding value into \r\n        css.props.padding = null;\r\n    }\r\n}\r\n\r\nexport function SETPADDINGLEFT(system, component, element, x, LINKED = false) {\r\n    resetPadding(system, component, element);\r\n    ensureBlocklike(system, component, element);\r\n    setNumericalValue(\"padding_left\", system, component, element, x, setNumericalValue.parent_width);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function SETDELTAPADDINGLEFT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let start_x = parseFloat(cache.computed.get(\"padding-left\")) || 0;\r\n    let width = (parseFloat(cache.computed.width) || 0) + start_x;\r\n\r\n    if (dx > 0 && start_x + dx > width - 20) return ratio;\r\n\r\n    if (start_x + dx > 0) {\r\n\r\n        if (ratio > 0)\r\n            SETPADDINGLEFT(system, component, element, start_x + dx / ratio, true);\r\n        else {\r\n            ensureBlocklike(system, component, element);\r\n            ratio = getRatio(system, component, element, SETPADDINGLEFT, start_x, dx, \"padding-left\");\r\n        }\r\n\r\n        SETDELTAWIDTH(system, component, element, -dx, true);\r\n\r\n        prepRebuild(element, LINKED);\r\n    }\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETPADDINGTOP(system, component, element, x, LINKED = false) {\r\n    resetPadding(system, component, element);\r\n    ensureBlocklike(system, component, element);\r\n    setNumericalValue(\"padding_top\", system, component, element, x, setNumericalValue.parent_height);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function SETDELTAPADDINGTOP(system, component, element, dy, ratio = 0, LINKED = false) {\r\n    let style = component.window.getComputedStyle(element);\r\n    let start_y = parseFloat(style.paddingTop) || 0;\r\n    let height = (parseFloat(style.height) || 0) + start_y;\r\n\r\n    if (dy > 0 && start_y + dy > height - 20) return ratio;\r\n\r\n    if (start_y + dy > 0) {\r\n        if (ratio > 0)\r\n            SETPADDINGTOP(system, component, element, start_y + dy / ratio, true);\r\n        else {\r\n            ensureBlocklike(system, component, element);\r\n            ratio = getRatio(system, component, element, SETPADDINGTOP, start_y, dy, \"padding-top\");\r\n        }\r\n\r\n        SETDELTAHEIGHT(system, component, element, -dy, true);\r\n\r\n        prepRebuild(element, LINKED);\r\n    }\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETPADDINGRIGHT(system, component, element, x, LINKED = false) {\r\n    resetPadding(system, component, element);\r\n    ensureBlocklike(system, component, element);\r\n    setNumericalValue(\"padding_right\", system, component, element, x, setNumericalValue.parent_height);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\n\r\nexport function SETDELTAPADDINGRIGHT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let style = component.window.getComputedStyle(element);\r\n    let start_x = parseFloat(style.paddingRight) || 0;\r\n    let width = (parseFloat(style.width) || 0) + start_x;\r\n\r\n    if (dx > 0 && start_x + dx > width - 20) return ratio;\r\n\r\n    if (start_x + dx > 0) {\r\n\r\n        if (ratio > 0)\r\n            SETPADDINGRIGHT(system, component, element, start_x + dx / ratio, true);\r\n        else {\r\n            ensureBlocklike(system, component, element);\r\n            ratio = getRatio(system, component, element, SETPADDINGRIGHT, start_x, dx, \"padding-right\");\r\n        }\r\n\r\n        SETDELTAWIDTH(system, component, element, -dx, true);\r\nprepRebuild(element,LINKED);\r\n    }\r\n    return ratio;\r\n}\r\n\r\nexport function SETPADDINGBOTTOM(system, component, element, x, LINKED = false) {\r\n    resetPadding(system, component, element);\r\n    ensureBlocklike(system, component, element);\r\n    setNumericalValue(\"padding_bottom\", system, component, element, x, setNumericalValue.parent_height);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\n\r\nexport function SETDELTAPADDINGBOTTOM(system, component, element, dy, ratio = 0, LINKED = false) {\r\n    let style = component.window.getComputedStyle(element);\r\n    let start_y = parseFloat(style.paddingBottom) || 0;\r\n    let height = (parseFloat(style.height) || 0) + start_y;\r\n\r\n    if (dy > 0 && dy + start_y > height - 20) return ratio;\r\n\r\n    if (start_y + dy >= 0) {\r\n        if (ratio > 0)\r\n            SETPADDINGBOTTOM(system, component, element, start_y + dy / ratio, true);\r\n        else {\r\n            ensureBlocklike(system, component, element);\r\n            ratio = getRatio(system, component, element, SETPADDINGBOTTOM, start_y, dy, \"padding-bottom\");\r\n        }\r\n\r\n        SETDELTAHEIGHT(system, component, element, -dy, true);\r\n\r\n    prepRebuild(element,LINKED);}\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function RESIZEPADDINGT(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAPADDINGTOP(system, component, element, dy, 0, true);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function RESIZEPADDINGR(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAPADDINGRIGHT(system, component, element, -dx, 0, true);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function RESIZEPADDINGL(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAPADDINGLEFT(system, component, element, dx, 0, true);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function RESIZEPADDINGB(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAPADDINGBOTTOM(system, component, element, -dy, 0, true);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function RESIZEPADDINGTL(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAPADDINGLEFT(system, component, element, dx, 0, true);\r\n    SETDELTAPADDINGTOP(system, component, element, dy, 0, true);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function RESIZEPADDINGTR(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAPADDINGRIGHT(system, component, element, -dx, 0, true);\r\n    SETDELTAPADDINGTOP(system, component, element, dy, 0, true);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function RESIZEPADDINGBL(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAPADDINGLEFT(system, component, element, dx, 0, true);\r\n    SETDELTAPADDINGBOTTOM(system, component, element, -dy, 0, true);\r\n    prepRebuild(element, LINKED);\r\n}\r\n\r\nexport function RESIZEPADDINGBR(system, component, element, dx, dy, IS_COMPONENT = false, LINKED = false) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTAPADDINGRIGHT(system, component, element, -dx, 0, true);\r\n    SETDELTAPADDINGBOTTOM(system, component, element, -dy, 0, true);\r\n    prepRebuild(element, LINKED);\r\n}\r\n","import {CSSParser} from \"@candlefw/css\";\r\n\r\nimport { setNumericalValue, getRatio, setValue } from \"./common\";\r\nimport {SETDELTALEFT, SETDELTATOP} from \"./position\";\r\n\r\nimport { CacheFactory } from \"./cache\";\r\n\r\n\r\n\r\nlet types = CSSParser.types;\r\n\r\nfunction resetBorder(system, component, element) {\r\n    let cache = CacheFactory(system, component, element);\r\n    let css = cache.rules;\r\n    if (css.props.border) {\r\n        //Convert border value into \r\n        css.props.border = null;\r\n    }\r\n}\r\n\r\nexport function SETBORDERLEFT(system, component, element, x, LINKED = false) {\r\n    resetBorder(system, component, element);\r\n    setNumericalValue(\"border_left_width\", system, component, element, x, setNumericalValue.parent_width);\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function SETDELTABORDERLEFT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element)[\"border-left-width\"]);\r\n\r\n    if (ratio > 0)\r\n        SETBORDERLEFT(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETBORDERLEFT, start_x, dx, \"border-left-width\");\r\n\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETBORDERTOP(system, component, element, x, LINKED = false) {\r\n    resetBorder(system, component, element);\r\n    setNumericalValue(\"border_top_width\", system, component, element, x, setNumericalValue.parent_height);\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function SETDELTABORDERTOP(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element)[\"border-top-width\"]);\r\n\r\n    if (ratio > 0)\r\n        SETBORDERTOP(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETBORDERTOP, start_x, dx, \"border-top-width\");\r\n\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETBORDERRIGHT(system, component, element, x, LINKED = false) {\r\n    resetBorder(system, component, element);\r\n    setNumericalValue(\"border_right_width\", system, component, element, x, setNumericalValue.parent_height);\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\n\r\nexport function SETDELTABORDERRIGHT(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element)[\"border-right-width\"]);\r\n\r\n    if (ratio > 0)\r\n        SETBORDERRIGHT(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETBORDERRIGHT, start_x, dx, \"border-right-width\");\r\n\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function SETBORDERBOTTOM(system, component, element, x, LINKED = false) {\r\n    resetBorder(system, component, element);\r\n    setNumericalValue(\"border_bottom_width\", system, component, element, x, setNumericalValue.parent_height);\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n}\r\n\r\n\r\nexport function SETDELTABORDERBOTTOM(system, component, element, dx, ratio = 0, LINKED = false) {\r\n    let start_x = parseFloat(component.window.getComputedStyle(element)[\"border-bottom-width\"]);\r\n\r\n    if (ratio > 0)\r\n        SETBORDERBOTTOM(system, component, element, start_x + dx / ratio, true);\r\n    else\r\n        ratio = getRatio(system, component, element, SETBORDERBOTTOM, start_x, dx, \"border-bottom-width\");\r\n\r\n    if (!LINKED) element.wick_node.prepRebuild();\r\n\r\n    return ratio;\r\n}\r\n\r\nexport function RESIZEBORDERT(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTABORDERTOP(system, component, element, dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBORDERR(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTABORDERRIGHT(system, component, element, -dx, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBORDERL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTABORDERLEFT(system, component, element, dx, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBORDERB(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTABORDERBOTTOM(system, component, element, -dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBORDERTL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    let cache = CacheFactory(system, component, element);\r\n\r\n    if((cache.cssflagsA & 1)){\r\n        SETDELTALEFT(system, component, element, dx, 0, true);\r\n        SETDELTATOP(system, component, element, dy, 0, true);\r\n    }\r\n\r\n    SETDELTABORDERLEFT(system, component, element, -dx, 0, true);\r\n    SETDELTABORDERTOP(system, component, element, -dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBORDERTR(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTABORDERRIGHT(system, component, element, dx, 0, true);\r\n    SETDELTABORDERTOP(system, component, element, dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBORDERBL(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTABORDERLEFT(system, component, element, dx, 0, true);\r\n    SETDELTABORDERBOTTOM(system, component, element, dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport function RESIZEBORDERBR(system, component, element, dx, dy, IS_COMPONENT) {\r\n    if (IS_COMPONENT) return;\r\n    SETDELTABORDERRIGHT(system, component, element, dx, 0, true);\r\n    SETDELTABORDERBOTTOM(system, component, element, dy, 0, true);\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport  function BORDERRADIUSTL(system, component, element, d){\r\n    setValue(system, component, element, \"border_top_left_radius\", new types.length(d, \"px\"));\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport  function BORDERRADIUSTR(system, component, element, d){\r\n    setValue(system, component, element, \"border_top_right_radius\", new types.length(d, \"px\"));\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport  function BORDERRADIUSBL(system, component, element, d){\r\n    setValue(system, component, element, \"border_bottom_left_radius\", new types.length(d, \"px\"));\r\n    element.wick_node.prepRebuild();\r\n}\r\n\r\nexport  function BORDERRADIUSBR(system, component, element, d){\r\n    setValue(system, component, element, \"border_bottom_right_radius\", new types.length(d, \"px\"));\r\n    element.wick_node.prepRebuild();\r\n}\r\n","import {CacheFactory} from \"./cache\";\r\nimport { TEXTEDITOR } from \"./text\";\r\nimport { MOVE, CENTER } from \"./move\";\r\nimport { COMPLETE } from \"./complete\";\r\nimport { CREATE_ELEMENT, CREATE_COMPONENT, TRANSFER_ELEMENT, CREATE_CSS_DOC, REMOVE_COMPONENT } from \"./create\";\r\nimport {SETWIDTH,\r\nSETHEIGHT,\r\nSETDELTAWIDTH,\r\nSETDELTAHEIGHT} from \"./dimensions\";\r\nimport {\r\n    SETBACKGROUNDCOLOR,\r\n    SETCOLOR\r\n} from \"./color\";\r\nimport {\r\n    MOVE_PANEL\r\n}from \"./ui_panels\";\r\nimport { UNDO , REDO} from \"./history\";\r\nimport {\r\n    SETLEFT,\r\n    SETDELTALEFT,\r\n    SETTOP,\r\n    SETDELTATOP,\r\n    SETRIGHT,\r\n    SETDELTARIGHT,\r\n    SETBOTTOM,\r\n    SETDELTABOTTOM,\r\n    RESIZETL,\r\n    RESIZETR,\r\n    RESIZEBL,\r\n    RESIZEBR,\r\n    RESIZET,\r\n    RESIZER,\r\n    RESIZEL,\r\n    RESIZEB\r\n} from \"./position\";\r\nimport {\r\n    SETPADDINGLEFT,\r\n    SETDELTAPADDINGLEFT,\r\n    SETPADDINGTOP,\r\n    SETDELTAPADDINGTOP,\r\n    SETPADDINGRIGHT,\r\n    SETDELTAPADDINGRIGHT,\r\n    SETPADDINGBOTTOM,\r\n    SETDELTAPADDINGBOTTOM,\r\n    RESIZEPADDINGTL,\r\n    RESIZEPADDINGTR,\r\n    RESIZEPADDINGBL,\r\n    RESIZEPADDINGBR,\r\n    RESIZEPADDINGT,\r\n    RESIZEPADDINGR,\r\n    RESIZEPADDINGL,\r\n    RESIZEPADDINGB\r\n} from \"./padding\";\r\nimport {\r\n    SETMARGINLEFT,\r\n    SETDELTAMARGINLEFT,\r\n    SETMARGINTOP,\r\n    SETDELTAMARGINTOP,\r\n    SETMARGINRIGHT,\r\n    SETDELTAMARGINRIGHT,\r\n    SETMARGINBOTTOM,\r\n    SETDELTAMARGINBOTTOM,\r\n    RESIZEMARGINTL,\r\n    RESIZEMARGINTR,\r\n    RESIZEMARGINBL,\r\n    RESIZEMARGINBR,\r\n    RESIZEMARGINT,\r\n    RESIZEMARGINR,\r\n    RESIZEMARGINL,\r\n    RESIZEMARGINB\r\n} from \"./margin\";\r\nimport {\r\n    TOMARGINLEFT,\r\n    TOMARGINRIGHT,\r\n    TOMARGINLEFTRIGHT,\r\n    TOLEFT,\r\n    TORIGHT,\r\n    TOLEFTRIGHT,\r\n    TOTOP,\r\n    TOTOPBOTTOM,\r\n    TOGGLE_UNIT,\r\n    TOPOSITIONABSOLUTE,\r\n    TOPOSITIONRELATIVE,\r\n    TOPOSITIONFIXED,\r\n    TOPOSITIONSTICKY,\r\n    CONVERT_LEFT,\r\n    CONVERT_TOP\r\n} from \"./convert\";\r\nimport {\r\n    SETBORDERLEFT,\r\n    SETDELTABORDERLEFT,\r\n    SETBORDERTOP,\r\n    SETDELTABORDERTOP,\r\n    SETBORDERRIGHT,\r\n    SETDELTABORDERRIGHT,\r\n    SETBORDERBOTTOM,\r\n    SETDELTABORDERBOTTOM,\r\n    RESIZEBORDERT,\r\n    RESIZEBORDERR,\r\n    RESIZEBORDERL,\r\n    RESIZEBORDERB,\r\n    RESIZEBORDERTL,\r\n    RESIZEBORDERTR,\r\n    RESIZEBORDERBL,\r\n    RESIZEBORDERBR,\r\n    BORDERRADIUSTL,\r\n    BORDERRADIUSTR,\r\n    BORDERRADIUSBL,\r\n    BORDERRADIUSBR,\r\n} from \"./border\";\r\nconst actions = {\r\n    //UI PANELS\r\n    MOVE_PANEL,\r\n    //\r\n    CacheFactory,\r\n    COMPLETE,\r\n    TEXTEDITOR,\r\n    MOVE,\r\n    CENTER,\r\n\r\n    //CREATE\r\n    TRANSFER_ELEMENT,\r\n    CREATE_ELEMENT,\r\n    CREATE_COMPONENT,\r\n    CREATE_CSS_DOC,\r\n    REMOVE_COMPONENT,\r\n\r\n    //Margin\r\n    TOMARGINLEFT,\r\n    TOMARGINRIGHT,\r\n    TOMARGINLEFTRIGHT,\r\n    TOLEFT,\r\n    TORIGHT,\r\n    TOLEFTRIGHT,\r\n    TOTOP,\r\n    TOTOPBOTTOM,\r\n    TOGGLE_UNIT,\r\n    TOPOSITIONABSOLUTE,\r\n    TOPOSITIONRELATIVE,\r\n    TOPOSITIONFIXED,\r\n    TOPOSITIONSTICKY,\r\n    \r\n    //position\r\n    SETLEFT,\r\n    SETDELTALEFT,\r\n    SETTOP,\r\n    SETDELTATOP,\r\n    SETRIGHT,\r\n    SETDELTARIGHT,\r\n    SETBOTTOM,\r\n    SETDELTABOTTOM,\r\n    RESIZETL,\r\n    RESIZETR,\r\n    RESIZEBL,\r\n    RESIZEBR,\r\n    RESIZET,\r\n    RESIZER,\r\n    RESIZEL,\r\n    RESIZEB,\r\n    //Width Height\r\n    SETWIDTH,\r\n    SETHEIGHT,\r\n    SETDELTAWIDTH,\r\n    SETDELTAHEIGHT,\r\n    //Border\r\n    //Margin\r\n    SETMARGINLEFT,\r\n    SETDELTAMARGINLEFT,\r\n    SETMARGINTOP,\r\n    SETDELTAMARGINTOP,\r\n    SETMARGINRIGHT,\r\n    SETDELTAMARGINRIGHT,\r\n    SETMARGINBOTTOM,\r\n    SETDELTAMARGINBOTTOM,\r\n    RESIZEMARGINTL,\r\n    RESIZEMARGINTR,\r\n    RESIZEMARGINBL,\r\n    RESIZEMARGINBR,\r\n    RESIZEMARGINT,\r\n    RESIZEMARGINR,\r\n    RESIZEMARGINL,\r\n    RESIZEMARGINB,\r\n    //Padding\r\n    SETPADDINGLEFT,\r\n    SETDELTAPADDINGLEFT,\r\n    SETPADDINGTOP,\r\n    SETDELTAPADDINGTOP,\r\n    SETPADDINGRIGHT,\r\n    SETDELTAPADDINGRIGHT,\r\n    SETPADDINGBOTTOM,\r\n    SETDELTAPADDINGBOTTOM,\r\n    RESIZEPADDINGTL,\r\n    RESIZEPADDINGTR,\r\n    RESIZEPADDINGBL,\r\n    RESIZEPADDINGBR,\r\n    RESIZEPADDINGT,\r\n    RESIZEPADDINGR,\r\n    RESIZEPADDINGL,\r\n    RESIZEPADDINGB,\r\n    //Border\r\n    SETBORDERLEFT,\r\n    SETDELTABORDERLEFT,\r\n    SETBORDERTOP,\r\n    SETDELTABORDERTOP,\r\n    SETBORDERRIGHT,\r\n    SETDELTABORDERRIGHT,\r\n    SETBORDERBOTTOM,\r\n    SETDELTABORDERBOTTOM,\r\n    RESIZEBORDERT,\r\n    RESIZEBORDERR,\r\n    RESIZEBORDERL,\r\n    RESIZEBORDERB,\r\n    RESIZEBORDERTL,\r\n    RESIZEBORDERTR,\r\n    RESIZEBORDERBL,\r\n    RESIZEBORDERBR,\r\n    BORDERRADIUSTL,\r\n    BORDERRADIUSTR,\r\n    BORDERRADIUSBL,\r\n    BORDERRADIUSBR,\r\n    //color\r\n    SETBACKGROUNDCOLOR,\r\n    SETCOLOR,\r\n    //convert\r\n    CONVERT_LEFT,\r\n    CONVERT_TOP,\r\n    //History\r\n    UNDO,\r\n    REDO\r\n};\r\n\r\nexport { actions };\r\n","//import wick from \"@candlefw/wick\";\r\n\r\nimport { Component } from \"./component\";\r\n/**\r\n * This module is responsible for storing, updating, and caching compents. \r\n * In terms of Flame, the component is a synonym to an artboard, and is the primary container used to hold user created content. A Component reprsents a single file containing code, markup, and css necessary to present a visual artifact on the screen. It may contain definitions for sources or taps, and must be allowed to pull and push data from other components and handle integration with other components to create a fully realized UI.\r\n * Any associated stylesheets are managed through this componnent. \r\n */\r\nclass UIComponent extends Component {\r\n\r\n    constructor(system, name) {\r\n\r\n        super(system);\r\n\r\n        this.frame.onload = (e) => {\r\n\r\n            this.mountListeners();\r\n\r\n            let children = Array.prototype.slice.apply(this.data.children);\r\n\r\n            for (let i = 0; i < children.length; i++) {\r\n                e.target.contentDocument.body.appendChild(children[i]);\r\n            }\r\n\r\n            //e.target.contentWindow.wick = wick;\r\n\r\n            \r\n\r\n            this.local_css.forEach((css) => {\r\n                let style = document.createElement(\"style\");\r\n                style.innerText = css + \"\";\r\n                this.frame.contentDocument.head.appendChild(style);\r\n            });\r\n\r\n            this.frame.onload = null;\r\n        };\r\n\r\n        //frame for fancy styling\r\n        this.frame.classList.add(\"flame_ui_component\");\r\n\r\n        this.pkg = null;\r\n\r\n        this.name = name;\r\n\r\n        this.system = system;\r\n\r\n        this.width = 300;\r\n        this.height = 500;\r\n        this.x = 0;\r\n        this.y = 0;\r\n\r\n        this.LOADED = false;\r\n    }\r\n\r\n    mountListeners() {\r\n        this.style_frame.addEventListener(\"mousedown\", e => {\r\n            this.system.ui.ui_target = { element: null, component: this, action: this.system.actions.MOVE_PANEL };\r\n            this.system.ui.handlePointerDownEvent(e, e.pageX, e.pageY);\r\n        });\r\n        this.frame.contentWindow.addEventListener(\"mousemove\", e => this.system.ui.handlePointerMoveEvent(e, e.pageX + this.x + 3, e.pageY + this.y + 3));\r\n        this.frame.contentWindow.addEventListener(\"mouseup\", e => this.system.ui.handlePointerEndEvent(e, e.pageX + this.x + 3, e.pageY + this.y + 3));\r\n    }\r\n\r\n    documentReady(pkg) {\r\n        if (this.LOADED) {\r\n            return;\r\n        }\r\n        this.LOADED = true;\r\n\r\n        this.mgr = pkg.mount(this.data, this.system.project.flame_data);\r\n\r\n        let src = this.mgr.sources[0].ast;\r\n\r\n        if (src.statics.menu) {\r\n            switch (src.statics.menu) {\r\n                case \"main\":\r\n                    this.system.ui.addToMenu(\"main\", this.name, this.mgr.sources[0].badges.icon, this);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        let css = pkg.skeletons[0].tree.css;\r\n        if (css) {\r\n            css.forEach(css => {\r\n                this.local_css.push(css);\r\n            });\r\n        }\r\n\r\n        this.mgr.upImport = (prop_name, data, meta) => {\r\n            switch (prop_name) {\r\n                case \"load\":\r\n                    this.system.ui.mountComponent(this);\r\n                    break;\r\n                case \"width\":\r\n                    this.width = data;\r\n                    break;\r\n                case \"height\":\r\n                    this.height = data;\r\n                    break;\r\n            }\r\n        };\r\n    }\r\n\r\n    set(data) {\r\n        this.mgr.update({\r\n            target: data\r\n        });\r\n    }\r\n\r\n    load(doc) {\r\n        doc.bind(this);\r\n    }\r\n\r\n    mount(element) {\r\n        if (this.element.parentNode != element)\r\n            element.appendChild(this.element);\r\n    }\r\n\r\n    unmount() {}\r\n\r\n}\r\n\r\nexport {\r\n    UIComponent\r\n};\r\n","import {Component} from \"./component.mjs\";\r\n\r\n/**\r\n * This module is responsible for storing, updating, and caching compents. \r\n * In terms of Flame, the component is a synonym to an artboard, and is the primary container used to hold user created content. A Component reprsents a single file containing code, markup, and css necessary to present a visual artifact on the screen. It may contain definitions for sources or taps, and must be allowed to pull and push data from other components and handle integration with other components to create a fully realized UI.\r\n * Any associated stylesheets are managed through this componnent. \r\n */\r\nexport class MasterComponent extends Component {\r\n    constructor(system){\r\n        super(system);\r\n\r\n        this.width = 1920;\r\n        this.height = 1080;\r\n        this.IS_MASTER = true;\r\n    }\r\n\r\n    createFrameElement(){\r\n\r\n        this.frame = document.createElement(\"div\");\r\n        this.frame.id = \"master_component\";\r\n       // this.frame.src = \"component_frame.html\";\r\n        //this.frame.setAttribute(\"frameBorder\", \"0\");\r\n        this.frame.style.position = \"fixed\";\r\n\r\n\r\n        this.mountListeners();\r\n        this.IFRAME_LOADED = true;\r\n\r\n        return this.frame;\r\n    }\r\n\r\n    mountListeners() {\r\n        this.system.ui.integrateComponentFrame(this.frame, this);\r\n    }\r\n\r\n    get window(){\r\n    \treturn window;\r\n    }\r\n\r\n    get sourceElement(){\r\n    \treturn this.frame.firstChild;\r\n    }\r\n\r\n    get content(){\r\n        return this.frame;\r\n    }\r\n\r\n    query(query){\r\n    \treturn this.frame.querySelector(query);\r\n    }\r\n}\r\n","class LineBox {\r\n    constructor(ON_MAIN = false){\r\n        this.rect = null;\r\n        this.ON_MAIN = ON_MAIN;\r\n    }\r\n    get l() {\r\n        return this.rect.x + this.component.x;\r\n    }\r\n\r\n    get t() {\r\n        return this.rect.y + this.component.y;\r\n    }\r\n\r\n    get b() {\r\n        return this.rect.y + this.rect.height + this.component.y;\r\n    }\r\n\r\n    get r() {\r\n        return this.rect.x + this.rect.width + this.component.x;\r\n    }\r\n\r\n    getTransformed(trs){\r\n\r\n        if(this.ON_MAIN)\r\n            return {l:this.l, r:this.r, t:this.t, b:this.b};\r\n        else{\r\n\r\n            const \r\n                l = (this.l)*trs.scale+trs.px,\r\n                t = (this.t)*trs.scale+trs.py,\r\n                r = (this.r)*trs.scale+trs.px,\r\n                b = (this.b)*trs.scale+trs.py;\r\n            return {l, r, t, b};\r\n        }\r\n    }\r\n}\r\n\r\nclass ElementLineBox extends LineBox {\r\n    constructor(element, component) {\r\n        super(!!component.IS_MASTER);\r\n        this.rect = element.getBoundingClientRect();\r\n\r\n        this.component = component;\r\n    }\r\n}\r\n\r\nclass ComponentLineBox extends LineBox {\r\n    constructor(component) {\r\n        super();\r\n        this.component = component;\r\n    }\r\n\r\n    get l() {\r\n        return this.component.x;\r\n    }\r\n\r\n    get t() {\r\n        return this.component.y;\r\n    }\r\n\r\n    get b() {\r\n        return this.component.height + this.component.y;\r\n    }\r\n\r\n    get r() {\r\n        return this.component.width + this.component.x;\r\n    }\r\n}\r\n\r\nfunction CreateBoxes(ele, c, LineMachine, target) {\r\n\r\n    LineMachine.boxes.push(new ElementLineBox(ele, c));\r\n\r\n    let children = ele.children;\r\n    for (let i = 0; i < children.length; i++) {\r\n        if (target == children[i]) continue;\r\n        CreateBoxes(children[i], c, LineMachine, target);\r\n    }\r\n}\r\n\r\nfunction CreateComponentBoxes(c, LineMachine, target) {\r\n    if (c == target) return;\r\n    LineMachine.boxes.push(new ComponentLineBox(c));\r\n}\r\n\r\nexport class LineMachine {\r\n    constructor() {\r\n        this.boxes = [];\r\n        this.tolerance = 10;\r\n\r\n        this.activex = { id: -1, ot: 0, tt: 0 };\r\n        this.activey = { id: -1, ot: 0, tt: 0 };\r\n    }\r\n\r\n    setPotentialBoxes(element, component, components) {\r\n\r\n        this.boxes.length = 0;\r\n\r\n        if (!element) {\r\n            components.forEach(c => CreateComponentBoxes(c, this, component));\r\n        } else {\r\n            //get tree from component and create boxes from all elements inside the component. \r\n            let tree = component.window.document.body;\r\n\r\n            let ele = tree;\r\n\r\n            CreateBoxes(ele, component, this, element);\r\n        }\r\n\r\n    }\r\n\r\n    getSuggestedLine(box, dx, dy) {\r\n\r\n        if (!box) return { dx, dy };\r\n\r\n        //tolerance based on rate\r\n        let mx = this.tolerance - 0.5; //Math.min(this.tolerance / Math.max(Math.abs(dx)*1.55, 0.1), this.tolerance);\r\n        let my = this.tolerance - 0.5;  //Math.min(this.tolerance / Math.max(Math.abs(dy) * 1.55, 0.1), this.tolerance);\r\n        let x_set = false;\r\n        let y_set = false;\r\n        const l = box.l;\r\n        const r = box.r;\r\n\r\n        const LO = (l - r == 0);\r\n\r\n        const t = box.t;\r\n        const b = box.b;\r\n        const ch = (l + r) / 2;\r\n        const cv = (t + b) / 2;\r\n        const tolx = mx;\r\n        const toly = my;\r\n\r\n        for (let i = 0; i < this.boxes.length; i++) {\r\n            let box = this.boxes[i];\r\n\r\n            //Make sure the ranges overlap\r\n\r\n            //Vertical\r\n            if (!x_set && l <= (box.r + tolx + 1) && r >= (box.l - tolx - 1)) {\r\n                //There is overlap; find the best alignment\r\n                let c = (box.l + box.r) * 0.5;\r\n                let tol = Math.abs(mx);\r\n                let array = [\r\n                    //left\r\n                    l - box.l, l - box.r, l - c,\r\n                    //right\r\n                    r - box.l, r - box.r, r - c,\r\n                    //center\r\n                    ch - box.l, ch - box.r, ch - c\r\n                ];\r\n\r\n                let length = LO ? 3 : 9; // Singl\r\n\r\n                for (let j = 0; j < length; j++) {\r\n\r\n                    if (Math.abs(array[j]) < Math.abs(mx)) {\r\n                        mx = array[j];\r\n                        this.activex.id = i;\r\n                        this.activex.tt = (j % 3);\r\n                        this.activex.ot = (j / 3) | 0;\r\n                        //x_set = true;\r\n                        //break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            //Horizontal\r\n            if (!y_set && t < (box.b + toly + 1) && b > (box.t - toly - 1)) {\r\n                //There is overlap; find the best alignment\r\n                let c = (box.t + box.b) * 0.5;\r\n                let tol = Math.abs(my);\r\n                let array = [\r\n                    /*top*/\r\n                    t - box.t, t - box.b, t - c,\r\n                    /*bottom*/\r\n                    b - box.t, b - box.b, b - c,\r\n                    /*center*/\r\n                    cv - box.t, cv - box.b, cv - c\r\n                ];\r\n                for (let j = 0; j < 9; j++)\r\n                    if (Math.abs(array[j]) < tol) {\r\n                        my = array[j];\r\n                        this.activey.id = i;\r\n                        this.activey.tt = (j % 3);\r\n                        this.activey.ot = (j / 3) | 0;\r\n                        //y_set = true;\r\n                        break;\r\n                    }\r\n            }\r\n\r\n            if (x_set && y_set) break;\r\n        }\r\n\r\n        let dx_ = dx,\r\n            dy_ = dy, MX =false, MY = false;\r\n\r\n        if (Math.abs(mx) < tolx && Math.abs(dx) < tolx){\r\n            MX = true;\r\n            dx_ = mx;\r\n        }\r\n        else\r\n            this.activex.id = -1;\r\n\r\n        if (Math.abs(my) < toly && Math.abs(dy) < toly){\r\n            MY = true;\r\n            dy_ = my;\r\n        }\r\n        else\r\n            this.activey.id = -1;\r\n\r\n        return { dx: dx_, dy: dy_, MX, MY };\r\n    }\r\n\r\n    render(ctx, transform, boxc) {\r\n\r\n        if (!boxc || this.boxes.length == 0) return;\r\n\r\n        boxc = boxc.getTransformed(transform);\r\n\r\n        ctx.save();\r\n\r\n        if (this.activex.id > -1) {\r\n            //0 = l, 1 = r, 2 = c \r\n            ctx.strokeStyle = \"red\";\r\n\r\n            const   \r\n                box = this.boxes[this.activex.id].getTransformed(transform),\r\n                x = [box.l, box.r, (box.r + box.l) / 2][this.activex.tt],\r\n                y1 = [box.t, box.t, (box.t + box.b) / 2][this.activex.tt],\r\n                y2 = [boxc.t, boxc.t, (boxc.t + boxc.b) / 2][this.activex.ot];\r\n            ctx.beginPath();\r\n            ctx.moveTo(x, y1);\r\n            ctx.lineTo(x, y2);\r\n            ctx.stroke();\r\n        }\r\n\r\n        if (this.activey.id > -1) {\r\n            //0 = t, 1 = b, 2 = c \r\n            ctx.strokeStyle = \"green\";\r\n\r\n            const \r\n                box = this.boxes[this.activey.id].getTransformed(transform),\r\n                y = [box.t, box.b, (box.t + box.b) / 2][this.activey.tt],\r\n                x1 = [box.l, box.l, (box.r + box.l) / 2][this.activey.tt],\r\n                x2 = [boxc.l, boxc.l, (boxc.r + boxc.l) / 2][this.activey.ot];\r\n\r\n            ctx.beginPath();\r\n            ctx.moveTo(x1, y);\r\n            ctx.lineTo(x2, y);\r\n            ctx.stroke();\r\n        }\r\n\r\n        ctx.restore();\r\n    }\r\n}\r\n","const paper = require(\"paper\");\nconst Point = paper.Point;\nconst Size = paper.Size;\nconst Path = paper.Path;\n\n/**\n * @brief Provides interface tools for manipulating SVG elements\n */\nexport class SVGManager {\n    constructor(system) {\n        this.system = system;\n\n        this.target = null;\n\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.style.position = \"absolute\";\n        paper.setup(this.canvas);\n        this.proj = paper.project;\n        let point = new Point(0, 0);\n\n        this.selection = null;\n\n        let dx = 0;\n        let dy = 0;\n        let POINTER_DOWN = false;\n        let path;\n\n\n        this.canvas.addEventListener(\"pointerdown\", (e) => {\n            let x = e.offsetX - 20;\n            let y = e.offsetY - 20;\n            dx = x;\n            dy = y;\n            point.x = x;\n            point.y = y;\n\n            if (e.button == 0) {\n                if (!path) {\n                    path = new Path();\n                    path.strokeColor = \"black\";\n                    path.fullySelected = true;\n                } else {\n                    path.add(point);\n                }\n            }else{\n            \tpath.closePath();\n            }\n            this.proj.view.update();\n\n\n            return;\n            POINTER_DOWN = true;\n\n            this.selection = this.proj.hitTest(point, { fill: true, stroke: true });\n\n            if (this.selection) {\n                this.selection.item.selected = true;\n                this.proj.view.update();\n            }\n\n        });\n\n        this.canvas.addEventListener(\"pointermove\", (e) => {\n            if (!POINTER_DOWN) return;\n            let x = dx - e.offsetX;\n            let y = dy - e.offsetY;\n\n            dx = e.offsetX;\n            dy = e.offsetY;\n            let selection = this.selection;\n            if (selection) {\n                let item = selection.item;\n                switch (selection.type) {\n                    case \"fill\":\n                    case \"stroke\":\n                        item.translate(new Point(-x, -y));\n                        break;\n                }\n\n                this.proj.view.update();\n            }\n        });\n\n        this.canvas.addEventListener(\"pointerup\", (e) => {\n            POINTER_DOWN = false;\n            this.export();\n        });\n\n\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.elements = [];\n    }\n\n    export () {\n        paper.project.view.viewSize.set(this.width, this.height);\n        paper.project.view.translate(new Point(-20, -20));\n        let output = paper.project.exportSVG({ asString: true });\n\n        this.wick_node.reparse(output).then(n => this.wick_node = n);\n        paper.project.view.translate(new Point(20, 20));\n        paper.project.view.viewSize.set(this.width + 40, this.height + 40);\n    }\n\n    mount(ui, target_element, component, x, y) {\n\n        while (target_element && target_element.tagName.toUpperCase() !== \"SVG\") \n            target_element = target_element.parentElement;\n        \n        if (!target_element) return;\n\n        this.wick_node = target_element.wick_node;\n\n        //parse svg elements and build objects from them. \n        let children = target_element.children;\n\n\n        let rect = target_element.getBoundingClientRect();\n        x = component.x + rect.x + 4 - 20;\n        y = component.y + rect.y + 4 - 20;\n        this.width = rect.width;\n        this.height = rect.width;\n        paper.project.view.viewSize.set(rect.width + 40, rect.height + 40);\n        paper.project.view.translate(new Point(20, 20));\n        paper.project.importSVG(target_element.outerHTML);\n\n        this.canvas.style.left = `${x}px`;\n        this.canvas.style.top = `${y}px`;\n\n        ui.view_element.appendChild(this.canvas);\n    }\n}","export default class Handler {\r\n    constructor(system, component) {\r\n        this.package = null;\r\n\r\n        if(component){\r\n            const doc = system.docs.get(system.docs.loadFile(component));\r\n\r\n            if (doc) \r\n                doc.bind(this)\r\n        }\r\n    }\r\n\r\n    documentReady(pkg){\r\n        this.package = pkg;\r\n    }\r\n\r\n    input(type, event, ui_manager, target) {\r\n        switch (type) {\r\n            case \"end\":\r\n                return this.end(event, ui_manager, target);\r\n            case \"start\":\r\n                return this.start(event, ui_manager, target);\r\n            case \"move\":\r\n                return this.move(event, ui_manager, target);\r\n            case \"drop\":\r\n                return this.drop(event, ui_manager, target);\r\n            case \"scroll\":\r\n                return this.scroll(event, ui_manager, target);\r\n            case \"context\":\r\n                return this.context(event, ui_manager, target);\r\n        }\r\n    }\r\n\r\n    //Pointer end\r\n    end() { console.warn(\"No function has been defined for this action: end\"); return this; }\r\n\r\n    //Pointer start\r\n    start() { console.warn(\"No function has been defined for this action: start\"); return this; }\r\n\r\n    //Pointer move\r\n    move() { console.warn(\"No function has been defined for this action: move\"); return this; }\r\n\r\n    //Document drop\r\n    drop() { console.warn(\"No function has been defined for this action: drop\"); return this; }\r\n\r\n    //Wheel Scroll\r\n    scroll() { console.warn(\"No function has been defined for this action: scroll\"); return this; }\r\n\r\n    //Context Menu\r\n    context() { console.warn(\"No function has been defined for this action: context\"); return this; }\r\n}\r\n","import Handler from \"./handler.mjs\";\r\nimport { actions } from \"../actions/action\";\r\n\r\nexport default class Default extends Handler {\r\n\r\n    constructor(system, component) {\r\n        super(system, component);\r\n\r\n        Handler.default = this;\r\n        \r\n        this.origin_x = 0;\r\n        this.origin_y = 0;\r\n        this.UI_MOVE = false;\r\n        this.ACTIVE_POINTER_INPUT = false;\r\n    }\r\n\r\n    start(event, ui, data) {\r\n        const x = data.x || ui.transform.getLocalX(event.pageX),\r\n              y = data.y || ui.transform.getLocalY(event.pageY);\r\n\r\n        if (event.button == 1) {\r\n\r\n            if (isNaN(x) || isNaN(y))\r\n                debugger;\r\n\r\n            this.origin_x = x;\r\n            this.origin_y = y;\r\n            this.ACTIVE_POINTER_INPUT = true;\r\n            this.UI_MOVE = true;\r\n\r\n            return this.constructor.default;\r\n        }\r\n\r\n        ui.RENDER_LINES = true;\r\n\r\n        this.origin_x = x;\r\n        this.origin_y = y;\r\n        this.ACTIVE_POINTER_INPUT = true;\r\n\r\n        if (event.target !== document.body)\r\n            return this.constructor.default;\r\n\r\n        ui.canvas.clearTargets(ui.transform);\r\n        ui.main_menu.setAttribute(\"show\", \"false\");\r\n\r\n\r\n        return this.constructor.default;\r\n    }\r\n\r\n    move(event, ui, data) {\r\n        let x = data.x,\r\n            y = data.y;\r\n\r\n        if (!this.ACTIVE_POINTER_INPUT) return this.constructor.default;\r\n\r\n        if (this.UI_MOVE) {\r\n            x = (typeof(x) == \"number\") ? x : ui.transform.getLocalX(event.pageX);\r\n            y = (typeof(y) == \"number\") ? y : ui.transform.getLocalY(event.pageY);\r\n            const diffx = this.origin_x - x;\r\n            const diffy = this.origin_y - y;\r\n\r\n\r\n            ui.transform.px -= diffx * ui.transform.sx;\r\n            ui.transform.py -= diffy * ui.transform.sy;\r\n            this.origin_x = x + diffx;\r\n            this.origin_y = y + diffy;\r\n            ui.render();\r\n            ui.view_element.style.transform = ui.transform;\r\n        } else if (ui.ui_target) {\r\n            const diffx = this.origin_x - ((typeof(x) == \"number\") ? x : event.pageX);\r\n            const diffy = this.origin_y - ((typeof(y) == \"number\") ? y : event.pageY);\r\n            this.origin_x -= diffx;\r\n            this.origin_y -= diffy;\r\n            if (ui.ui_target.action) ui.ui_target.action(ui.system, ui.ui_target.component, diffx, diffy);\r\n        } else if (ui.target) {\r\n            const diffx = this.origin_x - ((typeof(x) == \"number\") ? x : ui.transform.getLocalX(event.pageX));\r\n            const diffy = this.origin_y - ((typeof(y) == \"number\") ? y : ui.transform.getLocalY(event.pageY));\r\n\r\n            const { dx, dy, MX, MY } = ui.line_machine.getSuggestedLine(ui.target.box, diffx, diffy);\r\n\r\n            this.origin_x -= (MX) ? dx : diffx;\r\n            this.origin_y -= (MY) ? dy : diffy;\r\n\r\n            //if(ui.target.box.l == ui.target.box.r && Math.abs(diffx) > 1 && Math.abs(dx) < 0.0001) debugger\r\n            if (ui.target.action) ui.target.action(ui.system, ui.target.component, ui.target.element, -dx, -dy, ui.target.IS_COMPONENT);\r\n\r\n            ui.render();\r\n        }\r\n\r\n        return this.constructor.default;\r\n    }\r\n\r\n    end(event, ui, data) {\r\n        this.UI_MOVE = false;\r\n        this.ACTIVE_POINTER_INPUT = false;\r\n\r\n        if (ui.ui_target)\r\n            ui.ui_target = null;\r\n        else if (ui.target)\r\n            actions.COMPLETE(ui.system, ui.target.component, ui.target.element);\r\n\r\n        ui.RENDER_LINES = false;\r\n        ui.render();\r\n\r\n        return this.constructor.default;\r\n    }\r\n\r\n    drop(event, ui) {\r\n        Array.prototypevent.forEach.call(event.dataTransfer.files,\r\n            f => ui.mountDocument(\r\n                f,\r\n                ui.transform.getLocalX(event.clientX),\r\n                ui.transform.getLocalY(event.clientY))\r\n        );\r\n\r\n        return this.constructor.default;\r\n    }\r\n\r\n    scroll(event, ui, data) {\r\n        const amount = event.deltaY,\r\n            os = ui.transform.scale;\r\n\r\n        ui.transform.scale = Math.max(0.2, Math.min(2, os + -amount * 0.00005));\r\n\r\n        const px = ui.transform.px,\r\n            s = ui.transform.scale,\r\n            py = ui.transform.py;\r\n\r\n        ui.transform.px -= ((((px - data.x) * os) - ((px - data.x) * s))) / (os);\r\n        ui.transform.py -= ((((py - data.y) * os) - ((py - data.y) * s))) / (os);\r\n        ui.render();\r\n        ui.view_element.style.transform = ui.transform;\r\n\r\n        return this.constructor.default;\r\n    }\r\n\r\n    context(event, ui, data) {\r\n        switch (event.target.tagName.toUpperCase()) {\r\n            case \"SVG\":\r\n            case \"RECT\":\r\n            case \"PATH\":\r\n                ui.svg_manager.mount(ui, event.target, data.component, event.x, event.y);\r\n                break;\r\n            default:\r\n                ui.ui_components.get(\"element_edit.html\").mount(ui.element);\r\n        }\r\n\r\n        return this.constructor.default;\r\n    }\r\n}\r\n","import Default from \"./default.mjs\";\r\nimport Handler from \"./handler.mjs\";\r\nimport { actions } from \"../actions/action\";\r\n\r\nconst default_handler = Handler.default;\r\n\r\nexport default class ElementDraw extends Default {\r\n\r\n    constructor() {\r\n        super();\r\n        this.root_x = 0;\r\n        this.root_y = 0;\r\n    }\r\n\r\n    start(event, ui, data) {\r\n        if (event.button == 1) \r\n            return default_handler.start(event, ui, data);\r\n\r\n        const x = data.x || ui.transform.getLocalX(event.pageX),\r\n            y = data.y || ui.transform.getLocalY(event.pageY);\r\n\r\n        this.origin_x = x;\r\n        this.origin_y = y;\r\n        this.root_x = x;\r\n        this.root_y = y;\r\n\r\n        return this;\r\n    }\r\n\r\n    move(event, ui, data) {\r\n\r\n        //if (!this.ACTIVE_POINTER_INPUT) return this;\r\n\r\n        const x = data.x || ui.transform.getLocalX(event.pageX),\r\n            y = data.y || ui.transform.getLocalY(event.pageY);\r\n\r\n        this.origin_x = x;\r\n        this.origin_y = y;\r\n        \r\n        return this;\r\n    }\r\n\r\n    end(event, ui, data) {\r\n        this.UI_MOVE = false;\r\n        this.ACTIVE_POINTER_INPUT = false;\r\n\r\n        const x1 = Math.min(this.origin_x, this.root_x);\r\n        const y1 = Math.min(this.origin_y, this.root_y);\r\n        const x2 = Math.max(this.origin_x, this.root_x);\r\n        const y2 = Math.max(this.origin_y, this.root_y);\r\n\r\n        actions.CREATE_ELEMENT(\r\n            ui.system,\r\n            ui.master_component,\r\n            ui.master_component.sourceElement,\r\n            \"div\",\r\n            x1, y1, x2 - x1, y2 - y1);\r\n\r\n        ui.render();\r\n\r\n        return default_handler;\r\n    }\r\n}\r\n\r\nHandler.element_draw = new ElementDraw();\r\n","import { actions } from \"./actions/action\";\r\n\r\nconst pi2 = Math.PI * 2;\r\n\r\nfunction gripPoint(ctx, x, y, r) {\r\n    ctx.beginPath();\r\n    //ctx.moveTo(x,y); \r\n    ctx.arc(x, y, r, 0, pi2);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n}\r\n\r\nfunction getTransformed(trs){\r\nif(this.ON_MAIN)\r\n            return {l:this.l, r:this.r, t:this.t, b:this.b};\r\n        else{\r\n\r\n            const \r\n                l = (this.l)*trs.scale+trs.px,\r\n                t = (this.t)*trs.scale+trs.py,\r\n                r = (this.r)*trs.scale+trs.px,\r\n                b = (this.b)*trs.scale+trs.py;\r\n\r\n            return {l, r, t, b};\r\n        }\r\n}\r\n\r\n\r\nexport class ControlWidget {\r\n    constructor(controler_component_package) {\r\n        var widget = ControlWidget.cache;\r\n\r\n        if(widget){\r\n\r\n            ControlWidget.cache = widget.next;\r\n\r\n            let element = widget.element;\r\n\r\n            if(widget.sources[0])\r\n                widget.sources[0].destroy();\r\n\r\n            widget.sources = [];\r\n            \r\n            if(element.parentElement)\r\n                widget.element.parentElement.removeChild(element);\r\n\r\n        }else{\r\n            widget = this;\r\n            widget.element = document.createElement(\"div\");\r\n            widget.element.classList.add(\"widget_component\");\r\n        }\r\n\r\n        if(controler_component_package)\r\n            widget.controller = controler_component_package.mount(widget.element, widget, false, widget);\r\n        \r\n        document.body.append(widget.element);\r\n\r\n        widget.target = {\r\n            IS_COMPONENT: false,\r\n            component: null,\r\n            element: null,\r\n            action: null,\r\n            box: { l: 0, r: 0, t: 0, b: 0 }\r\n        };\r\n    \r\n        \r\n        widget.IS_ON_MASTER = false;\r\n\r\n        widget._ml = 0;\r\n        widget._mr = 0;\r\n        widget._mt = 0;\r\n        widget._mb = 0;\r\n\r\n        widget._pl = 0;\r\n        widget._pr = 0;\r\n        widget._pt = 0;\r\n        widget._pb = 0;\r\n\r\n        widget.bl = 0;\r\n        widget.br = 0;\r\n        widget.bt = 0;\r\n        widget.bb = 0;\r\n\r\n        widget.posl = 0;\r\n        widget.posr = 0;\r\n        widget.post = 0;\r\n        widget.posb = 0;\r\n\r\n        widget.x = 0; //left of border box\r\n        widget.y = 0; //top of border box\r\n        widget.w = 0; //width of border box\r\n        widget.h = 0; //height of border box\r\n        widget.br = 0;\r\n\r\n\r\n        return widget;\r\n    }\r\n\r\n    destroy(){\r\n        this.next = ControlWidget.cache;\r\n        ControlWidget.cache = this;\r\n    }\r\n\r\n    setBox() {\r\n\r\n        const box = (this.target.box) ? this.target.box : { l: 0, r: 0, t: 0, b: 0 };\r\n        this.target.box = box;\r\n        this.target.box.ON_MAIN = this.IS_ON_MASTER;\r\n        this.target.box.getTransformed = getTransformed;\r\n        switch (this.target.action) {\r\n            case actions.MOVE:\r\n                box.l = this.cbl;\r\n                box.r = this.cbr;\r\n                box.b = this.cbb;\r\n                box.t = this.cbt;\r\n                break;\r\n            case actions.RESIZETL:\r\n                box.l = this.cbl;\r\n                box.r = this.cbl;\r\n                box.b = this.cbt;\r\n                box.t = this.cbt;\r\n                break;\r\n            case actions.RESIZEBL:\r\n                box.l = this.cbl;\r\n                box.r = this.cbl;\r\n                box.b = this.cbb;\r\n                box.t = this.cbb;\r\n                break;\r\n            case actions.RESIZETR:\r\n                box.l = this.cbr;\r\n                box.r = this.cbr;\r\n                box.b = this.cbt;\r\n                box.t = this.cbt;\r\n                break;\r\n            case actions.RESIZEBR:\r\n                box.l = this.cbr;\r\n                box.r = this.cbr;\r\n                box.b = this.cbb;\r\n                box.t = this.cbb;\r\n                break;\r\n            case actions.RESIZEMARGINTL:\r\n                box.l = this.ml;\r\n                box.r = this.ml;\r\n                box.b = this.mt;\r\n                box.t = this.mt;\r\n                break;\r\n            case actions.RESIZEMARGINBL:\r\n                box.l = this.ml;\r\n                box.r = this.ml;\r\n                box.b = this.mb;\r\n                box.t = this.mb;\r\n                break;\r\n            case actions.RESIZEMARGINTR:\r\n                box.l = this.mr;\r\n                box.r = this.mr;\r\n                box.b = this.mt;\r\n                box.t = this.mt;\r\n                break;\r\n            case actions.RESIZEMARGINBR:\r\n                box.l = this.mr;\r\n                box.r = this.mr;\r\n                box.b = this.mb;\r\n                box.t = this.mb;\r\n                break;\r\n            case actions.RESIZEPADDINGTL:\r\n                break;\r\n            case actions.RESIZEPADDINGBL:\r\n                break;\r\n            case actions.RESIZEPADDINGTR:\r\n                break;\r\n            case actions.RESIZEPADDINGBR:\r\n                break;\r\n        }\r\n    }\r\n\r\n    setDimensions() {\r\n        const component = this.target.component;\r\n        const IS_COMPONENT = !!this.target.IS_COMPONENT;\r\n        const IS_ON_MASTER = !!this.IS_ON_MASTER;\r\n\r\n        if (IS_COMPONENT) {\r\n            const rect = this.target.element.getBoundingClientRect();\r\n            this.x = rect.left;//component.x;\r\n            this.y = rect.top;//component.y;\r\n            this.w = rect.width;\r\n            this.h = rect.height;\r\n        } else {\r\n            const rect = this.target.element.getBoundingClientRect();\r\n            this.x = rect.left + component.x;\r\n            this.y = rect.top + component.y;\r\n            this.w = rect.width;\r\n            this.h = rect.height;\r\n        }\r\n\r\n        const par_prop = component.window.getComputedStyle(this.target.element);\r\n\r\n        //margin\r\n        this._ml = parseFloat(par_prop.getPropertyValue(\"margin-left\"));\r\n        this._mr = parseFloat(par_prop.getPropertyValue(\"margin-right\"));\r\n        this._mt = parseFloat(par_prop.getPropertyValue(\"margin-top\"));\r\n        this._mb = parseFloat(par_prop.getPropertyValue(\"margin-bottom\"));\r\n\r\n        //border\r\n        this.bl = parseFloat(par_prop.getPropertyValue(\"border-left\"));\r\n        this.br = parseFloat(par_prop.getPropertyValue(\"border-right\"));\r\n        this.bt = parseFloat(par_prop.getPropertyValue(\"border-top\"));\r\n        this.bb = parseFloat(par_prop.getPropertyValue(\"border-bottom\"));\r\n\r\n        //padding\r\n        this._pl = parseFloat(par_prop.getPropertyValue(\"padding-left\"));\r\n        this._pr = parseFloat(par_prop.getPropertyValue(\"padding-right\"));\r\n        this._pt = parseFloat(par_prop.getPropertyValue(\"padding-top\"));\r\n        this._pb = parseFloat(par_prop.getPropertyValue(\"padding-bottom\"));\r\n\r\n        this.posl = parseFloat(par_prop.getPropertyValue(\"left\"));\r\n        this.posr = parseFloat(par_prop.getPropertyValue(\"right\"));\r\n        this.post = parseFloat(par_prop.getPropertyValue(\"top\"));\r\n        this.posb = parseFloat(par_prop.getPropertyValue(\"bottom\"));\r\n\r\n        this.setBox();\r\n    }\r\n\r\n    //Margin box\r\n    get ml() { return this.x - this._ml - this.posl }\r\n    get mt() { return this.y - this._mt - this.post }\r\n    get mr() { return this.w + this._mr + this._ml + this.ml }\r\n    get mb() { return this.h + this._mb + this._mt + this.mt }\r\n\r\n    //Padding box\r\n    get pl() { return this.x + this._pl + this.bl }\r\n    get pt() { return this.y + this._pt + this.bt }\r\n    get pr() { return this.w - this._pr - this._pl - this.br - this.bl + this.pl }\r\n    get pb() { return this.h - this._pb - this._pt - this.bb - this.bt + this.pt }\r\n\r\n    //Content box\r\n    get cbl() { return this.x + this.bl }\r\n    get cbt() { return this.y + this.bt }\r\n    get cbr() { return this.w - this.br - this.bl + this.cbl }\r\n    get cbb() { return this.h - this.bb - this.bt + this.cbt }\r\n\r\n    render(ctx, scale, transform) {\r\n\r\n        const IS_COMPONENT = !!this.target.IS_COMPONENT;\r\n\r\n        this.setDimensions();\r\n\r\n        ctx.strokeStyle = \"rgb(0,0,0)\";\r\n        ctx.lineWidth = (1 / scale) * 0.95;\r\n\r\n        //Border box\r\n        ctx.strokeRect(this.x, this.y, this.w, this.h);\r\n\r\n        //Margin box\r\n        let ml = this.ml;\r\n        let mt = this.mt;\r\n        let mr = this.mr;\r\n        let mb = this.mb;\r\n\r\n        //Padding box\r\n        let pl = this.pl;\r\n        let pt = this.pt;\r\n        let pr = this.pr;\r\n        let pb = this.pb;\r\n\r\n        //Content box\r\n        let cbl = this.cbl;\r\n        let cbt = this.cbt;\r\n        let cbr = this.cbr;\r\n        let cbb = this.cbb;\r\n\r\n        this.element.style.width = `${(cbr-cbl)*scale}px`;\r\n        this.element.style.height = `${(cbb-cbt)*scale}px`;\r\n        this.element.style.left = `${transform.px+(this.x+4)*scale}px`;\r\n        this.element.style.top = `${transform.py+(this.y+4)*scale}px`;\r\n\r\n\r\n        if (!IS_COMPONENT) {\r\n            ctx.strokeRect(ml, mt, mr - ml, mb - mt);\r\n            ctx.strokeRect(pl, pt, pr - pl, pb - pt);\r\n        }\r\n\r\n        ctx.strokeRect(cbl, cbt, cbr - cbl, cbb - cbt);\r\n\r\n        //Render Markers\r\n\r\n        //Box \\ Border Markers \r\n        ctx.fillStyle = \"rgb(0,100,200)\";\r\n        ctx.strokeStyle = \"rgb(250,250,250)\";\r\n        ctx.lineWidth = 1 / scale;\r\n        let r = 4 / scale;\r\n\r\n        gripPoint(ctx, cbl, cbt, r);\r\n        gripPoint(ctx, cbr, cbt, r);\r\n        gripPoint(ctx, cbl, cbb, r);\r\n        gripPoint(ctx, cbr, cbb, r);\r\n\r\n        if (!IS_COMPONENT) {\r\n\r\n            //Margin Markers\r\n            gripPoint(ctx, ml, mt, r);\r\n            gripPoint(ctx, mr, mt, r);\r\n            gripPoint(ctx, ml, mb, r);\r\n            gripPoint(ctx, mr, mb, r);\r\n\r\n            //Padding Markers\r\n            gripPoint(ctx, pl, pt, r);\r\n            gripPoint(ctx, pr, pt, r);\r\n            gripPoint(ctx, pl, pb, r);\r\n            gripPoint(ctx, pr, pb, r);\r\n        }\r\n\r\n        //Update Wick Controls\r\n        this.sources[0].update(this);\r\n    }\r\n\r\n\r\n    addView(source){\r\n        source.model = this;\r\n    }\r\n\r\n    removeView(source){\r\n        source.model = null;\r\n    }\r\n\r\n    setTarget(component, element, IS_ON_MASTER = false) {\r\n        this.target.element = element;\r\n        this.target.component = component;\r\n        this.target.IS_COMPONENT = (element) == component.element;\r\n        this.IS_ON_MASTER = IS_ON_MASTER;\r\n    }\r\n}\r\n\r\nControlWidget.cache = null;\r\n","import { actions } from \"./actions/action\";\r\nimport { ControlWidget } from \"./controls_widget.mjs\";\r\n\r\nexport class ControlsManager {\r\n    constructor() {\r\n        //Canvas setup.\r\n        this.element = document.createElement(\"canvas\");\r\n        this.element.classList.add(\"flame_ui_canvas\");\r\n        this.ctx = this.element.getContext(\"2d\");\r\n    }\r\n\r\n    addTarget(component, element, IS_COMPONENT, IS_ON_MASTER){\r\n\r\n    }\r\n\r\n    removeTarget(component, element){\r\n\r\n    }\r\n   \r\n    setTarget(component, element, IS_COMPONENT = false, IS_ON_MASTER = false, ui) {\r\n\r\n        if(this.widget)\r\n            this.widget.destroy();\r\n        \r\n        const box = new ControlWidget(ui.active_handler.package);\r\n        box.IS_ON_MASTER = IS_ON_MASTER;\r\n        box.setTarget(component, element, IS_COMPONENT);\r\n        box.setDimensions(IS_COMPONENT);\r\n        this.widget = box;\r\n    }\r\n    \r\n    clearTargets(transform) {\r\n        this.widget = null;\r\n        this.render(transform);\r\n    }\r\n\r\n    render(transform) {\r\n        this.element.width = this.element.width;\r\n\r\n        if (this.widget) {\r\n            let scale = 1;\r\n            \r\n            this.ctx.save();\r\n\r\n            if (!this.widget.IS_ON_MASTER) {\r\n                transform.setCTX(this.ctx);\r\n                scale = transform.scale;\r\n            }\r\n\r\n            this.widget.render(this.ctx, scale, transform);\r\n\r\n            this.ctx.restore();\r\n        }\r\n    }\r\n\r\n    pointerDown(e, x, y, transform, IS_ON_MASTER = false) {\r\n        const widget = this.widget;\r\n        if (widget) {\r\n\r\n            widget.target.action = null;\r\n\r\n            let tr = 5 / transform.scale; //(false) ? 1 : transform.scale; //touch radius\r\n\r\n            //Margin box\r\n            let ml = widget.ml; // widget.x - widget.ml - widget.posl;\r\n            let mt = widget.mt; // widget.y - widget.mt - widget.post;\r\n            let mr = widget.mr; // widget.w + widget.mr + widget.ml + ml;\r\n            let mb = widget.mb; // widget.h + widget.mb + widget.mt + mt;\r\n\r\n            //Padding box\r\n            let pl = widget.pl; // widget.x + widget.pl + widget.bl;\r\n            let pt = widget.pt; // widget.y + widget.pt + widget.bt;\r\n            let pr = widget.pr; // widget.w - widget.pr - widget.pl - widget.br - widget.bl + pl;\r\n            let pb = widget.pb; // widget.h - widget.pb - widget.pt - widget.bb - widget.bt + pt;\r\n\r\n            //Content box\r\n            let cbl = widget.cbl; // widget.x + widget.bl;\r\n            let cbt = widget.cbt; // widget.y + widget.bt;\r\n            let cbr = widget.cbr; // widget.w - widget.br - widget.bl + cbl;\r\n            let cbb = widget.cbb; // widget.h - widget.bb - widget.bt + cbt;\r\n            //Widget size\r\n            while (true) {\r\n\r\n                //Content box first / Can double as border\r\n                if (x >= cbl - tr && x <= cbr + tr) {\r\n                    if (y >= cbt - tr && y <= cbb + tr) {\r\n                        if (x <= cbl + tr) {\r\n                            if (y <= cbt + tr) {\r\n                                this.widget.target.action = actions.RESIZETL;\r\n                                break;\r\n                            } else if (y >= cbb - tr) {\r\n                                this.widget.target.action = actions.RESIZEBL;\r\n                                break;\r\n                            }\r\n                        } else if (x >= cbr - tr) {\r\n                            if (y <= cbt + tr) {\r\n                                this.widget.target.action = actions.RESIZETR;\r\n                                break;\r\n                            } else if (y >= cbb - tr) {\r\n                                this.widget.target.action = actions.RESIZEBR;\r\n                                break;\r\n                            }\r\n                        } else {\r\n                            widget.target.action = actions.MOVE;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                //Margin box\r\n                if (x >= ml - tr && x <= mr + tr) {\r\n                    if (y >= mt - tr && y <= mb + tr) {\r\n                        if (x <= ml + tr) {\r\n                            if (y <= mt + tr) {\r\n                                this.widget.target.action = actions.RESIZEMARGINTL;\r\n                                break;\r\n                            } else if (y >= mb - tr) {\r\n                                this.widget.target.action = actions.RESIZEMARGINBL;\r\n                                break;\r\n                            }\r\n                        } else if (x >= mr - tr) {\r\n                            if (y <= mt + tr) {\r\n                                this.widget.target.action = actions.RESIZEMARGINTR;\r\n                                break;\r\n                            } else if (y >= mb - tr) {\r\n                                this.widget.target.action = actions.RESIZEMARGINBR;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                //Padding box\r\n                if (x >= pl - tr && x <= pr + tr) {\r\n                    if (y >= pt - tr && y <= pb + tr) {\r\n                        if (x <= pl + tr) {\r\n                            if (y <= pt + tr) {\r\n                                this.widget.target.action = actions.RESIZEPADDINGTL;\r\n                                break;\r\n                            } else if (y >= pb - tr) {\r\n                                this.widget.target.action = actions.RESIZEPADDINGBL;\r\n                                break;\r\n                            }\r\n                        } else if (x >= pr - tr) {\r\n                            if (y <= pt + tr) {\r\n                                this.widget.target.action = actions.RESIZEPADDINGTR;\r\n                                break;\r\n                            } else if (y >= pb - tr) {\r\n                                this.widget.target.action = actions.RESIZEPADDINGBR;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n\r\n            if (widget.target.action) {\r\n                widget.setBox();\r\n                return widget.target;\r\n            }\r\n            /*\r\n                        if (dx > 0 && dx < w)\r\n                            if (dy > 0 && dy < h) {\r\n                                //Check corners for action;\r\n                                this.widget.target.action = actions.MOVE;\r\n\r\n                                if (dx <= ws) {\r\n                                    if (dy <= ws)\r\n                                        this.widget.target.action = actions.SCALETL;\r\n                                    else if (dy >= h - ws)\r\n                                        this.widget.target.action = actions.SCALEBL;\r\n                                }\r\n\r\n                                if (dx >= w - ws) {\r\n                                    if (dy <= ws)\r\n                                        this.widget.target.action = actions.SCALETR;\r\n                                    else if (dy >= h - ws)\r\n                                        this.widget.target.action = actions.SCALEBR;\r\n                                }\r\n\r\n                                return this.widget.target;\r\n                            }\r\n                            */\r\n        }\r\n        return false;\r\n    }\r\n\r\n    resize(transform) {\r\n        this.element.width = window.innerWidth;\r\n        this.element.height = window.innerHeight;\r\n        this.render(transform);\r\n    }\r\n}\r\n","//*********** Actions ******************\r\nimport css from \"@candlefw/css\";\r\nimport { actions } from \"./actions/action\";\r\nimport { UIComponent } from \"../component/ui_component\";\r\nimport { MasterComponent } from \"../component/master_component\";\r\nimport { LineMachine } from \"./system/line_machine\";\r\nimport { SVGManager } from \"./system/svg_manager\";\r\nimport path from \"path\";\r\n\r\nimport Handler from \"./input_handler/handler.mjs\";\r\nimport Default from \"./input_handler/default.mjs\";\r\nimport ElementDraw from \"./input_handler/element_draw.mjs\";\r\n\r\n//OTHER imports\r\nimport { ControlsManager } from \"./controls_manager\";\r\n\r\n/** GLOBAL EVENTS FILLS **/\r\n\r\nvar DD_Candidate = false;\r\n/**\r\n * @brief Handles user input and rendering of UI elements\r\n * \r\n * @param  [HTMLElement] Element to map UI components to.\r\n */\r\nexport class UI_Manager {\r\n\r\n    constructor(UIHTMLElement, ViewElement, system) {\r\n        system.ui = this;\r\n\r\n        //Initialize Handlers\r\n        new Default(system, path.join(process.cwd(), \"./assets/ui_components/controls/basic.html\"));\r\n\r\n        this.d = Default;\r\n        this.e = ElementDraw;\r\n\r\n        this.system = system;\r\n        this.element = UIHTMLElement;\r\n        this.view_element = ViewElement;\r\n        this.origin_x = 0;\r\n        this.origin_y = 0;\r\n        this.transform = new(css.types.transform2D)();\r\n        this.last_action = Date.now();\r\n\r\n        this.active_handler = Handler.default;\r\n        this.x = 0;\r\n        this.y = 0;\r\n\r\n        this.ui_target = null;\r\n        /**\r\n            Unbounded \"master\" component that sits behind other components and allows the creation of elements.\r\n            Component itself is not selectable. \r\n        */\r\n        this.master_component = null;\r\n\r\n        this.dxdx = 0;\r\n\r\n        /* \r\n            UI components serve as UX/UI handlers for all tools that comprise flame.\r\n            These can be modified by the user through project system to create and use custom UI\r\n            elements. \r\n        */\r\n        this.components = [];\r\n        this.ui_components = new Map();\r\n        this.loadedComponents = [];\r\n\r\n        //Menu array\r\n        this.main_menu = document.createElement(\"div\");\r\n        this.main_menu.id = \"main_menu\";\r\n        this.main_menu.map = new Map();\r\n        this.main_menu.setAttribute(\"show\", \"false\");\r\n        this.element.appendChild(this.main_menu);\r\n\r\n        //ControlsManager provides onscreen transform visual widgets for components and elements.\r\n        this.controls = new ControlsManager();\r\n        this.controls.resize(this.transform);\r\n        this.element.appendChild(this.controls.element);\r\n\r\n        /** SYSTEMS *******************************/\r\n        this.svg_manager = new SVGManager(system);\r\n        this.line_machine = new LineMachine();\r\n\r\n        // **************** Eventing *****************\r\n        window.addEventListener(\"resize\", e => this.controls.resize(this.transform));\r\n\r\n        // // *********** Mouse *********************\r\n        window.addEventListener(\"mouseover\", e => {});\r\n        window.addEventListener(\"wheel\", e => this.handleScroll(e, e.pageX, e.pageY));\r\n\r\n        // // *********** Pointer *********************\r\n        window.addEventListener(\"pointerdown\", e => {\r\n            const x = this.transform.getLocalX(e.pageX);\r\n            const y = this.transform.getLocalY(e.pageY);\r\n            if (this.setTarget(e, null, x, y, false)) {\r\n                this.origin_x = x;\r\n                this.origin_y = y;\r\n            } else\r\n                this.handlePointerDownEvent(e, undefined, undefined, !!1);\r\n        });\r\n        window.addEventListener(\"pointermove\", e => this.handlePointerMoveEvent(e));\r\n        window.addEventListener(\"pointerup\", e => this.handlePointerEndEvent(e));\r\n\r\n        // // *********** Drag 'n Drop *********************\r\n        document.body.addEventListener(\"drop\", e => this.handleDocumentDrop(e));\r\n        document.body.addEventListener(\"dragover\", e => {\r\n            e.preventDefault();\r\n            e.dataTransfer.dropEffect = \"copy\";\r\n        });\r\n        document.body.addEventListener(\"dragstart\", e => {});\r\n\r\n        //this.createMaster();\r\n    }\r\n\r\n    createMaster() {\r\n        const doc_id = this.system.docs.loadFile(\"~edit-canvas\");\r\n        const doc = this.system.docs.get(doc_id);\r\n\r\n        this.master_component = new MasterComponent(this.system);\r\n        this.master_component.x = 0;\r\n        this.master_component.y = 0;\r\n\r\n        if (doc)\r\n            this.master_component.load(doc);\r\n\r\n        document.querySelector(\"#main_view\").appendChild(this.master_component.element);\r\n    }\r\n\r\n    reset() {\r\n        const system = this.system;\r\n\r\n        while (this.components[0])\r\n            actions.REMOVE_COMPONENT(system, this.components[0]);\r\n\r\n        this.createMaster();\r\n    }\r\n\r\n    update() {\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n        this.controls.render(this.transform);\r\n        if (this.target && this.RENDER_LINES)\r\n            this.line_machine.render(this.controls.ctx, this.transform, this.target.box);\r\n        this.loadedComponents.forEach(c => c.set(this.target));\r\n    }\r\n\r\n    /******************** Components *************************/\r\n\r\n    removeComponent(component) {\r\n        for (let i = 0, l = this.components.length; i < l; i++)\r\n            if (component === this.components[i]) {\r\n                this.components.splice(i, 1);\r\n                break;\r\n            }\r\n    }\r\n\r\n    mountUIComponent(component) {\r\n        component.mount(this.element);\r\n        this.loadedComponents.push(component);\r\n        component.set(this.target);\r\n    }\r\n\r\n    addToMenu(menu_name, item_name, icon_element, menu) {\r\n        if (menu_name == \"main\") {\r\n            const element = icon_element.cloneNode(true);\r\n            element.style.display = \"\";\r\n            element.onclick = () => { this.mountUIComponent(menu); };\r\n            this.main_menu.appendChild(element);\r\n            this.main_menu.map.set(name, icon_element);\r\n        }\r\n    }\r\n\r\n    addComponent(wick_component_file_path) {\r\n\r\n        const doc = this.system.docs.get(this.system.docs.loadFile(wick_component_file_path));\r\n\r\n        if (doc) {\r\n            const component = new UIComponent(this.system, doc.name);\r\n            component.load(doc);\r\n            this.ui_components.set(doc.name, component);\r\n        }\r\n    }\r\n\r\n    setTarget(e, component, x, y, SET_MENU = true) {\r\n        let target = null;\r\n\r\n        const IS_ON_MASTER = component == this.master_component;\r\n\r\n        if ((target = this.controls.pointerDown(e, x, y, this.transform, IS_ON_MASTER))) {\r\n\r\n            this.target = target;\r\n\r\n            if (SET_MENU) this.main_menu.setAttribute(\"show\", \"true\");\r\n\r\n            this.loadedComponents.forEach(c => c.set(this.target));\r\n\r\n            if (component) {\r\n                if (this.target.IS_COMPONENT) {\r\n                    this.line_machine.setPotentialBoxes(null, component, this.components);\r\n                } else {\r\n                    this.line_machine.setPotentialBoxes(this.target.element, component, this.components);\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        if (SET_MENU) this.main_menu.setAttribute(\"show\", \"false\");\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n    /******************** Component Iframe *************************/\r\n\r\n    integrateComponentFrame(frame, component) {\r\n\r\n        frame.addEventListener(\"mousedown\", e => {\r\n\r\n            const x = e.pageX + component.x;\r\n            const y = e.pageY + component.y;\r\n\r\n            this.last_action = Date.now();\r\n\r\n            if (component == this.master_component)\r\n                this.handlePointerDownEvent(e);\r\n            else\r\n                this.handlePointerDownEvent(e, x, y);\r\n\r\n            if (e.button == 0) {\r\n                if (!this.setTarget(e, component, x, y)) {\r\n                    if (e.target.tagName == \"BODY\") {\r\n                        this.controls.setTarget(component, component.element, true, true, this);\r\n                        this.render();\r\n                        this.setTarget(e, component, x, y);\r\n                    } else {\r\n                        this.controls.setTarget(component, e.target, component == this.master_component, false, this);\r\n                        this.render();\r\n                        this.setTarget(e, component, x, y);\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        });\r\n        \r\n        if (component !== this.master_component)\r\n            frame.addEventListener(\"wheel\", e => {\r\n                const x1 = e.pageX,\r\n                    y1 = e.pageY,\r\n                    x2 = component.x,\r\n                    y2 = component.y,\r\n                    x = (x1 + x2) * this.transform.scale + this.transform.px,\r\n                    y = (y1 + y2) * this.transform.scale + this.transform.py;\r\n\r\n                this.handleScroll(e, x, y);\r\n            });\r\n\r\n        frame.addEventListener(\"mousemove\", e => {\r\n            const x = e.pageX + component.x;\r\n            const y = e.pageY + component.y;\r\n\r\n            if (component == this.master_component) {\r\n\r\n                this.handlePointerMoveEvent(e);\r\n            } else\r\n                this.handlePointerMoveEvent(e, x, y);\r\n\r\n            return false;\r\n        });\r\n\r\n        frame.addEventListener(\"mouseup\", e => {\r\n            const t = Date.now();\r\n            const x = e.pageX + component.x;\r\n            const y = e.pageY + component.y;\r\n\r\n            if (t - this.last_action < 200) {\r\n                if (Date.now() - DD_Candidate < 200) {\r\n                    DD_Candidate = 0;\r\n                    e.x = x;\r\n                    e.y = y;\r\n                    this.handleContextMenu(e, component);\r\n                } else {\r\n                    if (e.target.tagName == \"BODY\") {\r\n                        this.controls.setTarget(component, component.element, true, this);\r\n                        this.render();\r\n                        this.setTarget(e, component, x, y);\r\n                    } else if (this.setTarget(e, component, x, y) && this.target.action == actions.MOVE) {\r\n                        this.controls.setTarget(component, e.target, component == this.master_component, false, this);\r\n                        this.render();\r\n                        this.setTarget(e, component, x, y);\r\n                    }\r\n                    DD_Candidate = Date.now();\r\n                }\r\n            }\r\n            this.handlePointerEndEvent(e);\r\n        });\r\n\r\n        this.components.push(component);\r\n    }\r\n\r\n    /****************** Event responders **************************/\r\n\r\n    handlePointerDownEvent(e, x, y, FROM_MAIN = false) {\r\n       // if (e.target == document.body || !this.target)\r\n       //     this.active_handler = Handler.element_draw;\r\n\r\n        this.active_handler = this.active_handler.input(\"start\", e, this, { x, y, FROM_MAIN });\r\n        return false;\r\n    }\r\n\r\n    handlePointerMoveEvent(e, x, y) {\r\n        this.active_handler = this.active_handler.input(\"move\", e, this, { x, y });\r\n    }\r\n\r\n    handlePointerEndEvent(event) {\r\n        this.active_handler = this.active_handler.input(\"end\", event, this, this.target);\r\n        event.preventDefault();\r\n    }\r\n\r\n    handleDocumentDrop(e) {\r\n        this.active_handler = this.active_handler.input(\"drop\", event, this, this.target);\r\n        e.preventDefault();\r\n    }\r\n\r\n    handleContextMenu(e, component = null) {\r\n        //Load text editor in the bar.\r\n        this.active_handler = this.active_handler.input(\"context\", e, this, { component });\r\n        e.preventDefault();\r\n    }\r\n\r\n    handleScroll(e, x, y) {\r\n        //this.active_handler = this.active_handler.input(\"scroll\", e, this, { x:300, y:300 });\r\n        this.active_handler = this.active_handler.input(\"scroll\", e, this, { x, y });\r\n        e.preventDefault();\r\n    }\r\n\r\n    /******** FILE HANDLING ************/\r\n\r\n    mountDocument(file_info, x, y) {\r\n        const doc = this.system.docs.get(this.system.docs.loadFile(file_info));\r\n        let comp = null;\r\n        if (doc) {\r\n            switch (doc.type) {\r\n                case \"wick\":\r\n                case \"html\":\r\n                    comp = actions.CREATE_COMPONENT(this.system, doc, x, y);\r\n                    break;\r\n                case \"css\":\r\n                    comp = actions.CREATE_CSS_DOC(this.system, doc, x, y);\r\n                    break;\r\n                case \"js\":\r\n                case \"svg\":\r\n                case \"jpg\":\r\n                case \"png\":\r\n                case \"gif\": //intentional\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return comp;\r\n    }\r\n\r\n\r\n    saveMaster() {\r\n        return {};\r\n    }\r\n\r\n    async save(file_builder) {\r\n        const data = { master: this.saveMaster(), components: [] };\r\n\r\n        for (let i = 0; i < this.components.length; i++)\r\n            data.components.push(this.components[i]);\r\n\r\n        return await file_builder.writeS(JSON.stringify(data));\r\n    }\r\n\r\n    load(string) {\r\n        const data = JSON.parse(string),\r\n            components = data.components;\r\n\r\n        for (let i = 0; i < components.length; i++) {\r\n            const d = components[i],\r\n                comp = this.mountDocument(d, d.x, d.y);\r\n            comp.width = d.width;\r\n            comp.height = d.height;\r\n            comp.x = d.x;\r\n            comp.y = d.y;\r\n        }\r\n    }\r\n}\r\n","export class JSManager{\n\n}","import {StyleNode} from \"@candlefw/wick\";\n\nlet proto = StyleNode.prototype;\nproto.cssInject = proto._processTextNodeHook_;\n\nconst path = require(\"path\");\n//Hooking into the style systems allows us to track modifications in the DOM and update the appropriate CSS values and documents. \nproto.processTextNodeHook = function(lex) {\n    //Feed the lexer to a new CSS Builder\n    this.css = this.getCSS();\n    lex.IWS = true;\n    lex.tl = 0;\n    lex.next();\n\n    let URL = \"\";\n\n    let IS_DOCUMENT = !!this.url;\n\n    if (this.url) {\n        URL = this.url.path;\n        if (!path.isAbsolute(URL))\n            URL = path.resolve(process.cwd(), (URL[0] == \".\") ? URL + \"\" : \".\" + URL);\n    }\n\n    this.css.parse(lex).catch((e) => {\n        throw e;\n    }).then((css) => {\n        this.css = this.flame_system.css.addTree(css, IS_DOCUMENT, URL);\n    });\n\n    this.css.addObserver(this);\n};\n\nproto.toString = function(off) {\n    let str = `${(\"    \").repeat(off)}<${this.tag}`,\n        atr = this.attributes,\n        i = -1,\n        l = atr.length;\n\n\n\n    while (++i < l) {\n        let attr = atr[i];\n        str += ` ${attr.name}=\"${attr.value}\"`;\n    }\n\n    if (!this.url && this.css) {\n        str += \">\\n\";\n        str += this.css.toString(off + 1);\n        str += `${(\"    \").repeat(off)}</${this.tag}>\\n`;\n    } else {\n        str += `></${this.tag}>\\n`;\n    }\n\n    return str;\n};\n\nproto.updatedCSS = function() {\n    this.rebuild();\n};\n\nproto.buildExisting = () => { return false }\n\nexport { StyleNode };","export class CSSComponent{\n\tconstructor(tree, manager){\n\t\tthis.manager = manager;\n\t\tthis.tree = tree;\n\t\tthis.doc = null;\n\t\tthis.element = document.createElement(\"div\");\n\n\t\tthis.tree.addObserver(this);\n\t}\n\n\tdocumentReady(data){\n\t\tthis.tree.parse(wick.core.lexer(data, true));\n\t\tthis.manager.updateStyle(\"zzz\", data);\n\t\tthis.element.innerHTML = this.tree + \"\";\n\t}\n\n\tdocumentUpdate(data){\n\n\t}\n\n\tupdatedCSS(){\n\t\t//this.element.innerHTML = this.tree + \"\";\n\t\tthis.manager.updateStyle(\"zzz\", this.tree + \"\");\n\t}\n}","import { RootNode } from \"@candlefw/wick\";\r\nimport { CSSRootNode, CSSRule } from \"@candlefw/css\";\r\nimport { StyleNode } from \"../wick_compiler_nodes/style\";\r\nimport whind from \"@candlefw/whind\";\r\n\r\nconst CSS_Rule_Constructor = CSSRule;\r\n\r\nimport {\r\n    CSSComponent\r\n} from \"./css_component\";\r\n\r\n/**\r\n *  This module maintains CSS documents and handles the updating of their contents. \r\n */\r\n\r\nlet CSS_Root_Constructor = CSSRootNode;\r\n\r\nexport class CSSManager {\r\n\r\n    constructor(docs) {\r\n        this.css_files = [];\r\n        this.style_elements = {};\r\n        this.docs = docs;\r\n    }\r\n\r\n    /**\r\n     * Returns an array of CSS rules that match against the element\r\n     * @param  {[type]} element   [description]\r\n     * @param  {[type]} component [description]\r\n     * @return {[type]}           [description]\r\n     */\r\n    aquireCSS(component, element) {\r\n        if (!component)\r\n            return [];\r\n\r\n        let win = component.window;\r\n\r\n        let css_docs = component.local_css;\r\n\r\n        let selectors = [];\r\n\r\n        for (let i = 0; i < css_docs.length; i++) {\r\n            let gen = css_docs[i].getApplicableSelectors(element, win),\r\n                sel = null;\r\n            while (sel = gen.next().value)\r\n                selectors.push(sel);\r\n        }\r\n\r\n        return selectors;\r\n    }\r\n\r\n    createStyleDocument(name) {\r\n\r\n        let id = \"./temp.css\"\r\n        this.docs.loadFile({ path: \"./\", name: \"temp.css\" }, true);\r\n        let doc = this.docs.get(id);\r\n        debugger\r\n    }\r\n\r\n    /**\r\n     * Returns matching rule that is the most unique to the element. Creates a new rule if one cannot be found. May create a new CSS document if the rule is not found.  \r\n     * @param  {[type]} element   [description]\r\n     * @param  {[type]} component [description]\r\n     * @return {[type]}           [description]\r\n     */\r\n    getUnique(component, element) {\r\n\r\n    \tconst IS_WICK_NODE = element instanceof RootNode;\r\n\r\n        let css_docs = component.local_css;\r\n        let win = component.window;\r\n\r\n        let selector = null,\r\n            best_score = 0;\r\n\r\n        for (let i = 0; i < css_docs.length; i++) {\r\n            let gen = css_docs[i].getApplicableSelectors(element, win),\r\n                sel = null;\r\n            while (sel = gen.next().value) {\r\n                let score = sel.v.length * -20.5;\r\n\r\n                for (let j = 0; j < sel.a.length; j++) {\r\n                    let array = sel.a[j];\r\n                    let score_multiplier = 1;\r\n                    for (let x = 0; x < array.length; x++) {\r\n                        let v = array[x];\r\n\r\n                        for (let y = 0; y < v.ss.length; y++) {\r\n                            let r = v.ss[y];\r\n\r\n                            switch (r.t) {\r\n                                case \"class\":\r\n                                    score += 40 * score_multiplier;\r\n                                    break;\r\n                                case \"id\":\r\n                                    score += 50 * score_multiplier;\r\n                                    break;\r\n                            }\r\n                        }\r\n\r\n                        switch (v.c) {\r\n                            case \"child\":\r\n                                score += 2 * score_multiplier;\r\n                                break;\r\n                            case \"preceded\":\r\n                                score += 3 * score_multiplier;\r\n                                break;\r\n                            case \"immediately_preceded\":\r\n                                score += 3 * score_multiplier;\r\n                                break;\r\n                            case \"descendant\":\r\n                                score += 1 * score_multiplier;\r\n                                break;\r\n                        }\r\n\r\n                        score_multiplier -= 0.98;\r\n                    }\r\n                }\r\n\r\n                if (score > best_score) {\r\n                    selector = sel;\r\n                    best_score = score;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!selector) {\r\n            //Create new CSS document and create identifier for this document best matching the element. \r\n            //Add new class to element if there is none present. \r\n\r\n            //The last selector in the component CSS has the highest default precedent.\r\n            let tree = css_docs[css_docs.length - 1];\r\n\r\n            if (css_docs.length == 0) {\r\n                tree = new CSS_Root_Constructor();\r\n\r\n                let ast = component.sources[0].ast;\r\n\r\n                let style = new StyleNode();\r\n                style.tag = \"style\";\r\n\r\n                ast.css = (ast.css) ? ast.css : [];\r\n                ast.addChild(style)\r\n                ast.css.push(tree)\r\n\r\n                style.css = tree;\r\n                tree.addObserver(style);\r\n\r\n                this.css_files.push(tree);\r\n                component.local_css.push(tree);\r\n            }\r\n\r\n            //create new css document. it should be located at the same location as the component. Or at a temp location\r\n            const node = IS_WICK_NODE ? element : element.wick_node,\r\n                class_name = \"n\" + ((Math.random() * 10000000) | 0) + \"\",\r\n                classes = node.getAttrib(\"class\");\r\n\r\n            if (classes) {\r\n                if (typeof(classes.value) == \"string\")\r\n                    classes.value += ` ${class_name}`;\r\n                else\r\n                    classes.value.txt += ` ${class_name}`;\r\n            } else \r\n                node.attributes.push(node.processAttributeHook(\"class\", whind(class_name)));\r\n\r\n            if(!IS_WICK_NODE)\r\n            \telement.classList.add(class_name);\r\n\r\n            selector = tree.fch.createSelector(`.${class_name}`);\r\n        }\r\n\r\n        return selector;\r\n    }\r\n\r\n    addFile(css_text, scope, file_id) {\r\n        let css_file = new CSS_Root_Constructor();\r\n        css_file.parse(new wick.core.lexer(css_text), true, null, null);\r\n        this.css_file.push(css_text);\r\n        css_file.file_id = file_id;\r\n    }\r\n\r\n    addTree(tree, IS_DOCUMENT, url) {\r\n        if (IS_DOCUMENT) {\r\n            let doc = this.docs.get(url);\r\n            if (!doc.tree) {\r\n                doc.tree = tree;\r\n                tree.addObserver(doc);\r\n            } else {\r\n                tree = doc.tree;\r\n            }\r\n        }\r\n\r\n        this.css_files.push(tree);\r\n\r\n        return tree;\r\n    }\r\n\r\n    updateStyle(id, text) {\r\n        let style = this.style_elements[id];\r\n\r\n        if (!style) {\r\n            style = this.style_elements[id] = document.createElement(\"style\");\r\n        }\r\n\r\n        style.innerHTML = text;\r\n    }\r\n\r\n    createComponent(doc) {\r\n        let css_file = new CSS_Root_Constructor();\r\n        let component = new CSSComponent(css_file, this);\r\n        doc.bind(component);\r\n        this.css_files.push(css_file);\r\n        return component;\r\n    }\r\n\r\n    mergeRules(css) {\r\n        let rule = new CSS_Rule_Constructor();\r\n        for (let i = 0; i < css.length; i++)\r\n            rule.merge(css[i].r);\r\n        return rule;\r\n    }\r\n}\r\n","import {CSSRule} from \"@candlefw/css\";\n\n/**\n * @brief This will replace the default rule.merge with a reactive system that updates the respective selector. \n */\nCSSRule.prototype.merge = function(rule) {\n    if (rule.props) {\n        for (let n in rule.props) {\n            ((n) => {\n                Object.defineProperty(this.props, n, {\n                    configurable:true,\n                    enumerable: true,\n                    get: () => {\n                        return rule.props[n];\n                    },\n                    set: (v) => {\n                        rule.props[n] = v;\n                        if(rule.root)\n                            rule.root.updated();\n                    }\n                });\n            })(n);\n        }\n        this.LOADED = true;\n    }\n};\n\nexport {CSSRule};","/**\n * This module maintains HTML documents and updates them\n */\n\n export class HTMLManager {}","import fs from \"fs\";\nconst fr = new FileReader();\n/**\n    Represents actions to save a file to disk. \n**/\nclass $FileReader {\n\n    constructor(file_path) {\n        this.handle = -1;\n        this.stream = -1;\n        this.offset = 0;\n        this.file_path = file_path;\n\n        try {\n            this.handle = fs.openSync(file_path, \"r\");\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    async string(encoding = \"utf8\") {\n        if (this.ready) {\n            return new Promise((res, rej) => {\n                fs.readFile(this.handle, encoding, (err, string) => {\n                    if (err)\n                        return rej(err);\n                    res(string);\n                });\n            });\n        } else\n            throw new Error(`Invalid file handle to resource ${this.file_path}; FileReader is not ready to be used`);\n\n    }\n\n    async readB(array_constructor = ArrayBuffer, byte_length = 0, off = this.offset, MOVE_OFFSET = true) {\n        if (this.ready && byte_length > 0) {\n            return new Promise((res, rej) => {\n                let buffer = new Uint8Array(byte_length);\n\n                fs.read(this.handle, buffer, 0, byte_length, off, (err, read) => {\n\n                    if (err) return rej(err);\n\n                    if (MOVE_OFFSET) this.offset = off + read;\n\n                    if (array_constructor === ArrayBuffer)\n                        res(buffer.buffer);\n                    else if (array_constructor == Uint8Array)\n                        res(buffer);\n                    else if (array_constructor == Blob)\n                        res(new Blob([buffer.buffer]));\n                    else\n                        res(new array_constructor(buffer.buffer));\n\n                });\n            })\n        } else\n            throw new Error(`Invalid file handle to resource ${this.file_path}; FileReader is not ready to be used`);\n    }\n\n    async readS(byte_length = 0, off = this.offset, encoding = \"utf8\", MOVE_OFFSET = true) {\n        if (this.ready && byte_length > 0) {\n            let buffer = await this.readB(Blob, byte_length, off, MOVE_OFFSET);\n            let fr = new FileReader();\n            return new Promise(res => {\n                fr.onload = () => {\n                    res(fr.result)\n                };\n                fr.readAsText(buffer, encoding);\n            });\n        } else\n            throw new Error(`Invalid file handle to resource ${this.file_path}; FileReader is not ready to be used`);\n    }\n\n    scanTo(byte_offset) {\n        if (!this.ready) return;\n        this.offset = byte_offset;\n    }\n\n    close() {\n        if (this.ready) {\n            try {\n                fs.closeSync(this.handle);\n            } catch (e) {\n                console.error(e);\n            }\n        }\n    }\n\n    get ready() { return this.handle !== -1; }\n}\n\nexport { $FileReader as FileReader };","import fs from \"fs\";\n\n/**\n\tRepresents actions to save a file to disk. \n**/\nexport class FileBuilder {\n\n    constructor(file_path) {\n        this.handle = -1;\n        this.stream = -1;\n        this.offset = 0;\n\n        try {\n            this.handle = fs.openSync(file_path, \"w+\");\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    async writeWord(offset, word){\n    \treturn await this.writeB(new Uint32Array([word]), offset, false);\n    }\n\n    writeB(buffer, off = this.offset, MOVE_OFFSET = true){\n    \tif(this.ready){\n\t    \treturn new Promise((res, rej)=>{\n\t    \t\tfs.write(this.handle, buffer, 0, buffer.byteLength, off, (err, written)=>{\n\t    \t\t\tif(err) return rej(err);\n\t    \t\t\t\t\n\t    \t\t\tif(MOVE_OFFSET)this.offset = off+written;\n\n\t    \t\t\tres(off+written);\n\t    \t\t});\n\t    \t}).catch(e=>console.error(e));\n    \t}\n    }\n\n    writeS(string, off = this.offset, MOVE_OFFSET = true){\n    \tif(this.ready){\n\t    \treturn new Promise((res, rej)=>{\n\t    \t\tfs.write(this.handle, string, off, \"utf8\", (err, written)=>{\n\t    \t\t\tif(err) return rej(err);\n\t    \t\t\t\t\n\t    \t\t\tif(MOVE_OFFSET)this.offset = off+written;\n\n\t    \t\t\tres(off+written);\n\t    \t\t});\n\t    \t}).catch(e=>console.error(e));\n    \t}\n    }\n\n    scanTo(byte_offset) {\n        if (!this.ready) return;\n    }\n\n    close() {\n        if (this.ready) {\n        \ttry{\n        \t\tfs.closeSync(this.handle);\n        \t}catch(e){\n        \t\tconsole.error(e);\n        \t}\n        }\n    }\n\n    get ready() { return this.handle !== -1; }\n}","import fs from \"fs\";\n\nimport { actions } from \"../interface/actions/action\";\n\nimport { FileReader } from \"../project/file_reader\";\nimport { FileBuilder } from \"../project/file_builder\";\n\nimport ll from \"@candlefw/ll\";\n\nexport class Document {\n\n    constructor(file_name, path, system, IS_NEW_FILE, manager) {\n        this.path = path;\n        this.name = file_name;\n        this.data = null;\n        this.old_data = \"\";\n        this.LOADED = (IS_NEW_FILE) ? true : false;\n        this.UPDATED = true;\n        this.SAVING = false;\n        this.INITIAL_HISTORY = false;\n        this.observers = [];\n        this.system = system;\n        this.manager = manager;\n        this.ps = false;\n    }\n\n    destroy() {\n        this.observers = null;\n    }\n\n    seal(differ) {\n\n        if (this.PENDING_SAVE) {\n\n            this.PENDING_SAVE = false;\n\n            let new_data = this + \"\";\n\n            let diff = differ.createDiff(this.old_data, new_data);\n\n            this.old_data = new_data;\n\n            return (diff) ? {\n                id: this.id,\n                diff\n            } : null;\n        }\n\n        return null;\n    }\n\n    async load() {\n        if (!this.LOADED) {\n            let fr = new FileReader(this.path + \"/\" + this.name);\n\n            try {\n                let data = await fr.string();\n                this.LOADED = true;\n                this.fromString(data);\n            } catch (e) {\n                console.error(e);\n            }\n\n            return this.data;\n        }\n    }\n\n    async save(file_builder) {\n\n        if (!file_builder) {\n            if (this.SAVING) return;\n\n            this.SAVING = true;\n\n            let fb = new FileBuilder(this.id);\n            let string = this.toString();\n            let d = await fb.writeS(string);\n\n            if (d == 0)\n                console.warn(`Saved zero sized file ${this.id}`);\n\n            fb.close();\n\n            this.SAVING = false;\n\n        } else {\n            return file_builder.write(this.toString());\n        }\n    }\n\n    toString() {\n        return \"[Document]\";\n    }\n\n    bind(object) {\n        if (this.LOADED && object.documentReady(this.data) === false) return;\n        this.observers.push(object);\n    }\n\n    alertObservers() {\n        if (this.observers)\n            for (let i = 0; i < this.observers.length; i++)\n                if (this.observers[i].documentReady(this.data) === false)\n                    this.observers.splice(i--, 1);\n    }\n\n    get type() {\n        return \"\";\n    }\n\n    get id() {\n        return `${this.path}/${this.name}`;\n    }\n\n    set PENDING_SAVE(v) {\n        if (v) {\n            this.manager.addPending(this);\n            this.ps = true;\n        } else {\n            this.manager.removePending(this);\n            this.ps = false;\n        }\n    }\n\n    get PENDING_SAVE() {\n        return this.ps;\n    }\n}\n\nll.mixinTree(Document);","import { SourcePackage } from \"@candlefw/wick\";\r\nimport { Document } from \"./document\";\r\n\r\nexport class WickDocument extends Document {\r\n\r\n\r\n    updatedWickASTTree() {\r\n        this.manager.addPending(this);\r\n    }\r\n\r\n    fromString(string, ALLOW_SEAL = true) {\r\n\r\n        (new SourcePackage(string, this.system.project.presets, true, this.path + \"/\" + this.name)).then((pkg) => {\r\n            this.LOADED = true;\r\n           \r\n            //TODO - Determine the cause of undefined assigned to pkg\r\n            if (!pkg) { debugger; return }\r\n\r\n            if (this.data)\r\n                this.data.skeletons[0].tree.removeObserver(this);\r\n\r\n            this.data = pkg;\r\n\r\n            pkg.skeletons[0].tree.addObserver(this);\r\n\r\n            this.alertObservers();\r\n\r\n            if (ALLOW_SEAL) {\r\n                this.PENDING_SAVE = true;\r\n                this.system.docs.seal();\r\n            }\r\n        });\r\n    }\r\n\r\n    toString() {\r\n        return (this.data) ?\r\n            this.data.toString() :\r\n            \"\";\r\n    }\r\n\r\n    get type() {\r\n        return \"html\";\r\n    }\r\n}\r\n","import {\n    Document\n} from \"./document\";\n\nimport whind from \"@candlefw/whind\";\n\n\n\nexport class CSSDocument extends Document {\n\n    updatedCSS(tree) {\n       // this.save();\n       this.manager.addPending(this);\n    }\n\n    fromString(string, ALLOW_SEAL = true) {\n    \t\n        this.data = string;\n\n        if (this.tree) {\n            this.tree.parse(whind(string)).catch((e) => {\n                throw e;\n            }).then((css) => {\n                this.old = string;\n                this.tree.updated();\n            });\n        } else {\n            \n            this.alertObservers();\n\n            if (ALLOW_SEAL) {\n                this.PENDING_SAVE = true;\n                this.system.docs.seal();\n            }\n        }\n    }\n\n    toString() {\n        return (this.tree) ?\n            this.tree + \"\" :\n            this.data;\n    }\n\n    get type() {\n        return \"css\";\n    }\n}","import { TextFramework } from \"@candlefw/charcoal\";\n\n/**\n * Uses a diff algorithm to create a change map from one document version to another. Versions are stored in the project as a change history. \n */\nexport class DocumentDifferentiator {\n\n    constructor() {\n        this.oldTF = new TextFramework();\n        this.newTF = new TextFramework();\n    }\n\n    createDiff(old, new_) {\n\n        if (!old || !new_ || old == new_) return;\n\n        const oldTF = this.oldTF;\n        const newTF = this.newTF;\n\n        oldTF.clearContents();\n        newTF.clearContents();\n\n        oldTF.insertText(old);\n        oldTF.updateText();\n        newTF.insertText(new_);\n        newTF.updateText();\n\n        let i = 0,\n            j = 0,\n            li = oldTF.length,\n            lj = newTF.length;\n\n        const diffs = { new: [], old: [] };\n\n        outer:\n            for (i = 0, j = 0; i < li; i++) {\n\n                if (j >= lj) {\n                    //differences\n                    diffs.push({ type: \"old\", index: i, text: oldTF.getLine(i).slice() });\n                    continue;\n                }\n\n\n                if (oldTF.getLine(i).slice() == newTF.getLine(j).slice()) {\n                    j++;\n                    continue;\n                }\n\n                let root = j;\n\n                for (let d = 1; j < lj; j++, d++) {\n                    //*\n                    if (j - root == 0 && i + d < li && oldTF.getLine(i + d).slice() == newTF.getLine(root + d).slice()) {\n                        for (let n = 0; n < d; n++) {\n                            diffs.new.push({ index: root + n, text: newTF.getLine(root + n).slice() });\n                            diffs.old.push({ index: i + n, text: oldTF.getLine(i + n).slice() });\n                        }\n                        i += d;\n                        j = root + d + 1;\n                        continue outer;\n                    } //*/\n\n                    if (oldTF.getLine(i).slice() == newTF.getLine(j).slice()) {\n                        const distance = j - i;\n                        const l = Math.min(li, i + distance - 1);\n\n                        for (let p = i + 1; p < l; p++) {\n                            if (oldTF.getLine(p).slice() == newTF.getLine(root).slice()) {\n\n                                for (let n = i; n < p; n++)\n                                    diffs.old.push({ index: n, text: oldTF.getLine(n).slice(), n: \"AA\" });\n\n                                i = p;\n                                j = root + 1;\n                                continue outer;\n                            }\n                        }\n\n                        for (let n = root; n < j; n++)\n                            diffs.new.push({ index: n, text: newTF.getLine(n).slice(), n: \"AB\", root });\n\n                        j++;\n\n                        continue outer;\n                    }\n\n\n                    if (j == lj - 1) {\n\n                        for (let p = i; p < li; p++) {\n                            if (oldTF.getLine(p).slice() == newTF.getLine(root).slice()) {\n                                for (let n = i; n < p; n++)\n                                    diffs.old.push({ index: n, text: oldTF.getLine(n).slice(), n: \"DD\", root, p });\n\n                                i = p;\n                                j = root + 1;\n                                continue outer;\n                            }\n                        }\n\n                        diffs.new.push({ index: root, text: newTF.getLine(root).slice() });\n                        diffs.old.push({ index: i, text: oldTF.getLine(i).slice() });\n                        j = root + 1;\n                        break;\n                    }\n                }\n            }\n\n\n        while (j < lj) {\n            diffs.new.push({ index: j, text: newTF.getLine(j).slice() });\n            j++;\n        }\n\n        return diffs;\n    }\n\n    convert(doc, diff) {\n        let a = new TextFramework();\n        a.insertText(doc + \"\");\n\n        a.updateText();\n\n\n        for (let i = diff.old.length - 1; i >= 0; i--) {\n            let d = diff.old[i];\n            let line = a.getLine(d.index);\n            a.line_container.remove(line);\n            line.release();\n        }\n\n        if (a.length == 0) debugger\n\n        for (let i = 0; i < diff.new.length; i++) {\n            let d = diff.new[i];\n            a.insertText(d.text, d.index - 1);\n            a.updateText();\n        }\n\n        a.updateText();\n\n        doc.fromString(a.toString(), false);\n    }\n\n    revert(doc, diff) {\n\n        let a = new TextFramework();\n        a.insertText(doc + \"\");\n        a.updateText();\n\n        for (let i = diff.new.length - 1; i >= 0; i--) {\n            let d = diff.new[i];\n            let line = a.getLine(d.index);\n            a.line_container.remove(line);\n            line.release();\n        }\n\n        if (a.length == 0) debugger\n            \n        for (let i = 0; i < diff.old.length; i++) {\n            let d = diff.old[i];\n            a.insertText(d.text, Math.max(0, d.index - 1));\n            a.updateText();\n        }\n\n        doc.fromString(a.toString(), false);\n    }\n}","export default `\r\n<w-s element=\"div\" id=\"master\">\r\n\t<style>\r\n\t\t#master{\r\n\t\t\twidth : 100%;\r\n\t\t\theight: 100%;\r\n\t\t\toverflow : none;\r\n\t\t}\r\n\t\tdiv {\r\n\t\t\tbackground-color:red\r\n\t\t}\r\n\t</style>\t\r\n</w-s>\r\n`;\r\n","import whind from \"@candlefw/whind\";\r\nimport {\r\n    WickDocument\r\n} from \"./wick_document\";\r\nimport {\r\n    CSSDocument\r\n} from \"./css_document\";\r\nimport path from \"path\";\r\nimport { DocumentDifferentiator } from \"./differ\";\r\nimport master_component_string from \"./master_component_string.mjs\";\r\n/**\r\n * The Document Manager handles text file operations and text file updating. \r\n */\r\nexport class DocumentManager {\r\n    constructor(system) {\r\n        this.docs = new Map();\r\n        this.system = system;\r\n        this.differ = new DocumentDifferentiator();\r\n        this.diffs = [];\r\n        this.diff_step = 0;\r\n\r\n        this.pending = null;\r\n        this.updated = false;\r\n        /**\r\n         * Global `fetch` polyfill - basic support\r\n         */\r\n        global.fetch = (url) => new Promise((res) => {\r\n            let p = url;\r\n            if (!path.isAbsolute(p)) p = path.resolve(process.cwd(), (url[0] == \".\") ? url + \"\" : \".\" + url);\r\n            const doc_id = this.loadFile({\r\n                path: path.dirname(p),\r\n                name: path.basename(p),\r\n                type: \"text/css\",\r\n            });\r\n            if (doc_id) {\r\n                this.get(doc_id).bind({\r\n                    documentReady: (data) => res({\r\n                        status: 200,\r\n                        text: () => new Promise((res) => res(data))\r\n                    })\r\n                });\r\n            }\r\n        });\r\n    }\r\n    /*\r\n     * Loads file into project\r\n     */\r\n    loadFile(file, NEW_FILE = false) {\r\n        switch (typeof(file)) {\r\n\r\n            case \"string\": // Load from file system or DB\r\n                \r\n                switch (file) {\r\n                    case \"~edit-canvas\": //Load new internal document ~edit-canvas\r\n                        const canvas = new WickDocument(\"edit-canvas\", \"%internal\", this.system, false, this);\r\n                        canvas.fromString(master_component_string);\r\n                        this.docs.set(canvas.id, canvas);\r\n                        return canvas.id;\r\n                };\r\n\r\n                var p = path.parse(file);\r\n                file = {\r\n                    path: p.dir,\r\n                    name: p.base\r\n                };\r\n                //Intentional fall through. \r\n            case \"object\": // Loandead data \r\n                if (file.name && file.path) {\r\n                    const name = file.name;\r\n                    let path = file.path;\r\n                    let type = \"\";\r\n                    if (file.type) type = file.type; //.split(\"/\")[1].toLowerCase();\r\n                    else type = name.split(\".\").pop().toLowerCase();\r\n                    if (path.includes(name)) path = path.replace(name, \"\");\r\n                    if (path[path.length - 1] == \"/\" || path[path.length - 1] == \"\\\\\") path = path.slice(0, -1);\r\n                    path = path.replace(/\\\\/g, \"/\");\r\n                    const id = `${path}/${name}`;\r\n                    if (!this.docs.get(id)) {\r\n                        let doc;\r\n                        switch (type) {\r\n                            case \"html\":\r\n                                doc = new WickDocument(name, path, this.system, NEW_FILE, this);\r\n                                break;\r\n                            case \"css\":\r\n                            default:\r\n                                doc = new CSSDocument(name, path, this.system, NEW_FILE, this);\r\n                        }\r\n                        this.docs.set(id, doc);\r\n\r\n\r\n                        if (file.data)\r\n                            doc.fromString(file.data);\r\n                        else\r\n                            doc.load();\r\n                    }\r\n                    return id;\r\n                }\r\n                break;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    get(id) {\r\n        return this.docs.get(id.replace(/\\\\/g, \"/\"));\r\n    }\r\n\r\n    /** Updates all changes to files and records diffs resulting from user actions */\r\n    seal() {\r\n\r\n        let diffs = [],\r\n            doc;\r\n\r\n        if (this.pending) {\r\n\r\n            this.pending.previous = null;\r\n\r\n            while ((doc = this.pending)) {\r\n                let pack = doc.seal(this.differ);\r\n\r\n                if (pack)\r\n                    diffs.push(pack);\r\n            }\r\n\r\n            if (diffs.length > 0)\r\n                this.system.history.addAction({ type: \"doc\", diffs });\r\n        }\r\n    }\r\n\r\n    undo(action) {\r\n        const diffs = action.diffs;\r\n        if (diffs) {\r\n            for (let i = 0; i < diffs.length; i++) {\r\n                const pack = diffs[i],\r\n                    doc = this.docs.get(pack.id);\r\n                this.differ.revert(doc, pack.diff);\r\n            }\r\n        }\r\n    }\r\n\r\n    redo(action) {\r\n\r\n        const diffs = action.diffs;\r\n\r\n        if (diffs) {\r\n            for (let i = 0; i < diffs.length; i++) {\r\n                const pack = diffs[i],\r\n                    doc = this.docs.get(pack.id);\r\n                this.differ.convert(doc, pack.diff);\r\n            }\r\n        }\r\n    }\r\n\r\n    addPending(doc) {\r\n        if (doc.ps)\r\n            return;\r\n        if (this.pending)\r\n            doc.next = this.pending;\r\n\r\n        doc.ps = true;\r\n\r\n        this.pending = doc;\r\n    }\r\n\r\n    removePending(doc) {\r\n        if (doc == this.pending) {\r\n\r\n            if (doc.nxt == doc)\r\n                this.pending = null;\r\n            else\r\n                this.pending = doc.next;\r\n        }\r\n\r\n        doc.ps = false;\r\n\r\n        doc.next = null;\r\n        doc.prv = null;\r\n    }\r\n\r\n    /**\r\n        Reset document manager, releasing all held documents. \r\n    */\r\n    reset() {\r\n        this.diffs = [];\r\n        this.docs.forEach(d => d.destroy());\r\n        this.docs = new Map();\r\n    }\r\n\r\n    async save(file_builder) {\r\n        if (!file_builder) {\r\n            //Save all files individually\r\n            this.docs.forEach(doc => {\r\n                doc.save();\r\n            });\r\n        } else {\r\n\r\n            var i = this.docs.entries();\r\n\r\n            for (let v of i) {\r\n                let doc = v[1];\r\n                await file_builder.writeS(JSON.stringify({ name: doc.name, path: doc.path, type: doc.type, data: doc + \"\" }));\r\n            }\r\n\r\n            return file_builder.offset;\r\n        }\r\n    }\r\n\r\n    load(string) {\r\n        let lex = new whind(string);\r\n        let level = 0;\r\n\r\n        while (!lex.END) {\r\n            if (lex.ch == \"{\") {\r\n                let n = lex.pk;\r\n                level = 1;\r\n                while (!n.END && level > 0) {\r\n                    if (n.ch == \"{\") level++;\r\n                    if (n.ch == \"}\") level--;\r\n                    n.next();\r\n                }\r\n\r\n                this.loadFile(JSON.parse(n.slice(lex)));\r\n\r\n                lex.sync(n);\r\n            } else\r\n                lex.next();\r\n        }\r\n    }\r\n}\r\n","import {Source} from \"@candlefw/wick\";\n\nSource.prototype.rebuild = function (){\n\tthis.ast.buildExisting(this.ele, this, this.presets, this.taps,null, this.window);\n};\n\nexport {Source};","import {RootNode, SourceNode} from \"@candlefw/wick\";\r\nimport whind from \"@candlefw/whind\";\r\n\r\nlet id = 0;\r\n\r\nRootNode.id = 0;\r\n\r\n\r\nSourceNode.prototype.createElement = function(presets, source) {\r\n    let element = document.createElement(this.getAttribute(\"element\") || \"div\");\r\n    element.wick_source = source;\r\n    element.wick_node = this;\r\n    element.wick_id = id++;\r\n    return element;\r\n};\r\n\r\nRootNode.prototype.ReparseConstructor = RootNode;\r\n\r\nRootNode.prototype.createElement = function(presets, source) {\r\n    const element = document.createElement(this.tag);\r\n    element.wick_source = source;\r\n    element.wick_node = this;\r\n    element.wick_id = RootNode.id++;\r\n    return element;\r\n};\r\n\r\nRootNode.prototype.setSource = function(source) {\r\n\r\n    if (!this.observing_sources)\r\n        this.observing_sources = [];\r\n\r\n    this.observing_sources.push(source);\r\n\r\n    source.ast = this;\r\n};\r\n\r\nRootNode.prototype.reparse = function(text) {\r\n\r\n    const Root = new this.ReparseConstructor();\r\n\r\n    Root.par = this.par;\r\n\r\n    const promise = Root.parse(whind(text), false, false, this.par);\r\n\r\n    promise.then(node => {\r\n        node.par = null;\r\n\r\n        if (this.par)\r\n            this.par.replace(this, node);\r\n        node.BUILT = true;\r\n        node.prepRebuild(false, true);\r\n        node.rebuild();\r\n    });\r\n\r\n    return promise;\r\n};\r\n\r\n// Rebuild all sources relying on this node\r\nRootNode.prototype.rebuild = function(win = window) {\r\n\r\n\r\n    if (this.observing_sources) {\r\n        \r\n        for (let i = 0; i < this.observing_sources.length; i++) {\r\n            try {\r\n                this.observing_sources[i].rebuild(this.observing_sources[i].window);\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        this.resetRebuild();\r\n    } else if (this.par)\r\n        this.par.rebuild(win);\r\n};\r\n\r\nRootNode.prototype.extract = function() {\r\n    if (this.par)\r\n        this.par.replace(this, new DeleteNode());\r\n};\r\n\r\n\r\nRootNode.prototype.buildExisting = function(element, source, presets, taps, parent_element, win = window, css = this.css) {\r\n    \r\n    if (true || this.CHANGED !== 0) {\r\n\r\n        if(element)\r\n            element.style.cssText = \"\";\r\n\r\n        this.linkCSS(css, win);\r\n        //IO CHANGE \r\n        //Attributes\r\n        if (this.CHANGED & 4) {\r\n            \r\n            let span = document.createElement(\"span\");\r\n\r\n            this._build_(span, source, presets, [], taps, {});\r\n\r\n            let ele = span.firstChild;\r\n\r\n            if (this.CHANGED & 8) {\r\n                if (element) {\r\n                    element.parentElement.insertBefore(ele, element);\r\n                } else\r\n                    parent_element.appendChild(ele);\r\n                return true;\r\n            } else {\r\n\r\n                element.parentElement.replaceChild(ele, element);\r\n                return true;\r\n            }\r\n\r\n        }\r\n\r\n        if (this._merged_)\r\n            this._merged_.buildExisting(element, source, presets, taps);\r\n\r\n        if (true || this.CHANGED & 1) {\r\n            //redo IOs that have changed (TODO)\r\n            for (let i = 0, l = this.bindings.length; i < l; i++) {\r\n                this.bindings[i].binding._bind_(source, [], taps, element, this.bindings[i].name);\r\n            }\r\n        }\r\n\r\n        if (true || this.CHANGED & 2) {\r\n            //rebuild children\r\n\r\n            const children = (element) ? element.childNodes : [];\r\n\r\n            for (let i = 0, node = this.fch; node; node = this.getNextChild(node)) \r\n                if (node.buildExisting(children[i], source, presets, taps, element, win)) i++;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nRootNode.prototype.prepRebuild = function(child = false, REBUILT = false, INSERTED = false) {\r\n\r\n    this.CHANGED =  \r\n        this.CHANGED\r\n        | (!child) \r\n        | ((!!child) << 1) \r\n        | ((!!(REBUILT || INSERTED)) << 2)\r\n        | ((!!INSERTED) << 3);\r\n\r\n    if (this.par)\r\n        this.par.prepRebuild(true);\r\n    else if (this.merges) \r\n        for (let i = 0; i < this.merges.length; i++)\r\n            this.merges.prepRebuild(true);\r\n};\r\n\r\nRootNode.prototype.resetRebuild = function() {\r\n    this.CHANGED = 0;\r\n\r\n    if (!this.parent)\r\n        this.updated();\r\n\r\n    for (let node = this.fch; node; node = this.getNextChild(node))\r\n        node.resetRebuild();\r\n};\r\n\r\nRootNode.prototype._build_ = RootNode.prototype.build;\r\nRootNode.prototype.build = function(element, source, presets, errors, taps, statics) {\r\n    this.BUILT = true;\r\n    return this._build_(element, source, presets, errors, taps, statics);\r\n};\r\n\r\n\r\nRootNode.prototype._processFetchHook_ = function(lexer, OPENED, IGNORE_TEXT_TILL_CLOSE_TAG, parent, url) {\r\n\r\n    let path = this.url.path,\r\n        CAN_FETCH = true;\r\n\r\n    //make sure URL is not already called by a parent.\r\n    while (parent) {\r\n        if (parent.url && parent.url.path == path) {\r\n            console.warn(`Preventing recursion on resource ${this.url.path}`);\r\n            CAN_FETCH = false;\r\n            break;\r\n        }\r\n        parent = parent.par;\r\n    }\r\n\r\n    if (CAN_FETCH) {\r\n        return this.url.fetchText().then((text) => {\r\n            let lexer = whind(text);\r\n            return this._parseRunner_(lexer, true, IGNORE_TEXT_TILL_CLOSE_TAG, this);\r\n        }).catch((e) => {\r\n            console.error(e);\r\n        });\r\n    }\r\n    return null;\r\n};\r\n\r\n\r\nRootNode.prototype._mergeComponent_ = function() {\r\n    let component = this._presets_.components[this.tag];\r\n\r\n    if (component) {\r\n\r\n        this._merged_ = component;\r\n\r\n        if (!component.merges)\r\n            component.merges = [];\r\n\r\n        component.merges.push(this);\r\n    }\r\n};\r\n\r\n\r\n\r\nRootNode.prototype.addObserver = function(observer) {\r\n    if (!this.observers)\r\n        this.observers = [];\r\n    this.observers.push(observer);\r\n};\r\n\r\nRootNode.prototype.addView = function(view) {\r\n    if (!this.views)\r\n        this.views = [];\r\n    this.views.push(view);\r\n    view._model_ = this;\r\n};\r\n\r\nRootNode.prototype.removeObserver = function(observer) {\r\n    for (let i = 0; i < this.observers.length; i++)\r\n        if (this.observers[i] == observer) return this.observers.splice(i, 1);\r\n};\r\n\r\nRootNode.prototype.removeView = function(view) {\r\n    for (let i = 0; i < this.views.length; i++)\r\n        if (this.views[i] == view) return this.views.splice(i, 1);\r\n};\r\n\r\nRootNode.prototype.updated = function() {\r\n    if (this.observers)\r\n        for (let i = 0; i < this.observers.length; i++)\r\n            this.observers[i].updatedWickASTTree(this);\r\n\r\n    if (this.views)\r\n        for (let i = 0; i < this.views.length; i++)\r\n            this.views[i].update(this);\r\n\r\n};\r\n\r\nRootNode.prototype.BUILT = false;\r\n\r\nexport {\r\n    RootNode\r\n};\r\n\r\n/**\r\n * This node allows an existing element to be removed from DOM trees that were created from the Wick AST. \r\n */\r\nclass DeleteNode extends SourceNode {\r\n    buildExisting(element) {\r\n        element.parentElement.removeChild(element);\r\n        return false;\r\n    }\r\n\r\n    resetRebuild() {\r\n\r\n        let nxt = this.nxt;\r\n        if (this.par)\r\n            this.par.removeChild(this);\r\n        this.nxt = nxt;\r\n    }\r\n}\r\n","import {SVGNode} from \"@candlefw/wick\";\r\n\r\nimport {RootNode} from \"./root\";\r\n\r\nSVGNode.prototype.createElement = function(presets, source){\r\n    const element = document.createElementNS(\"http://www.w3.org/2000/svg\", this.tag);\r\n    element.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\r\n    element.wick_source = source;\r\n    element.wick_node = this;\r\n    element.wick_id = RootNode.id++;\r\n    return element;\r\n};\r\n\r\nSVGNode.prototype.setSource = RootNode.prototype.setSource;\r\n// Rebuild all sources relying on this node\r\nSVGNode.prototype.rebuild = RootNode.prototype.rebuild;\r\nSVGNode.prototype.buildExisting = RootNode.prototype.buildExisting;\r\nSVGNode.prototype.prepRebuild = RootNode.prototype.prepRebuild;\r\nSVGNode.prototype.resetRebuild = RootNode.prototype.resetRebuild;\r\nSVGNode.prototype.updated = RootNode.prototype.updated;\r\nSVGNode.prototype.ReparseConstructor = SVGNode;\r\n\r\nexport { SVGNode };\r\n","import {RootText} from \"@candlefw/wick\";\r\n\r\nimport {RootNode} from \"./root\";\r\n\r\nRootText.prototype.createElement = RootNode.prototype.createElement;\r\nRootText.prototype.setSource = RootNode.prototype.setSource;\r\n// Rebuild all sources relying on this node\r\nRootText.prototype.rebuild = RootNode.prototype.rebuild;\r\nRootText.prototype.buildExisting = ()=>{return true}; RootNode.prototype.build_existing;\r\nRootText.prototype.prepRebuild = RootNode.prototype.prepRebuild;\r\nRootText.prototype.resetRebuild = RootNode.prototype.resetRebuild;\r\nRootText.prototype.updated = function(){};\r\n\r\nexport { RootText };\r\n","import {SourceNode} from \"@candlefw/wick\";\r\n\r\nSourceNode.prototype.buildExisting = function(element, source, presets, taps, win = window, css) {\r\n    if (true || this.CHANGED !== 0) {\r\n        //IO CHANGE \r\n        //Attributes\r\n        if (this.CHANGED & 4) {\r\n\r\n            let span = document.createElement(\"span\");\r\n\r\n            this._build_(span, source, presets, [], taps, {});\r\n\r\n            let ele = span.firstChild;\r\n\r\n            element.parentElement.replaceChild(ele, element);\r\n\r\n            return true;\r\n        }\r\n\r\n        if (this._merged_)\r\n            this._merged_.buildExisting(element, source, presets, taps);\r\n\r\n        if (true || this.CHANGED & 1) {\r\n            //redo IOs that have changed (TODO)\r\n            for (let i = 0, l = this.bindings.length; i < l; i++) {\r\n                this.bindings[i].binding._bind_(source, [], taps, element, this.bindings[i].name);\r\n            }\r\n        }\r\n\r\n        if (true || this.CHANGED & 2) {\r\n            //rebuild children\r\n            let children = element.childNodes;\r\n            for (let i = 0, node = this.fch; node; node = this.getNextChild(node)) {\r\n                let child = children[i];\r\n                if (node.buildExisting(child, source, presets, taps, element, win, this.css)) i++;\r\n            }\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nexport {SourceNode}\r\n","import {SourceTemplateNode} from \"@candlefw/wick\";\n\nimport whind from \"@candlefw/whind\";\n\nlet Lexer = whind;\n\nSourceTemplateNode.prototype.buildExisting = function(element, source, presets, taps) {\n    if (true || this.CHANGED !== 0) {\n        //IO CHANGE \n        //Attributes\n        if (this.CHANGED & 4) {\n\n            let span = document.createElement(\"span\");\n\n            this._build_(span, source, presets, [], taps, {});\n\n            let ele = span.firstChild;\n\n            element.parentElement.replaceChild(ele, element);\n\n            return true;\n        }\n\n        if (this._merged_)\n            this._merged_.buildExisting(element, source, presets, taps);\n\n        if (true || this.CHANGED & 1) \n            //redo IOs that have changed (TODO)\n            for (let i = 0, l = this.bindings.length; i < l; i++) \n                this.bindings[i].binding._bind_(source, [], taps, element, this.bindings[i].name);\n        \n\n        if (true || this.CHANGED & 2) {\n            //rebuild children\n            let children = element.childNodes;\n            for (let i = 0, node = this.fch; node; node = this.getNextChild(node)) {\n                let child = children[i];\n                if (node.buildExisting(child, source, presets, taps)) i++;\n            }\n        }\n    }\n\n    return true;\n};\n\nexport {SourceTemplateNode}","import {PackageNode} from \"@candlefw/wick\";\n\nPackageNode.prototype.buildExisting = function(element, source, presets, taps) {\n    return false;\n};\n\nexport {PackageNode}","import {ScriptNode} from \"@candlefw/wick\";\n\nScriptNode.prototype.toString = function(off) {\n    return (\"    \").repeat(off) + `<script on=\"((${this.binding.tap_name}))\" >${this.script_text}</script>\\n`;\n};\n\nScriptNode.prototype.updatedCSS = function() {\n    this.rebuild();\n};\n\nScriptNode.prototype.buildExisting = () => { return false };\n\nexport { ScriptNode };","import {\r\n    SchemedModel,\r\n    Model,\r\n    ModelContainerBase,\r\n    BTreeModelContainer,\r\n    ArrayModelContainer,\r\n    MultiIndexedContainer,\r\n    SchemeConstructor,\r\n    DateSchemeConstructor,\r\n    TimeSchemeConstructor,\r\n    StringSchemeConstructor,\r\n    NumberSchemeConstructor,\r\n    BoolSchemeConstructor\r\n} from \"@candlefw/wick\";\r\n\r\nconst schemed = (schema, sm) => (sm = class extends SchemedModel {}, sm.schema = schema, sm);\r\nconst EPOCH_Date = new DateSchemeConstructor;\r\nconst EPOCH_Time = new TimeSchemeConstructor;\r\nconst Longitude = new NumberSchemeConstructor;\r\nconst Latitude = new NumberSchemeConstructor;\r\nconst $Number = new NumberSchemeConstructor;\r\nconst $String = new StringSchemeConstructor;\r\nconst $Boolean = new BoolSchemeConstructor;\r\n/**\r\n * Schema for flame_data model\r\n */\r\n//const schemed = wick.model.scheme;\r\nconst FlameScheme = schemed({\r\n    meta:schemed({\r\n        last_modified: EPOCH_Time,\r\n        creation_date: EPOCH_Time, \r\n    }),\r\n    preferences: schemed({\r\n        name: $String,\r\n        working_directory: $String,\r\n        temp_directory: $String,\r\n        proj_data_directory: $String,\r\n        bundle_files: $Boolean,\r\n        auto_save_interval: $Number,\r\n    }),\r\n    defaults: schemed({\r\n        component: schemed({\r\n            width: $Number,\r\n            height: $Number\r\n        })\r\n    }),\r\n    components: schemed({\r\n        KEEP_UNIQUE: $Boolean,\r\n        move_type: $String,\r\n        primary_color: $Number,\r\n        secondary_color: $Number,\r\n    })\r\n});\r\n\r\nexport { FlameScheme };","export class ColorFramework {\n\tconstructor() {\n\t\tthis.r = 0;\n\t\tthis.g = 0;\n\t\tthis.b = 0;\n\t\tthis.a = 0;\n\n\t\tthis.last_x = 0;\n\t\tthis.last_y = 0;\n\n\t\tthis.alpha = 255;\n\n\t\tthis.h = 0;\n\t\tthis.s = 0;\n\t\tthis.v = 0;\n\n\t\tthis.hex = \"#000000\";\n\n\t\tthis.color_width = 150;\n\t\tthis.color_height = 150;\n\n\t\tthis.draw_type = \"doughnut\";\n\t\tthis.draw_mode = \"hsl\";\n\n\t\tthis.saturation = 1;\n\t}\n\n\trgbToString(r, g, b) {\n\t\tr = r || this.r;\n\t\tg = g || this.g;\n\t\tb = b || this.b;\n\t\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n\t}\n\n\tdraw(ctx, x, y, w, h, type, mode) {\n\t\tvar pi = Math.PI;\n\n\t\tvar width = w;\n\t\tvar height = h;\n\n\t\tvar id = ctx.getImageData(x || 0, y || 0, width, height);\n\n\t\tvar data = id.data;\n\n\t\tfor (var i = 0; i < height; i++) {\n\t\t\tfor (var j = 0; j < width; j++) {\n\t\t\t\tvar index = (i* width + j) * 4;\n\t\t\t\tthis.getColor(j, i, width, height, type, mode);\n\t\t\t\tif(this.a === 0) continue;\n\t\t\t\tdata[index + 0] = this.r;\n\t\t\t\tdata[index + 1] = this.g;\n\t\t\t\tdata[index + 2] = this.b;\n\t\t\t\tdata[index + 3] = this.a;\n\t\t\t}\n\t\t}\n\n\t\tctx.putImageData(id, 0, 0);\n\n\t\t//Extras\n\t\tswitch (type) {\n\t\t\tcase \"doughnut\":\n\t\t\t\tctx.strokeStyle = \"black\";\n\t\t\t\tctx.lineWidth = width * 0.02;\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(width * 0.5, height * 0.5, width * 0.475, Math.PI * 2, false);\n\t\t\t\tctx.stroke();\n\n\t\t\t\tctx.strokeStyle = this.draw_mode === \"hsl\" ? \"white\" : \"black\";\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(width * 0.5, height * 0.5, width * 0.295, Math.PI * 2, false);\n\t\t\t\tctx.stroke();\n\n\t\t\t\tbreak;\n\t\t\tcase \"wheel\":\n\t\t\t\tctx.strokeStyle = \"black\";\n\t\t\t\tctx.lineWidth = width * 0.01;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(width * 0.5, height * 0.5, width * 0.475, Math.PI * 2, false);\n\t\t\t\tctx.stroke();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tctx.strokeStyle = \"rgb(220,220,220)\";\n\t\t\t\tctx.lineWidth = 2;\n\t\t\t\tctx.strokeRect(0, 0, width, height);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tHSLtoRGB(h, s, l) {\n\t\tvar h_ = h / 60;\n\t\tvar c = (1 - Math.abs(2 * l - 1)) * s;\n\n\t\tvar x = c * (1 - Math.abs((h_ % 2) - 1));\n\n\t\tvar rgb = [0, 0, 0];\n\n\t\tif (h_ < 1 && h_ >= 0) {\n\t\t\trgb[0] = c;\n\t\t\trgb[1] = x;\n\t\t} else if (h_ < 2) {\n\t\t\trgb[1] += c;\n\t\t\trgb[0] += x;\n\t\t} else if (h_ < 3) {\n\t\t\trgb[1] += c;\n\t\t\trgb[2] += x;\n\t\t} else if (h_ < 4) {\n\t\t\trgb[2] += c;\n\t\t\trgb[1] += x;\n\t\t} else if (h_ < 5) {\n\t\t\trgb[2] += c;\n\t\t\trgb[0] += x;\n\t\t} else if (h_ < 6) {\n\t\t\trgb[0] += c;\n\t\t\trgb[2] += x;\n\t\t};\n\n\t\tvar m = l - 0.5 * c;\n\n\t\trgb[0] += m;\n\t\trgb[1] += m;\n\t\trgb[2] += m;\n\n\t\trgb[0] *= 255;\n\t\trgb[1] *= 255;\n\t\trgb[2] *= 255;\n\n\n\t\treturn rgb;\n\t}\n\n\tHSVtoRGB(h, s, v) {\n\t\tvar h_ = h / 60;\n\t\tvar c = v * s;\n\t\tvar m = v - c;\n\n\t\tvar x = c * (1 - Math.abs((h_ % 2) - 1));\n\n\t\tvar rgb = [m, m, m];\n\n\t\tif (h_ < 1 && h_ >= 0) {\n\t\t\trgb[0] += c;\n\t\t\trgb[1] += x;\n\t\t} else if (h_ < 2) {\n\t\t\trgb[1] += c;\n\t\t\trgb[0] += x;\n\t\t} else if (h_ < 3) {\n\t\t\trgb[1] += c;\n\t\t\trgb[2] += x;\n\t\t} else if (h_ < 4) {\n\t\t\trgb[2] += c;\n\t\t\trgb[1] += x;\n\t\t} else if (h_ < 5) {\n\t\t\trgb[2] += c;\n\t\t\trgb[0] += x;\n\t\t} else if (h_ < 6) {\n\t\t\trgb[0] += c;\n\t\t\trgb[2] += x;\n\t\t};\n\n\t\trgb[0] *= 255;\n\t\trgb[1] *= 255;\n\t\trgb[2] *= 255;\n\n\t\treturn rgb;\n\t}\n\n\tRGBtoHSV(r, g, b) {\n\t\tvar h = 0;\n\t\tvar h_ = 0;\n\t\tvar v = 0;\n\t\tvar s = 0;\n\t\t// hue\n\t\tvar M = Math.max(r, g, b);\n\t\tvar m = Math.min(r, g, b);\n\t\tvar c = M - m;\n\n\t\tif (M === r) h_ = ((g - b) / c) % 6;\n\t\telse if (M === g) h_ = ((b - r) / c) + 2;\n\t\telse h_ = ((r - g) / c) + 4;\n\n\t\th = ((Math.PI / 180) * 60) * h_;\n\n\t\t//value\n\t\tv = M;\n\n\t\t//saturation\n\t\ts = (c == 0) ? 0 : c / v;\n\n\t\treturn [h, s, v];\n\t}\n\n\tRGBtoHSL(r, g, b) {\n\t\tvar hsl = this.RGBtoHSV(r, g, b);\n\t\thsl[2] = (r * 0.3 + g * 0.59 + b * 0.11);\n\t\treturn hsl;\n\t}\n\n\tgetColor(x, y, width, height, type, mode, color_array) {\n\t\tvar color;\n\n\t\tmode = mode || this.draw_mode;\n\t\ttype = type || this.draw_type;\n\t\t//square types\n\n\t\tif (type === \"doughnut\" || type === \"wheel\") { //wheel or doughnut\n\t\t\t//vector from center to xy\n\t\t\tx = width * 0.5 - x;\n\t\t\ty = height * 0.5 - y;\n\n\t\t\t//normalize\n\t\t\tvar l = Math.sqrt(x * x + y * y); // l becomes a useful value\n\n\t\t\tx /= l;\n\t\t\ty /= l;\n\t\t\tl /= width * 0.5; //now even more useful\n\n\t\t\tif (l > 0.95) { // discard points outside and inside circle\n\t\t\t\tthis.r = 0;\n\t\t\t\tthis.g = 0;\n\t\t\t\tthis.b = 0;\n\t\t\t\tthis.a = 0;\n\t\t\t\treturn this;\n\t\t\t} else {\n\t\t\t\t//calculate angle and convert degrees\n\t\t\t\tvar angle = ((Math.atan2(0, 1) - Math.atan2(y, x)) * 180 / Math.PI) + 180;\n\t\t\t\tif (type === \"doughnut\") {\n\t\t\t\t\tif (mode == \"hsl\") {\n\t\t\t\t\t\tcolor = this.HSLtoRGB(angle, this.saturation, (1 - (l * 2.5 - 1.5)));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolor = this.HSVtoRGB(angle, this.saturation, (1 - (l * 2.5 - 1.5)));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (mode == \"hsl\") {\n\t\t\t\t\t\tcolor = this.HSLtoRGB(angle, this.saturation, (1 - l));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolor = this.HSVtoRGB(angle, this.saturation, l);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else { //square\n\t\t\tif (mode === \"hsl\") {\n\t\t\t\tcolor = this.HSLtoRGB(x / width * 360, this.saturation, 1 - y / height);\n\t\t\t} else {\n\t\t\t\tcolor = this.HSVtoRGB(x / width * 360, this.saturation, 1 - y / height);\n\t\t\t}\n\t\t}\n\n\t\tif(!color_array){\n\t\t\tthis.r = (color[0] | 0);\n\t\t\tthis.g = (color[1] | 0);\n\t\t\tthis.b = (color[2] | 0);\n\t\t\tthis.a = this.alpha;\n\t\t}\n\n\t\treturn this;\n\t}\n}","import { Presets } from \"@candlefw/wick\";\r\n\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\nimport { FlameScheme } from \"./scheme\";\r\n\r\n//Text Editing\r\nimport { TextFramework, TextIO } from \"@candlefw/charcoal\";\r\n\r\nimport { ColorFramework } from \"../color/color_framework\";\r\n\r\nimport { FileBuilder } from \"./file_builder.mjs\";\r\nimport { FileReader } from \"./file_reader.mjs\";\r\n\r\n/**\r\n    Spark is used to issue timed callback for scheduled auto saving.\r\n*/\r\nimport spark from \"@candlefw/spark\";\r\n\r\n/**\r\n * @brief Stores data for the current project. Handles the global saving and importation of data. \r\n * @details The project object is the primary store of user data and preferences. \r\n * It also provides the hosting of the presets object for wick components, and the interface components for user tools. \r\n * The flame_data model stored is the main linking object for handling UI updates from actions performed through UI components.  \r\n */\r\nexport class Project {\r\n\r\n    constructor(system) {\r\n\r\n        this.system = system;     \r\n        this.flame_data = null;\r\n        this.presets = null;\r\n\r\n        this.setPresets();\r\n        this.setDefaults();\r\n    }\r\n\r\n    /**\r\n     * @brief Applies system defaults.\r\n     */\r\n    setPresets(){\r\n\r\n        const system = this.system;\r\n\r\n        this.flame_data = new FlameScheme();\r\n        \r\n        this.presets = new Presets({\r\n            models: {\r\n                flame: this.flame_data,\r\n                settings: this.flame_data.settings,\r\n            },\r\n            custom: {\r\n                actions: system.actions,\r\n                ui: system.ui,\r\n                classes: {\r\n                    textio: TextIO,\r\n                    textfw: TextFramework,\r\n                    coloredit: ColorFramework\r\n                },\r\n                system\r\n            }\r\n        });\r\n\r\n        this.preferences.auto_save_interval = 0;\r\n        this.preferences.working_directory = system.cwd;\r\n        this.preferences.proj_data_directory = system.cwd;\r\n        this.preferences.temp_directory = system.cwd;\r\n        this.preferences.name = \"unnamed\";\r\n\r\n        this.scheduleAutoSave();\r\n    }\r\n\r\n    reset() {\r\n        this.setPresets();\r\n        this.setDefaults();\r\n        this.system.ui.reset();\r\n        this.system.docs.reset();\r\n        this.system.history.reset();\r\n    }\r\n\r\n    scheduledUpdate(frame_time, time_since_last){\r\n        this.save(path.resolve(this.preferences.proj_data_directory, this.preferences.name + \".fpd\"));   \r\n        this.scheduleAutoSave();\r\n    }\r\n\r\n    scheduleAutoSave(){\r\n        spark.removeFromQueue(this);\r\n\r\n        if(this.preferences.auto_save_interval < 1)\r\n            return;\r\n        //return;\r\n        spark.queueUpdate(this, this.preferences.auto_save_interval * 1000 /* interval in milliseconds */ );\r\n    }\r\n\r\n    loadUIComponents(dir) {\r\n\r\n        if(this.system.TEST_MODE) \r\n            return;\r\n        \r\n\r\n        fs.readdir(dir, (e, d) => {\r\n            if (e)\r\n                return console.error(`Could not load UI components: ${e}`);\r\n\r\n            d.forEach((fn) => {\r\n                if (path.extname(fn) == \".html\") {\r\n                    this.system.ui.addComponent(([dir, fn]).join(\"/\"));\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    setDefaults() {\r\n        this.preferences.auto_save_interval = 0;\r\n\r\n        this.meta.creation_date = Date.now();\r\n        this.defaults.component.width = 360;\r\n        this.defaults.component.height = 920;\r\n        this.components.move_type = \"relative\";\r\n        this.components.KEEP_UNIQUE = true;\r\n\r\n        this.loadUIComponents(path.join(process.cwd(), \"./assets/ui_components\"));\r\n    }\r\n\r\n    get meta(){\r\n        return this.flame_data.meta;\r\n    }\r\n    get preferences(){\r\n        return this.flame_data.preferences;\r\n    }\r\n    get defaults(){\r\n        return this.flame_data.defaults;\r\n    }\r\n    get components(){\r\n        return this.flame_data.components;\r\n    }\r\n\r\n    importUIComponent(component) {\r\n        this.system.iu.addUIComponent(component);\r\n    }\r\n    /****************************************************               ******************************************************************************/\r\n    /**************************************************** FILE HANDLING ******************************************************************************/\r\n    /****************************************************               ******************************************************************************/\r\n\r\n    /**\r\n        Save to original location - saves files to original locations, overwriting if necessary. Can be set on a per doc basis. \r\n        Save to output dir - saves files to output directory, matching the folder structure relative to current working directory. \r\n            if a file was imported outside the CWD, the file will be placed at the root of the output dir.\r\n        Save checkpoint - saves file to project fifle at regular intervals. This causes a new file to be created every time a file is save. It will reference the old files history to preserve state history. \r\n        Backup docs - saves documents to project file. Default if Save original or Save output are both false/unset. The is overrides save checkpoint \r\n        Save history - saves the history of the curent data.\r\n    **/\r\n\r\n    async load(file_path = this.file_path, call_back = null) {\r\n\r\n        let file_reader;\r\n\r\n        if (file_path instanceof FileReader)\r\n            file_reader = file_path;\r\n        else\r\n            file_reader = new FileReader(file_path);\r\n\r\n        const stamp = await this.readFileStamp(file_reader);\r\n\r\n        if (stamp.title !== \"CF\")\r\n            throw new Error(`File ${file_path} is not recognized as an *.fpd file.`);\r\n\r\n        const ui = await file_reader.readS(stamp.ui_size);\r\n\r\n        if (stamp.flags & 2) {\r\n            const data = await file_reader.readS(stamp.doc_size);\r\n            this.system.docs.load(data);\r\n        }\r\n        this.system.ui.load(ui);\r\n\r\n        const project_data = await file_reader.readS(stamp.project_size);\r\n\r\n        this.flame_data.set(JSON.parse(project_data));\r\n\r\n        await this.system.history.load(file_reader, stamp.history_size);\r\n\r\n        if (call_back)\r\n            call_back();\r\n    }\r\n\r\n    /** \r\n        Saves all components, history, and settings to the project file. \r\n        May also save current documents if user settings permit.  \r\n    **/\r\n    async save(file_path = this.file_path, call_back = null) {\r\n\r\n        let file_builder;\r\n\r\n        if (file_path instanceof FileBuilder)\r\n            file_builder = file_path;\r\n        else\r\n            file_builder = new FileBuilder(file_path);\r\n\r\n        //64byte header.\r\n        file_builder.offset = 64;\r\n\r\n        let ui_size = 0,\r\n            docs_size = 0,\r\n            setting_size = 0,\r\n            history_size = 0;\r\n\r\n        ui_size = await this.saveUI(file_builder);\r\n\r\n        if (this.preferences.bundle_files)\r\n            docs_size = await this.saveDocuments(file_builder);\r\n        else if (this.preferences.export_file_dir)\r\n            this.system.docs.save(null/*, export_file_dir*/);\r\n        else    \r\n            this.system.docs.save();\r\n\r\n        //Save Project Properties\r\n        setting_size = await this.saveProperties(file_builder);\r\n        //May create some leading here.\r\n\r\n        //State History\r\n        history_size = await this.saveCheckpoint(file_builder);\r\n\r\n        //May create some leading here.\r\n\r\n        //await file_builder.writeWord(8,ui_size); //gives offset to docs\r\n        await this.writefileStamp(file_builder, ui_size, docs_size, setting_size, history_size);\r\n\r\n        file_builder.close();\r\n\r\n        if (file_builder.offset == 0)\r\n            throw new Error(\"Failed to write data to file.\");\r\n\r\n        if (call_back)\r\n            call_back(true);\r\n\r\n        return true;\r\n    }\r\n\r\n    /** \r\n        Saves current history to project file. \r\n    **/\r\n    async saveUI(file_builder) {\r\n        const off = file_builder.offset;\r\n        return await this.system.ui.save(file_builder) - off;\r\n    }\r\n\r\n    async saveCheckpoint(file_builder) {\r\n        const off = file_builder.offset;\r\n        return await this.system.history.save(file_builder) - off;\r\n    }\r\n\r\n    async saveProperties(file_builder) {\r\n        const off = file_builder.offset;\r\n        return await file_builder.writeS(this.flame_data.toJSON()) - off;\r\n    }\r\n\r\n    async saveDocuments(file_builder) {\r\n        const off = file_builder.offset;\r\n        return await this.system.docs.save(file_builder) - off;\r\n    }\r\n\r\n    async writefileStamp(file_builder, ui_size = 0, doc_size = 0, project_size = 0, history_size = 0) {\r\n        const stamp = new Uint32Array(16),\r\n            entry_flags = ((ui_size > 0) | 0) |\r\n            (((doc_size > 0) | 0) << 1) |\r\n            (((project_size > 0) | 0) << 2) |\r\n            (((history_size > 0) | 0) << 3);\r\n\r\n        //Document info, time stamp, entries\r\n        stamp[0] = ((this.system.version & 0xFFFF) << 16) | ((\"F\").charCodeAt(0)) << 8 | ((\"C\").charCodeAt(0)); /*CF*/\r\n        stamp[1] = entry_flags;\r\n        stamp[2] = ui_size;\r\n        stamp[3] = doc_size;\r\n        stamp[4] = project_size;\r\n        stamp[5] = history_size;\r\n\r\n        return await file_builder.writeB(stamp, 0, false);\r\n    }\r\n\r\n    async readFileStamp(file_reader) {\r\n        const stamp = await file_reader.readB(Uint32Array, 64);\r\n\r\n        const d = stamp[0],\r\n            version = (d >> 16) & 0xFFFF,\r\n            title = String.fromCharCode(d & 0xFF) + String.fromCharCode((d >> 8) & 0xFF);\r\n\r\n        const\r\n            flags = stamp[1],\r\n            ui_size = stamp[2],\r\n            doc_size = stamp[3],\r\n            project_size = stamp[4],\r\n            history_size = stamp[5];\r\n\r\n        return {\r\n            title,\r\n            version,\r\n            flags,\r\n            ui_size,\r\n            doc_size,\r\n            project_size,\r\n            history_size\r\n        };\r\n    }\r\n}\r\n","/*\n    Every action should be able to be saved to file. This means that only primitive information should be stored\n    in an action object, and should not contain references to complex objects (anything that is not an array of prims, or an array that contains arrays of prims.)\n*/\n\nimport ll from \"@candlefw/ll\";\n\nclass State {\n\n    constructor(id = 0) {\n        this._id = id;\n        this.actions = [];\n        this.progression = 0; //Used to determin which branch to go to when advancing.\n    }\n\n    toJSON() {\n        \n        const str = { a: this.actions, p: this.progression, b: [] },\n            root = this.fch;\n        \n        let node = this.fch;\n        \n        if(this.fch)\n        do {\n            str.b.push(node.toJSON());\n        } while ((node = node.next) !== root);\n\n        return str;\n    }\n\n    fromJSON(node) {\n\n        this.actions = node.a;\n\n        const branches = node.b;\n\n        for (let i = 0; i < branches.length; i++) {\n            let s = new State();\n            this.push(s);\n            s.fromJSON(branches[i]);\n        }\n    }\n\n    addAction(action){\n\n        if(action.type)\n            this.actions.push(action);\n    }\n\n    get id(){\n\n        const id = this._id + \"\";\n        return (this.par) ? `${this.par.id}:${id}` : id;\n    }\n}\n\nll.mixinTree(State);\n\n\n/** \n    Methods of creating and managing state trees. \n*/\nexport class StateMachine {\n\n    constructor(system) {\n        this.system = system;\n        this.active_state = new State();\n        this.root_state = this.active_state;\n    }\n\n    reset(){\n        this.active_state = new State();\n        this.root_state = this.active_state;\n    }\n\n    //Stores history as an array of reversable actions.\n    addAction(action) {\n        \n        if (this.active_state.fch) \n            this.seal();\n        \n        this.active_state.addAction(action);\n    }\n\n    seal() {\n\n        const   id = this.active_state.children.length,\n                state = new State(id);\n\n        this.active_state.addChild(state);\n\n        this.active_state.progression = id;\n\n        this.active_state = state;\n    }\n\n    /**\n        Plays the current state's redo methods then advances to the next state. Does nothing if there is no state to advance to.\n    **/\n    redo() {\n        \n        let next = this.active_state.children[this.active_state.progression];\n        \n        if (next) {\n\n            let actions = this.active_state.actions;\n\n            for (let i = 0; i < actions.length; i++) {\n                \n                let action = actions[i];\n\n                switch (action.type) {\n                    case \"doc\":\n                        this.system.docs.redo(action);\n                        break;\n                }\n            }\n\n            this.active_state = next;\n        }\n    }\n\n    /**\n        Degresses to the previous state and then plays that state's undo method. Does nothing if there is no state to sfallback to.\n    **/\n    undo() {\n\n        const prev = this.active_state.par;\n\n        if (prev) {\n\n            const actions = prev.actions;\n\n            for (let i = 0; i < actions.length; i++) {\n                \n                const action = actions[i];\n\n                switch (action.type) {\n                    case \"doc\":\n                        this.system.docs.undo(action);\n                        break; \n                }\n            }\n\n            this.active_state = prev;\n        }\n    }\n\n    async save(file_builder){ \n        const data = {state: this.active_state.id, states: this.root_state.toJSON()};\n        \n        return await file_builder.writeS(JSON.stringify(data));   \n    }\n\n    async load(file_reader, size){\n        const data = await file_reader.readS(size);\n\n        const history = JSON.parse(data);\n\n        this.root_state.fromJSON(history.states);\n\n        const state_id = history.state.split(/:/g).map(n=>parseInt(n));\n\n        let node = this.root_state;\n\n        for(let i = 1; i < state_id.length; i++)\n            node = node.children[state_id[i]];\n\n        this.active_state = node;\n    }\n}","HTMLElement.prototype.wick_node = null;\r\n\r\nimport { TextFramework, TextIO } from \"@candlefw/charcoal\";\r\n//Amend the prototype of the HTML\r\n\r\nimport { UI_Manager } from \"./interface/ui_manager\";\r\nimport { JSManager } from \"./js/js_manager\";\r\n\r\n//CSS\r\nimport { CSSManager } from \"./css/css_manager\";\r\nimport { CSSRule } from \"./css/wick_css_nodes.mjs\";\r\n\r\n//HTML\r\nimport { HTMLManager } from \"./html/html_manager\";\r\nimport { DocumentManager } from \"./document/doc_manager.mjs\";\r\n\r\n//SOURCE\r\nimport { Source } from \"./source/source.mjs\";\r\n\r\n//COMPILER NODES\r\nimport { RootNode } from \"./wick_compiler_nodes/root.mjs\";\r\nimport { SVGNode } from \"./wick_compiler_nodes/svg.mjs\";\r\nimport { StyleNode } from \"./wick_compiler_nodes/style.mjs\";\r\nimport { RootText } from \"./wick_compiler_nodes/text.mjs\";\r\nimport { SourceNode } from \"./wick_compiler_nodes/source.mjs\";\r\nimport { SourceTemplateNode } from \"./wick_compiler_nodes/template.mjs\";\r\nimport { PackageNode } from \"./wick_compiler_nodes/package.mjs\";\r\nimport { ScriptNode } from \"./wick_compiler_nodes/script.mjs\";\r\n\r\n//Poject system\r\nimport { Project } from \"./project/project.mjs\";\r\nimport { StateMachine } from \"./project/state_machine.mjs\";\r\n\r\n//Actions \r\nimport { actions } from \"./interface/actions/action.mjs\";\r\n\r\n//Presets\r\nimport { Presets } from \"@candlefw/wick\";\r\n\r\nconst env = require('electron').remote.process.env;\r\nconst DEV = (env.FLAME_DEV) ? !!env.FLAME_DEV.includes(\"true\") : false;\r\nconst TEST = (env.FLAME_TEST) ? !!env.FLAME_TEST.includes(\"true\") : false;\r\n\r\nclass System {\r\n    constructor() {\r\n        this.TEST_MODE = TEST;\r\n        this.docs = new DocumentManager(this);\r\n        this.css = new CSSManager(this.docs);\r\n        this.html = new HTMLManager(this.docs);\r\n        this.mjs = new JSManager(this.docs);\r\n        this.presets = new Presets();\r\n        this.actions = actions;\r\n        this.history = new StateMachine(this);\r\n        this.project = new Project(this);\r\n    }\r\n}\r\n\r\n/**\r\n * @brief Flame exposed object.  \r\n * @details Contains methods necessary to start a flame session.\r\n * @return Object\r\n */\r\nconst flame = {\r\n    init: () => {\r\n\r\n        //Get testing and development flags. \r\n        if (TEST) require(\"chai\").should();\r\n\r\n        const system = new System();\r\n\r\n        StyleNode.prototype.flame_system = system;\r\n\r\n        //connect to the ui_group element\r\n        const ui_group = document.querySelector(\"#ui_group\");\r\n        const view_group = document.querySelector(\"#main_view\");\r\n\r\n        if (!ui_group)\r\n            throw new Error(\"`ui_group` element not found in document! Aborting startup.\");\r\n\r\n        system.ui = new UI_Manager(ui_group, view_group, system);\r\n\r\n        if (DEV && !TEST) {\r\n            //Load in the development component.\r\n            let path = require(\"path\").join(process.cwd(), \"assets/components/test.html\");\r\n            let doc = system.docs.get(system.docs.loadFile(path));\r\n            actions.CREATE_COMPONENT(system, doc, 200, 200);\r\n            window.flame = flame;\r\n        } else if (TEST) {\r\n            //Load in HTML test runner\r\n            const test_iframe = document.createElement(\"iframe\");\r\n            test_iframe.src = \"../../test/chromium/test.html\";\r\n\r\n            test_iframe.width = \"100%\";\r\n            test_iframe.height = \"100%\";\r\n\r\n            test_iframe.style.position = \"absolute\";\r\n            test_iframe.style.left = 0;\r\n            test_iframe.style.top = 0;\r\n            test_iframe.style.zIndex = 100000; // Keep on top\r\n            test_iframe.style.backgroundColor = \"rgba(255,255,255,0.90)\"\r\n            test_iframe.style.border = \"solid 1px black\";\r\n            test_iframe.style.borderRadius = \"5px\";\r\n\r\n            document.body.appendChild(test_iframe);\r\n\r\n            test_iframe.onload = (e) => {\r\n                test_iframe.contentWindow.require = require;\r\n                test_iframe.contentWindow.fs = require(\"fs\");\r\n                test_iframe.contentWindow.path = require(\"path\");\r\n                test_iframe.contentWindow.run(system, require(\"chai\"));\r\n            };\r\n        }\r\n\r\n        //Connect to server or local file system and load projects\r\n        //Check to see if there recently worked on project to open. \r\n        //Load Poject.\r\n        //If user preference allows, open the Splash screen modal. \r\n    },\r\n\r\n    //Initialize a text editor on element\r\n    initEditor(element) {\r\n\r\n        let fw = new TextFramework();\r\n        let io = new TextIO(element);\r\n\r\n        io.fw = fw;\r\n\r\n        element.addEventListener(\"mouseup\", e => io.onMouseUp(e));\r\n        element.addEventListener(\"keypress\", e => io.onKeyPress(e));\r\n        element.addEventListener(\"keydown\", e => io.onKeyDown(e));\r\n        element.addEventListener(\"wheel\", e => io.onMouseWheel(e));\r\n\r\n        return { fw, io };\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nexport default flame;\r\n\r\n/* Interface files */\r\n//Project Direcctory\r\n"],"names":["e","x","y","t","n","l","c","s","v","whind","DL_CHAR","k","TEXT_FONT","path","types","d","R","S","ll","css","number","string","TEXT","URL","HTML","EVENT","VoidNode","ScriptNode","SourceNode","LinkNode","CSS_Length","CSS_Percentage","CSS_Color","CSS_Transform2D","CSS_Path","Spark","SourceTemplateNode","StyleNode","model","Compiler","wick","Path","proto","FileReader","source","Lexer"],"mappings":"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ACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,EAAE;AACF,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,EAAE;AACF,CAAC;AACD,CAAC;CACA,CAAC;;;;;;;;;;AAUF,AAAO,MAAM,2BAA2B,GAAG;AAC3C,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD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"}