<w-s model="settings" #menu="main" export="load" element="div" class="flame_ui_panel">
	
	<div badge="icon" class="menu_item" onclick="((load)(`test`))" onpointerup="((load)(`test`))" style="display: none">
		HTML
	</div>

	<div badge="data" id="text_container"
		onmouseup="((mouseup)())"
		onkeypress="((keypress)())"
		onkeydown="((keydown)())"
		tabindex=1 
	></div>

	<script on=((created))>
		this.fw = new presets.custom.classes.textfw();
		this.io = new presets.custom.classes.textio(this.badges.data);
		this.io.fw = this.fw;
	</script>

	<script on=((target)) >
		this.wick_element = target.element.wick_node; 
		this.fw.clearContents();
		this.fw.insertText(target.element.wick_node + "");
		this.fw.updateText();
		this.io.render();
		emit("data", target.element.wick_node + "");
	</script>

	<script on=((change))>
		this.wick_element.reparse(change).then(n=>this.wick_element = n);
	</script>

	<script on=((mouseup))>
		this.badges.data.focus();
		this.io.onMouseUp(event);
	</script>

	<script on=((keypress))>
		console.log("set")
		this.io.onKeyPress(event);
		emit.change = this.fw + "";
	</script>

	<script on=((keydown))>
		console.log("set")
		this.io.onKeyDown(event);
	</script>

	<style>
		.text_edit {
			top: 0;
		    right: 0;
		    bottom: 0;
		    left: 0;
		    background-color: rgba(255,0,0,1);
		    border:none;
		    font-size:12px;
		    /* Lazily forcing consistent spacing by disabling kerning and ligatures. */
		    font-variant-ligatures: none;
		    font-kerning: none;
		}

		.text_edit .small_scale_pre {
			display: inline;
		    position: absolute;
		    font-family: unset;
		    font-size: 100%;
		    margin: 0;
		    padding: 0px;
		}

		.txt_cursor {
			position: absolute;
			width:2px;
			height:12px;
			background-color:black;
		}
		#text_container{
			position: relative;
			font-size: 12px;
		}
	</style>
</w-s>