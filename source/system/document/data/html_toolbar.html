<scope class="main" export="move_action set_control"   style="width:100%;height:100%" element="div" >
	
	<textarea class="text" value=((component_info)(changed))></textarea>

	<script on=((changed))>
		env.ui.comp.active.element.wick_node.reparse(changed);
	</script>

	<script on=((widget))>

		component_info = env.ui.comp.active.element.wick_node.toString();

		const docs = env.data.docs;
		let d = [];
		
		for(const doc of docs.docs.values()){
			d.push(doc)
		}

		documents = d;
		
		const component = env.ui.comp.active.component;
		const element = env.ui.comp.active.element;

		if(element !== this.element && component.local_css && component.local_css[0]){
			
			const cs = component.local_css[0];

			if(this.ui){
				this.ui.destroy();
			}

			return;

			const stylesheet = new css.stylesheet();
			
			([...cs.getApplicableSelectors(element)].map(m => stylesheet.ruleset.rules.push(m.parent) ));

			this.ui = css.ui(stylesheet);

			this.ui.update();

			const ele = document.createElement("div");

			this.ui.mount(ele);

			css_out = ele;
			css_names = [{name:"top"},{name:"left"}];
		}

		this.element = element;
	</script>

	<style>
		.text{

			min-width:160px;
			min-height: 300px;
			margin: 20px
		}
		.main{
			position: relative;
			top:300px;
			left:0;
			background-color: white;
		}
	</style>
</scope>


